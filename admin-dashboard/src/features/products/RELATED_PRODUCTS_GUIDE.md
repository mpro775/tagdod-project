# ุฏููู ุงูููุชุฌุงุช ุงูุดุจููุฉ - ููุญุฉ ุงูุชุญูู

## ูุธุฑุฉ ุนุงูุฉ

ุชู ุฅุถุงูุฉ ููุฒุฉ ุงูููุชุฌุงุช ุงูุดุจููุฉ ูุจุงุดุฑุฉ ูู ูููุฐุฌ ุฅุถุงูุฉ/ุชุนุฏูู ุงูููุชุฌุ ููุง ูุณูู ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช ุงููุดุงุจูุฉ ุจุดูู ุจุณูุท ููุจุงุดุฑ.

## ุงููููุงุช ุงููุถุงูุฉ/ุงููุนุฏูุฉ

### 1. **ุงูุฃููุงุน (Types)**
๐ `types/product.types.ts`

**ุงูุชุบููุฑุงุช:**
```typescript
// ุฅุถุงูุฉ relatedProducts ูู Product interface
relatedProducts?: string[]; // IDs of related products

// ุฅุถุงูุฉ relatedProducts ูู CreateProductDto
relatedProducts?: string[]; // Related product IDs

// ุฅุถุงูุฉ relatedProducts ูู UpdateProductDto
relatedProducts?: string[]; // Related product IDs
```

---

### 2. **API**
๐ `api/productsApi.ts`

**ุงูุฏูุงู ุงููุถุงูุฉ:**

#### `getRelatedProducts(productId, limit?)`
ุงูุญุตูู ุนูู ูุงุฆูุฉ ุงูููุชุฌุงุช ุงูุดุจููุฉ

```typescript
const products = await productsApi.getRelatedProducts('product-id', 10);
```

#### `updateRelatedProducts(productId, relatedProductIds)`
ุชุญุฏูุซ ุงูููุชุฌุงุช ุงูุดุจููุฉ (ุงุณุชุจุฏุงู ูุงูู)

```typescript
await productsApi.updateRelatedProducts('product-id', ['id1', 'id2', 'id3']);
```

#### `addRelatedProduct(productId, relatedProductId)`
ุฅุถุงูุฉ ููุชุฌ ุดุจูู ูุงุญุฏ

```typescript
await productsApi.addRelatedProduct('product-id', 'related-product-id');
```

#### `removeRelatedProduct(productId, relatedProductId)`
ุญุฐู ููุชุฌ ุดุจูู

```typescript
await productsApi.removeRelatedProduct('product-id', 'related-product-id');
```

---

### 3. **ุงูููููุงุช (Components)**
๐ `components/RelatedProductsSelector.tsx`

**ูููู ุฌุฏูุฏ:** `<RelatedProductsSelector />`

**Props:**
```typescript
interface RelatedProductsSelectorProps {
  value: string[];                // IDs of selected products
  onChange: (productIds: string[]) => void;
  currentProductId?: string;      // To exclude current product
}
```

**ุงูููุฒุงุช:**
- โ Autocomplete ูุน ุจุญุซ
- โ Multi-select (ุงุฎุชูุงุฑ ูุชุนุฏุฏ)
- โ ุนุฑุถ ุงูุฃุณูุงุก ุจุงูุนุฑุจู ูุงูุฅูุฌููุฒู
- โ ุนุฑุถ ุงููุฆุฉ
- โ Preview ููููุชุฌุงุช ุงููุญุฏุฏุฉ
- โ ุงุณุชุจุนุงุฏ ุงูููุชุฌ ุงูุญุงูู ุชููุงุฆูุงู
- โ ุชุญููู ุงูููุชุฌุงุช ุงููุดุทุฉ ููุท
- โ Loading state
- โ Error handling

**ุงูุงุณุชุฎุฏุงู:**
```tsx
<RelatedProductsSelector
  value={relatedProducts}
  onChange={setRelatedProducts}
  currentProductId={isEditMode ? id : undefined}
/>
```

---

### 4. **ุงูุตูุญุงุช (Pages)**
๐ `pages/ProductFormPage.tsx`

**ุงูุชุญุฏูุซุงุช:**

#### State ุฌุฏูุฏ:
```typescript
const [relatedProducts, setRelatedProducts] = useState<string[]>([]);
```

#### ุชุญููู ุงูุจูุงูุงุช ูู ูุถุน ุงูุชุนุฏูู:
```typescript
useEffect(() => {
  if (isEditMode && product) {
    setRelatedProducts(product.relatedProducts || []);
  }
}, [product, isEditMode]);
```

#### ุฅุฑุณุงู ุงูุจูุงูุงุช:
```typescript
const productData: CreateProductDto = {
  // ... other fields
  relatedProducts: relatedProducts,
};
```

#### ุนุฑุถ ุงููููู ูู ุงูููุฑู:
ูุชู ุนุฑุถ ูุณู ุงูููุชุฌุงุช ุงูุดุจููุฉ ุจุนุฏ ูุณู ุงูุดุงุฑุงุช ููุจู ูุณู ุงูุณุนุฑ ูุงููููุฉ ุงูุงูุชุฑุงุถูุฉ.

---

## ููููุฉ ุงูุงุณุชุฎุฏุงู

### 1. ุฅุถุงูุฉ ููุชุฌ ุฌุฏูุฏ ูุน ููุชุฌุงุช ุดุจููุฉ

1. ุงูุชุญ ุตูุญุฉ ุฅุถุงูุฉ ููุชุฌ ุฌุฏูุฏ
2. ุงููุฃ ุงููุนูููุงุช ุงูุฃุณุงุณูุฉ (ุงูุงุณูุ ุงููุตูุ ุงููุฆุฉุ ุฅูุฎ)
3. ูู ูุณู **"ุงูููุชุฌุงุช ุงูุดุจููุฉ"**:
   - ุงุจุญุซ ุนู ููุชุฌ ุจุงุณุชุฎุฏุงู Autocomplete
   - ุงุฎุชุฑ ุงูููุชุฌุงุช ุงููุดุงุจูุฉ (ูููู ุงุฎุชูุงุฑ ุฃูุซุฑ ูู ููุชุฌ)
   - ุณุชุธูุฑ ุงูููุชุฌุงุช ุงููุญุฏุฏุฉ ูู Preview ุจุงูุฃุณูู
4. ุงุถุบุท **ุญูุธ**

### 2. ุชุนุฏูู ููุชุฌ ููุฌูุฏ ูุฅุถุงูุฉ ููุชุฌุงุช ุดุจููุฉ

1. ุงูุชุญ ุตูุญุฉ ุชุนุฏูู ุงูููุชุฌ
2. ุงูุชูู ุฅูู ูุณู **"ุงูููุชุฌุงุช ุงูุดุจููุฉ"**
3. ุณุชุธูุฑ ุงูููุชุฌุงุช ุงูุดุจููุฉ ุงูุญุงููุฉ (ุฅู ูุฌุฏุช)
4. ููููู:
   - ุฅุถุงูุฉ ููุชุฌุงุช ุฌุฏูุฏุฉ
   - ุญุฐู ููุชุฌุงุช ููุฌูุฏุฉ (ุนู ุทุฑูู ุงูุถุบุท ุนูู X ูู Chip)
   - ุงุณุชุจุฏุงู ูู ุงูููุชุฌุงุช
5. ุงุถุบุท **ุญูุธ**

### 3. ุฅุฒุงูุฉ ูู ุงูููุชุฌุงุช ุงูุดุจููุฉ

1. ุงูุชุญ ุตูุญุฉ ุชุนุฏูู ุงูููุชุฌ
2. ูู ูุณู ุงูููุชุฌุงุช ุงูุดุจููุฉุ ุงุญุฐู ุฌููุน ุงูู Chips
3. ุงุถุบุท **ุญูุธ**

---

## ูุซุงู ุนููู

### ุงูุณููุงุฑูู: ุฅุถุงูุฉ ููุชุฌุงุช ุดุจููุฉ ูู "ููุญุฉ ุดูุณูุฉ 300W"

```
ุงูููุชุฌ ุงูุฃุณุงุณู: ููุญุฉ ุดูุณูุฉ 300W

ุงูููุชุฌุงุช ุงูุดุจููุฉ ุงูููุชุฑุญุฉ:
1. ููุญุฉ ุดูุณูุฉ 400W
2. ููุญุฉ ุดูุณูุฉ 250W  
3. ููุธู ุดุญู ุดูุณู 40A
4. ุจุทุงุฑูุฉ ุดูุณูุฉ 200Ah
```

**ุงูุฎุทูุงุช:**
1. ุงูุชุญ ุชุนุฏูู "ููุญุฉ ุดูุณูุฉ 300W"
2. ูู ูุณู ุงูููุชุฌุงุช ุงูุดุจููุฉ:
   - ุงุจุญุซ ุนู "ููุญุฉ ุดูุณูุฉ 400W" ูุงุฎุชุฑู
   - ุงุจุญุซ ุนู "ููุญุฉ ุดูุณูุฉ 250W" ูุงุฎุชุฑู
   - ุงุจุญุซ ุนู "ููุธู ุดุญู" ูุงุฎุชุฑ "ููุธู ุดุญู ุดูุณู 40A"
   - ุงุจุญุซ ุนู "ุจุทุงุฑูุฉ" ูุงุฎุชุฑ "ุจุทุงุฑูุฉ ุดูุณูุฉ 200Ah"
3. ุงุถุบุท ุญูุธ

**ุงููุชูุฌุฉ:**
ุนูุฏ ุฒูุงุฑุฉ ุตูุญุฉ ุชูุงุตูู "ููุญุฉ ุดูุณูุฉ 300W" ูู ุงูุชุทุจููุ ุณูุชู ุนุฑุถ ูุฐู ุงูููุชุฌุงุช ุงูุฃุฑุจุนุฉ ูู ูุณู "ููุชุฌุงุช ูุดุงุจูุฉ".

---

## ุงููููุฒุงุช

### โ ุณูููุฉ ุงูุงุณุชุฎุฏุงู
- ูุณู ูุงุญุฏ ูู ูููุฐุฌ ุงูููุชุฌ
- ูุง ุญุงุฌุฉ ูุตูุญุฉ ูููุตูุฉ
- Autocomplete ุณูู ูุณุฑูุน

### โ ุงูุจุญุซ ุงูุฐูู
- ุจุญุซ ุจุงูุงุณู ุงูุนุฑุจู
- ุจุญุซ ุจุงูุงุณู ุงูุฅูุฌููุฒู
- ุนุฑุถ ุงููุฆุฉ ููุชูุถูุญ

### โ ููุน ุงูุฃุฎุทุงุก
- ูุง ูููู ุฅุถุงูุฉ ุงูููุชุฌ ูููุณู (ูุชู ุงุณุชุจุนุงุฏู ุชููุงุฆูุงู)
- ูุง ูููู ุฅุถุงูุฉ ููุณ ุงูููุชุฌ ูุฑุชูู
- ุชุญููู ุงูููุชุฌุงุช ุงููุดุทุฉ ููุท

### โ ุชุฌุฑุจุฉ ูุณุชุฎุฏู ููุชุงุฒุฉ
- Loading state ุนูุฏ ุงูุชุญููู
- Error handling ุนูุฏ ุงููุดู
- Preview ููููุชุฌุงุช ุงููุญุฏุฏุฉ
- Chips ููููุฉ ููุงุถุญุฉ

---

## ุงูุงุชุตุงู ุจุงูู Backend

ูุชู ุญูุธ ุงูููุชุฌุงุช ุงูุดุจููุฉ ุชููุงุฆูุงู ุนูุฏ ุญูุธ ุงูููุชุฌ:

### ุนูุฏ ุฅูุดุงุก ููุชุฌ ุฌุฏูุฏ:
```http
POST /admin/products
{
  "name": "...",
  "nameEn": "...",
  "relatedProducts": ["id1", "id2", "id3"],
  ...
}
```

### ุนูุฏ ุชุญุฏูุซ ููุชุฌ:
```http
PATCH /admin/products/:id
{
  "relatedProducts": ["id1", "id2", "id3"],
  ...
}
```

---

## ูุตุงุฆุญ ูุฃูุถู ุงูููุงุฑุณุงุช

### ๐ ุนุฏุฏ ุงูููุชุฌุงุช ุงูุดุจููุฉ
- **ุงูููุชุฑุญ:** 4-8 ููุชุฌุงุช
- **ุงูุญุฏ ุงูุฃูุตู:** 15 ููุชุฌ
- **ุงูุณุจุจ:** ุงูุชุทุจูู ูุนุฑุถ ููุท 10 ููุชุฌุงุช ุจุดูู ุงูุชุฑุงุถู

### ๐ ุงุฎุชูุงุฑ ุงูููุชุฌุงุช ุงูููุงุณุจุฉ
1. **ููุชุฌุงุช ูู ููุณ ุงููุฆุฉ:** ููุญุงุช ุดูุณูุฉ ูุฎุชููุฉ ุงููุฏุฑุฉ
2. **ููุชุฌุงุช ููููุฉ:** ุจุทุงุฑูุงุชุ ููุธูุงุชุ ูุงุจูุงุช
3. **ููุชุฌุงุช ุจุฏููุฉ:** ููุณ ุงูููุชุฌ ุจููุงุตูุงุช ูุฎุชููุฉ
4. **ููุชุฌุงุช ุฐุงุช ุนูุงูุฉ:** ุฅูุณุณูุงุฑุงุชุ ุฃุฏูุงุช ุชุฑููุจ

### ๐ ุชุญุฏูุซ ุฏูุฑู
- ุฑุงุฌุน ุงูููุชุฌุงุช ุงูุดุจููุฉ ุจุดูู ุฏูุฑู
- ุงุญุฐู ุงูููุชุฌุงุช ุบูุฑ ุงููุชููุฑุฉ
- ุฃุถู ุงูููุชุฌุงุช ุงูุฌุฏูุฏุฉ ุฐุงุช ุงูุตูุฉ

---

## ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### โ ูุง ุชุธูุฑ ุงูููุชุฌุงุช ูู ุงููุงุฆูุฉ
**ุงูุญู:**
- ุชุฃูุฏ ูู ุฃู ุงูููุชุฌุงุช ููุดูุฑุฉ (status: active)
- ุชุฃูุฏ ูู ุงูุงุชุตุงู ุจุงูู Backend
- ุงูุชุญ Console ููุชุญูู ูู ุงูุฃุฎุทุงุก

### โ ูุง ูุชู ุญูุธ ุงูููุชุฌุงุช ุงูุดุจููุฉ
**ุงูุญู:**
- ุชุฃูุฏ ูู ุงูุถุบุท ุนูู ุฒุฑ "ุญูุธ"
- ุชุญูู ูู Console ููุฃุฎุทุงุก
- ุชุฃูุฏ ูู ุตูุงุญูุงุช ุงูุฃุฏูู

### โ ูุง ุชุธูุฑ ุงูููุชุฌุงุช ุงููุญุฏุฏุฉ ุณุงุจูุงู
**ุงูุญู:**
- ุงูุชุธุฑ ููููุงู ุญุชู ูุชู ุชุญููู ุงูุจูุงูุงุช
- ุชุญุฏูุซ ุงูุตูุญุฉ
- ุงูุชุญูู ูู ุฃู ุงูููุชุฌุงุช ูู ูุชู ุญุฐููุง

---

## ุงูุฅุตุฏุงุฑุงุช ุงููุงุฏูุฉ

### ๐ฎ ููุฒุงุช ููุชุฑุญุฉ:
- [ ] ุงูุชุฑุงุญุงุช ุชููุงุฆูุฉ ุจูุงุกู ุนูู ุงููุฆุฉ
- [ ] Drag & Drop ูุชุฑุชูุจ ุงูููุชุฌุงุช
- [ ] ุนุฑุถ ุตูุฑ ุงูููุชุฌุงุช ูู Autocomplete
- [ ] ููุชุฑุฉ ุญุณุจ ุงููุฆุฉ ุฃู ุงูุนูุงูุฉ ุงูุชุฌุงุฑูุฉ
- [ ] ุฅุญุตุงุฆูุงุช: ุฃูุซุฑ ุงูููุชุฌุงุช ุงูุดุจููุฉ ููุฑุงู
- [ ] ูุณุฎ ุงูููุชุฌุงุช ุงูุดุจููุฉ ูู ููุชุฌ ุขุฎุฑ

---

## ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู:
1. ุฑุงุฌุน ูุฐุง ุงูุฏููู
2. ุงูุญุต Console ููุฃุฎุทุงุก
3. ุชูุงุตู ูุน ูุฑูู ุงูุชุทููุฑ

---

**ุชุงุฑูุฎ ุงูุฅูุดุงุก:** 2025-10-27  
**ุงูุฅุตุฏุงุฑ:** 1.0.0  
**ุงูุญุงูุฉ:** โ ุฌุงูุฒ ููุงุณุชุฎุฏุงู

