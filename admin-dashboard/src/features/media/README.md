# ูุธุงู ุฅุฏุงุฑุฉ ุงูููุฏูุง (Media Management System)

ูุธุงู ุดุงูู ูุฅุฏุงุฑุฉ ุงููุณุงุฆุท ูุงููููุงุช ูุน ุชูุงูู ูุงูู ูุน Bunny CDN.

## ุงูููุฒุงุช

### ๐ฏ ุงูููุฒุงุช ุงูุฃุณุงุณูุฉ
- โ ุฑูุน ูููุงุช ูุชุนุฏุฏุฉ ุงูุฃููุงุน (ุตูุฑุ ููุฏูููุงุชุ ูุณุชูุฏุงุช)
- โ ุชูุงูู ูุน Bunny CDN ููุชุฎุฒูู ุงูุณุญุงุจู
- โ ุฅุฏุงุฑุฉ ุงููุฆุงุช ูุงููุณูู
- โ ุงูุจุญุซ ูุงูููุชุฑุฉ ุงููุชูุฏูุฉ
- โ ุนุฑุถ ุดุจูู ููุงุฆูุฉ
- โ ุฅุญุตุงุฆูุงุช ููุตูุฉ

### ๐ง ุงูููุฒุงุช ุงููุชูุฏูุฉ
- โ Soft Delete ูุน ุฅููุงููุฉ ุงูุงุณุชุนุงุฏุฉ
- โ ุฅุฏุงุฑุฉ ุงูุตูุงุญูุงุช (ุนุงู/ุฎุงุต)
- โ ุชุชุจุน ุงุณุชุฎุฏุงู ุงููููุงุช
- โ ูุนุงููุฉ ุงูุตูุฑ ูุจู ุงูุฑูุน
- โ ูุณุฎ ุงูุฑูุงุจุท ุจุณูููุฉ
- โ ุชุญุณูู ุงูุตูุฑ ุชููุงุฆูุงู
- โ **ูููู ุงุฎุชูุงุฑ ุงูุตูุฑ ูู ุงูููุชุจุฉ**
- โ **ูููู ุญูู ุงูุตูุฑุฉ ุงููุชูุงูู**
- โ **ุชูุงูู ูุน ููุงุฐุฌ ุงูููุชุฌุงุช ูุงููุฆุงุช ูุงูุจุฑุงูุฏุงุช ูุงูุจุงูุฑุงุช**

## ุงูุจููุฉ

```
src/features/media/
โโโ api/
โ   โโโ mediaApi.ts          # ุฎุฏูุงุช API
โโโ components/
โ   โโโ MediaUploader.tsx    # ูููู ุฑูุน ุงููููุงุช
โ   โโโ MediaListItem.tsx    # ูููู ุนุฑุถ ุงูููู ูู ุงููุงุฆูุฉ
โ   โโโ MediaPicker.tsx      # ูููู ุงุฎุชูุงุฑ ุงูุตูุฑ ูู ุงูููุชุจุฉ
โ   โโโ ImageField.tsx       # ูููู ุญูู ุงูุตูุฑุฉ ุงููุชูุงูู
โโโ hooks/
โ   โโโ useMedia.ts          # React Query hooks
โโโ pages/
โ   โโโ MediaLibraryPage.tsx # ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
โโโ types/
โ   โโโ media.types.ts       # ุฃููุงุน ุงูุจูุงูุงุช
โโโ index.ts                 # ุชุตุฏูุฑ ุงูููููุงุช
โโโ README.md               # ูุฐุง ุงูููู
```

## ุงูุงุณุชุฎุฏุงู

### 1. ุฑูุน ููู ุฌุฏูุฏ

```tsx
import { MediaUploader } from '@/features/media';

<MediaUploader
  open={uploadDialogOpen}
  onClose={() => setUploadDialogOpen(false)}
  onSuccess={() => refetch()}
/>
```

### 2. ุนุฑุถ ููุชุจุฉ ุงูููุฏูุง

```tsx
import { MediaLibraryPage } from '@/features/media';

// ูู ุงูุชูุฌูู
<Route path="/media" element={<MediaLibraryPage />} />
```

### 3. ุงุณุชุฎุฏุงู hooks

```tsx
import { useMedia, useUploadMedia } from '@/features/media';

// ุฌูุจ ูุงุฆูุฉ ุงููููุงุช
const { data, isLoading } = useMedia({
  page: 1,
  limit: 24,
  category: 'product',
  search: 'ุจุญุซ'
});

// ุฑูุน ููู
const { mutate: upload } = useUploadMedia();
upload({ file, data: { name, category, description } });
```

### 4. ุงุณุชุฎุฏุงู ูููู ุญูู ุงูุตูุฑุฉ

```tsx
import { ImageField } from '@/features/media';

<ImageField
  label="ุตูุฑุฉ ุงูููุชุฌ"
  value={selectedImage}
  onChange={(media) => setSelectedImage(media)}
  category="product"
  helperText="ููููู ุงุฎุชูุงุฑ ุตูุฑุฉ ูู ุงูููุชุจุฉ ุฃู ุฑูุน ุตูุฑุฉ ุฌุฏูุฏุฉ"
/>
```

### 5. ุงุณุชุฎุฏุงู ูููู ุงุฎุชูุงุฑ ุงูุตูุฑ

```tsx
import { MediaPicker } from '@/features/media';

<MediaPicker
  open={pickerOpen}
  onClose={() => setPickerOpen(false)}
  onSelect={(media) => setSelectedMedia(media)}
  category="product"
  title="ุงุฎุชูุงุฑ ุตูุฑุฉ ุงูููุชุฌ"
  acceptTypes={['image']}
/>
```

## ุงูุชูุงูู ูุน ุงูููุงุฐุฌ

ุชู ุชุญุฏูุซ ุฌููุน ุงูููุงุฐุฌ ูุงุณุชุฎุฏุงู ูููู `ImageField` ุจุฏูุงู ูู ุญููู ุฑุงุจุท ุงูุตูุฑุฉ ุงูุชูููุฏูุฉ:

### โ ุงูููุงุฐุฌ ุงููุญุฏุซุฉ:
- **ูููุฐุฌ ุงูููุชุฌุงุช**: ุญูู ุตูุฑุฉ ุงูููุชุฌ
- **ูููุฐุฌ ุงููุฆุงุช**: ุญูู ุตูุฑุฉ ุงููุฆุฉ  
- **ูููุฐุฌ ุงูุจุฑุงูุฏุงุช**: ุญูู ุดุนุงุฑ ุงูุจุฑุงูุฏ
- **ูููุฐุฌ ุงูุจุงูุฑุงุช**: ุญูู ุตูุฑุฉ ุงูุจุงูุฑ

### ๐ฏ ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ:
- **ุงุฎุชูุงุฑ ูู ุงูููุชุจุฉ**: ุชุตูุญ ูุงุฎุชูุงุฑ ุงูุตูุฑ ุงูููุฌูุฏุฉ
- **ุฑูุน ูุจุงุดุฑ**: ุฑูุน ุตูุฑ ุฌุฏูุฏุฉ ุฏูู ูุบุงุฏุฑุฉ ุงููููุฐุฌ
- **ูุนุงููุฉ ููุฑูุฉ**: ุนุฑุถ ุงูุตูุฑุฉ ุงููุฎุชุงุฑุฉ ูุจู ุงูุญูุธ
- **ุชุตููู ุชููุงุฆู**: ุชุตููู ุงูุตูุฑ ุญุณุจ ููุน ุงููููุฐุฌ
- **ุฅุฏุงุฑุฉ ุณููุฉ**: ุชุนุฏูู ุฃู ุญุฐู ุงูุตูุฑุฉ ุจุณูููุฉ

### ๐ก ูุซุงู ุนูู ุงูุงุณุชุฎุฏุงู:

```tsx
// ูู ูููุฐุฌ ุงูููุชุฌ
<ImageField
  label="ุตูุฑุฉ ุงูููุชุฌ"
  value={selectedImage}
  onChange={(media) => {
    setSelectedImage(media);
    methods.setValue('imageUrl', media?.url || '');
  }}
  category="product"
  helperText="ููููู ุงุฎุชูุงุฑ ุตูุฑุฉ ูู ุงูููุชุจุฉ ุฃู ุฑูุน ุตูุฑุฉ ุฌุฏูุฏุฉ"
/>
```

## ุฃููุงุน ุงููููุงุช ุงููุฏุนููุฉ

### ุงูุตูุฑ
- JPEG/JPG
- PNG
- GIF
- WebP

### ุงูููุฏูููุงุช
- MP4
- AVI
- MOV
- WebM

### ุงููุณุชูุฏุงุช
- PDF
- DOC/DOCX
- TXT

## ุงููุฆุงุช ุงููุชุงุญุฉ

- `product` - ููุชุฌุงุช
- `category` - ูุฆุงุช
- `brand` - ุจุฑุงูุฏุงุช
- `banner` - ุจุงูุฑุงุช
- `other` - ุฃุฎุฑู

## API Endpoints

### ุฑูุน ููู
```
POST /admin/media/upload
Content-Type: multipart/form-data
```

### ูุงุฆูุฉ ุงููููุงุช
```
GET /admin/media?page=1&limit=24&category=product&search=ุจุญุซ
```

### ุชุญุฏูุซ ููู
```
PATCH /admin/media/:id
```

### ุญุฐู ููู
```
DELETE /admin/media/:id
```

### ุงุณุชุนุงุฏุฉ ููู ูุญุฐูู
```
POST /admin/media/:id/restore
```

### ุฅุญุตุงุฆูุงุช
```
GET /admin/media/stats/summary
```

## ุงูุฅุนุฏุงุฏุงุช

### ูุชุบูุฑุงุช ุงูุจูุฆุฉ ุงููุทููุจุฉ
```env
BUNNY_STORAGE_ZONE=your-storage-zone-name
BUNNY_API_KEY=your-bunny-api-key
BUNNY_HOSTNAME=storage.bunnycdn.com
BUNNY_CDN_HOSTNAME=your-cdn-hostname.b-cdn.net
```

### ุญุฏูุฏ ุงููููุงุช
- ุงูุญุฏ ุงูุฃูุตู: 10MB ููู ููู
- ุงูุญุฏ ุงูุฃูุตู ูููููุงุช ุงููุชุนุฏุฏุฉ: 10 ูููุงุช

## ุงูุฃูุงู

- ุฌููุน ุงูุนูููุงุช ุชุชุทูุจ ูุตุงุฏูุฉ JWT
- ุงูุชุญูู ูู ุฃููุงุน ุงููููุงุช
- ุชูููุฏ ุฃุณูุงุก ูุฑูุฏุฉ ูููููุงุช
- Soft Delete ููุญูุงูุฉ ูู ุงูุญุฐู ุงูุนุฑุถู

## ุงูุชุฎุตูุต

ูููู ุชุฎุตูุต ุงููุธุงู ูู ุฎูุงู:

1. **ุฅุถุงูุฉ ูุฆุงุช ุฌุฏูุฏุฉ**: ุชุญุฏูุซ `MediaCategory` enum
2. **ุชุบููุฑ ุญุฏูุฏ ุงููููุงุช**: ุชุญุฏูุซ ุงูุฅุนุฏุงุฏุงุช ูู ุงูุจุงู ุฅูุฏ
3. **ุฅุถุงูุฉ ุฃููุงุน ูููุงุช ุฌุฏูุฏุฉ**: ุชุญุฏูุซ ูุงุฆูุฉ ุงููููุงุช ุงูููุจููุฉ
4. **ุชุฎุตูุต ุงููุงุฌูุฉ**: ุชุนุฏูู ููููุงุช React

## ุงูุฏุนู

ููุญุตูู ุนูู ุงูุฏุนู ุฃู ุงูุฅุจูุงุบ ุนู ูุดุงูู:
- ุฑุงุฌุน ุงููุซุงุฆู ูู `backend/src/modules/upload/README.md`
- ุชุญูู ูู logs ูู ูุญุฏุฉ ุงูุชุญูู
- ุชุฃูุฏ ูู ุฅุนุฏุงุฏุงุช Bunny CDN

## ุงูุชุฑุฎูุต

ูุฐุง ุงููุธุงู ุฌุฒุก ูู ูุดุฑูุน Tagadodo ููู ูุญูู ุจุญููู ุงูุทุจุน ูุงููุดุฑ.
