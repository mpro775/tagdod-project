# ูุญุฏุฉ ุงูุฅุดุนุงุฑุงุช (Notifications Module)

## ูุธุฑุฉ ุนุงูุฉ
ูุญุฏุฉ ุงูุฅุดุนุงุฑุงุช ูุณุคููุฉ ุนู ุฅุฏุงุฑุฉ ุฌููุน ุฃููุงุน ุงูุฅุดุนุงุฑุงุช ูู ูุธุงู Tagadodo. ุชุชูุญ ูุฐู ุงููุญุฏุฉ ุฅุฑุณุงู ูุฅุฏุงุฑุฉ ุงูุฅุดุนุงุฑุงุช ูููุณุชุฎุฏููู ุนุจุฑ ูููุงุช ูุชุนุฏุฏุฉ ูุซู ุงูุฅุดุนุงุฑุงุช ุฏุงุฎู ุงูุชุทุจููุ ุงูุจุฑูุฏ ุงูุฅููุชุฑูููุ ูุงูุฑุณุงุฆู ุงููุตูุฉ.

## ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ

### ๐ฏ ูููุงุช ุงูุฅุดุนุงุฑุงุช
- **ุฏุงุฎู ุงูุชุทุจูู (In-App)**: ุฅุดุนุงุฑุงุช ุชุธูุฑ ุฏุงุฎู ุงูุชุทุจูู
- **ุฅุดุนุงุฑุงุช ุงูุฏูุน (Push)**: ุฅุดุนุงุฑุงุช ุชุตู ููุฌูุงุฒ ูุจุงุดุฑุฉ
- **ุงูุฑุณุงุฆู ุงููุตูุฉ (SMS)**: ุฑุณุงุฆู ูุตูุฉ ูููุณุชุฎุฏููู
- **ุงูุจุฑูุฏ ุงูุฅููุชุฑููู (Email)**: ุฅุดุนุงุฑุงุช ุนุจุฑ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู

### ๐ ุฅุฏุงุฑุฉ ุดุงููุฉ
- **ููุญุฉ ุชุญูู ุฅุฏุงุฑูุฉ**: ูุงุฌูุฉ ุดุงููุฉ ูุฅุฏุงุฑุฉ ุงูุฅุดุนุงุฑุงุช
- **ุฅุญุตุงุฆูุงุช ููุตูุฉ**: ุชุชุจุน ุฃุฏุงุก ุงูุฅุดุนุงุฑุงุช ููุนุฏูุงุช ุงููุฌุงุญ
- **ููุงูุจ ุฌุงูุฒุฉ**: ูุฌููุนุฉ ุดุงููุฉ ูู ููุงูุจ ุงูุฅุดุนุงุฑุงุช
- **ููุชุฑุฉ ูุจุญุซ**: ุฅููุงููุงุช ูุชูุฏูุฉ ููุจุญุซ ูุงูุชุตููุฉ

### ๐ง ุงููุธุงุฆู ุงููุชูุฏูุฉ
- **ุฅุฑุณุงู ูุฌูุน**: ุฅุฑุณุงู ุฅุดุนุงุฑุงุช ูุนุฏุฉ ูุณุชุฎุฏููู ุฏูุนุฉ ูุงุญุฏุฉ
- **ุฌุฏููุฉ ุงูุฅุฑุณุงู**: ุฅููุงููุฉ ุฌุฏููุฉ ุงูุฅุดุนุงุฑุงุช ููุฅุฑุณุงู ูุงุญูุงู
- **ุงุฎุชุจุงุฑ ุงูููุงูุจ**: ุฅููุงููุฉ ุงุฎุชุจุงุฑ ุงูููุงูุจ ูุจู ุงูุงุณุชุฎุฏุงู
- **ุชุชุจุน ุงูุญุงูุฉ**: ูุฑุงูุจุฉ ุญุงูุฉ ูู ุฅุดุนุงุฑ ูู ุงูุฅุฑุณุงู ุญุชู ุงููุฑุงุกุฉ

## ุงููููู ุงูุชููู

### Backend APIs

#### Admin Endpoints
```
GET    /notifications/admin/list         # ูุงุฆูุฉ ุงูุฅุดุนุงุฑุงุช ูุน ููุชุฑุฉ
POST   /notifications/admin/create       # ุฅูุดุงุก ุฅุดุนุงุฑ ุฌุฏูุฏ
GET    /notifications/admin/:id          # ุชูุงุตูู ุฅุดุนุงุฑ ูุญุฏุฏ
PUT    /notifications/admin/:id          # ุชุญุฏูุซ ุฅุดุนุงุฑ
DELETE /notifications/admin/:id          # ุญุฐู ุฅุดุนุงุฑ
POST   /notifications/admin/bulk-send    # ุฅุฑุณุงู ูุฌูุน
GET    /notifications/admin/stats        # ุฅุญุตุงุฆูุงุช ุงูุฅุดุนุงุฑุงุช
POST   /notifications/admin/cleanup      # ุชูุธูู ุงูุฅุดุนุงุฑุงุช ุงููุฏููุฉ
```

#### User Endpoints
```
GET    /notifications                    # ูุงุฆูุฉ ุฅุดุนุงุฑุงุช ุงููุณุชุฎุฏู
GET    /notifications/unread-count       # ุนุฏุฏ ุงูุฅุดุนุงุฑุงุช ุบูุฑ ุงูููุฑูุกุฉ
POST   /notifications/mark-read          # ุชุญุฏูุฏ ุฅุดุนุงุฑุงุช ูููุฑูุกุฉ
POST   /notifications/mark-all-read      # ุชุญุฏูุฏ ุฌููุน ุงูุฅุดุนุงุฑุงุช ูููุฑูุกุฉ
GET    /notifications/stats              # ุฅุญุตุงุฆูุงุช ุงููุณุชุฎุฏู
```

### Frontend Pages

#### 1. ุตูุญุฉ ุฅุฏุงุฑุฉ ุงูุฅุดุนุงุฑุงุช (`NotificationsListPage`)
- ุนุฑุถ ุฌููุน ุงูุฅุดุนุงุฑุงุช ูู ุฌุฏูู ุชูุงุนูู
- ููุชุฑุฉ ุญุณุจ ุงูููุงุฉ ูุงูุญุงูุฉ ูุงููุณุชุฎุฏู
- ุฅุฌุฑุงุกุงุช: ุนุฑุถุ ุชุนุฏููุ ุฅุฑุณุงูุ ุญุฐู
- ุฅุญุตุงุฆูุงุช ุณุฑูุนุฉ ูู ุฃุนูู ุงูุตูุญุฉ

#### 2. ุตูุญุฉ ุงูุฅุญุตุงุฆูุงุช (`NotificationsAnalyticsPage`)
- ุฅุญุตุงุฆูุงุช ุดุงููุฉ ููุฃุฏุงุก
- ุชูุฒูุน ุงูุฅุดุนุงุฑุงุช ุญุณุจ ุงูููุงุฉ
- ูุนุฏูุงุช ุงููุฌุงุญ ูุงููุดู
- ุฑุณูู ุจูุงููุฉ ููุคุดุฑุงุช ุงูุฃุฏุงุก

#### 3. ุตูุญุฉ ุงูููุงูุจ (`NotificationTemplatesPage`)
- ุฅุฏุงุฑุฉ ููุงูุจ ุงูุฅุดุนุงุฑุงุช
- ุงุฎุชุจุงุฑ ุงูููุงูุจ ูุจู ุงูุงุณุชุฎุฏุงู
- ุชุตููู ุงูููุงูุจ ุญุณุจ ุงูููุน
- ูุนุงููุฉ ูุญุชูู ุงูููุงูุจ

## ุงูููุงูุจ ุงููุชุงุญุฉ

### ุทูุจุงุช ุงูููุชุฌุงุช
- `ORDER_CONFIRMED`: ุชุฃููุฏ ุงูุทูุจ
- `ORDER_CANCELLED`: ุฅูุบุงุก ุงูุทูุจ
- `ORDER_REFUNDED`: ุฅุฑุฌุงุน ุงููุจูุบ

### ุฎุฏูุงุช ุงููููุฏุณูู
- `SERVICE_REQUEST_OPENED`: ูุชุญ ุทูุจ ุฎุฏูุฉ
- `NEW_ENGINEER_OFFER`: ุนุฑุถ ูููุฏุณ ุฌุฏูุฏ
- `OFFER_ACCEPTED`: ูุจูู ุงูุนุฑุถ
- `SERVICE_STARTED`: ุจุฏุก ุงูุฎุฏูุฉ
- `SERVICE_COMPLETED`: ุงูุชูุงู ุงูุฎุฏูุฉ
- `SERVICE_RATED`: ุชุณุฌูู ุงูุชูููู
- `SERVICE_REQUEST_CANCELLED`: ุฅูุบุงุก ุทูุจ ุงูุฎุฏูุฉ

### ุงูููุชุฌุงุช
- `PRODUCT_BACK_IN_STOCK`: ุชููุฑ ุงูููุชุฌ
- `PRODUCT_PRICE_DROP`: ุงูุฎูุงุถ ุงูุณุนุฑ
- `LOW_STOCK`: ูุฎุฒูู ูููู
- `OUT_OF_STOCK`: ููุฏ ุงููุฎุฒูู

### ุงูุนุฑูุถ ุงูุชุฑููุฌูุฉ
- `PROMOTION_STARTED`: ุจุฏุก ุนุฑุถ ุฌุฏูุฏ
- `PROMOTION_ENDING`: ุงูุชูุงุก ุนุฑุถ ูุฑูุจุงู

### ุงูุญุณุงุจ ูุงูุฃูุงู
- `ACCOUNT_VERIFIED`: ุชุฃููุฏ ุงูุญุณุงุจ
- `PASSWORD_CHANGED`: ุชุบููุฑ ูููุฉ ุงููุฑูุฑ
- `LOGIN_ATTEMPT`: ูุญุงููุฉ ุชุณุฌูู ุฏุฎูู

### ุงูุฏุนู ุงูููู
- `TICKET_CREATED`: ุฅูุดุงุก ุชุฐูุฑุฉ ุฏุนู
- `TICKET_UPDATED`: ุชุญุฏูุซ ุชุฐูุฑุฉ ุฏุนู
- `TICKET_RESOLVED`: ุญู ุชุฐูุฑุฉ ุฏุนู

### ุงููุธุงู
- `SYSTEM_MAINTENANCE`: ุตูุงูุฉ ุงููุธุงู
- `NEW_FEATURE`: ููุฒุฉ ุฌุฏูุฏุฉ
- `SYSTEM_ALERT`: ุชูุจูู ูุธุงู

### ุงูุชุณููู
- `WELCOME_NEW_USER`: ุชุฑุญูุจ ุจุงููุณุชุฎุฏู ุงูุฌุฏูุฏ
- `BIRTHDAY_GREETING`: ุชููุฆุฉ ุจุนูุฏ ุงููููุงุฏ
- `CART_ABANDONMENT`: ุชุฐููุฑ ุจุณูุฉ ุงูุชุณูู

### ุงูุฏูุน
- `PAYMENT_FAILED`: ูุดู ุงูุฏูุน
- `PAYMENT_SUCCESS`: ูุฌุงุญ ุงูุฏูุน

## ุงูุงุณุชุฎุฏุงู

### ุฅุฑุณุงู ุฅุดุนุงุฑ ุจุฑูุฌูุงู
```typescript
// ูู ุฃู ุฎุฏูุฉ ุฃุฎุฑู
import { NotificationsService } from '../notifications/notifications.service';

constructor(private notificationsService: NotificationsService) {}

async confirmOrder(userId: string, orderId: string, amount: number) {
  // ููุทู ุชุฃููุฏ ุงูุทูุจ...
  
  // ุฅุฑุณุงู ุฅุดุนุงุฑ
  await this.notificationsService.emit(
    userId,
    'ORDER_CONFIRMED',
    {
      orderId,
      amount,
      currency: 'SAR'
    }
  );
}
```

### ุฅูุดุงุก ุฅุดุนุงุฑ ุฅุฏุงุฑู
```typescript
const notification = await notificationsService.adminCreate({
  title: 'ุฅุดุนุงุฑ ููู',
  body: 'ูุฐุง ุฅุดุนุงุฑ ุฅุฏุงุฑู ูููุณุชุฎุฏููู',
  channel: 'inapp',
  targetUsers: ['userId1', 'userId2'],
  link: '/important-announcement'
});
```

### ุฅุฑุณุงู ุฅุดุนุงุฑ ูุฌูุน
```typescript
const results = await notificationsService.adminBulkSend({
  title: 'ุนุฑุถ ุฌุฏูุฏ',
  body: 'ุนุฑุถ ุฎุงุต ุนูู ุฌููุน ุงูููุชุฌุงุช',
  channel: 'push',
  targetUsers: allUserIds,
  templateKey: 'PROMOTION_STARTED',
  payload: {
    promotionName: 'ุนุฑุถ ุงูุตูู',
    discount: 30
  }
});
```

## ุงูุชูููู

### ูุชุบูุฑุงุช ุงูุจูุฆุฉ
```env
# ุฅุนุฏุงุฏุงุช MongoDB
MONGO_URI=mongodb://localhost:27017/tagadodo

# ุฅุนุฏุงุฏุงุช Redis ููู Cache
REDIS_URL=redis://localhost:6379

# ุฅุนุฏุงุฏุงุช FCM ููุฅุดุนุงุฑุงุช ุงูุฏูุน (ูุทููุจุฉ ูุชุดุบูู Push Notifications)
# ูููู ุงูุญุตูู ุนูู ูุฐู ุงููุนูููุงุช ูู Firebase Console > Project Settings > Service Accounts
FCM_PROJECT_ID=your-firebase-project-id
FCM_PRIVATE_KEY_ID=your-private-key-id
FCM_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYour-Private-Key\n-----END PRIVATE KEY-----\n"
FCM_CLIENT_EMAIL=firebase-adminsdk-xxxxx@your-project.iam.gserviceaccount.com
FCM_CLIENT_ID=your-client-id

# ุฅุนุฏุงุฏุงุช SMTP ููุจุฑูุฏ ุงูุฅููุชุฑููู (ูุทููุจุฉ ูุชุดุบูู Email Notifications)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
SMTP_FROM=noreply@yourdomain.com
FRONTEND_URL=https://yourdomain.com

# ุฅุนุฏุงุฏุงุช Twilio ููุฑุณุงุฆู ุงููุตูุฉ SMS (ูุทููุจุฉ ูุชุดุบูู SMS Notifications)
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890
TWILIO_WHATSAPP_NUMBER=+14155238886  # ุงุฎุชูุงุฑู
```

### ุชูููู Email (SMTP)

**Email ูุฑุจูุท ุชููุงุฆูุงู!** โ

ุชู ุฑุจุท EmailAdapter ูุน `EmailNotificationAdapter` ุจุดูู ุชููุงุฆู. ุงููุธุงู ูุนูู ุนูู ุงููุญู ุงูุชุงูู:

1. **ุฅุฐุง ุชู ุชูููู ูุชุบูุฑุงุช ุงูุจูุฆุฉ**: ูุณุชุฎุฏู SMTP ูุฅุฑุณุงู Emails ุงูุญููููุฉ
2. **ุฅุฐุง ูู ูุชู ุชูููููุง**: ูุณุชุฎุฏู Mock implementation (ููุชุทููุฑ ูุงูุงุฎุชุจุงุฑ)

#### ุฎุทูุงุช ุฅุนุฏุงุฏ Email:

1. **ุงูุญุตูู ุนูู SMTP Credentials:**
   - **Gmail**: ุงุณุชุฎุฏู App Password (ูุง ูููุฉ ุงููุฑูุฑ ุงูุนุงุฏูุฉ)
   - **SendGrid**: ุงุญุตู ุนูู API Key ูู SendGrid Dashboard
   - **AWS SES**: ุงุณุชุฎุฏู SMTP credentials ูู AWS Console
   - **ุฃู SMTP Provider**: ุงุณุชุฎุฏู ูุนูููุงุช SMTP ูู ูุฒูุฏู

2. **ุฅุถุงูุฉ ุงููุชุบูุฑุงุช ุฅูู `.env`:**
   ```env
   SMTP_HOST=smtp.gmail.com
   SMTP_PORT=587
   SMTP_SECURE=false
   SMTP_USER=your-email@gmail.com
   SMTP_PASS=your-app-password
   SMTP_FROM=noreply@yourdomain.com
   FRONTEND_URL=https://yourdomain.com
   ```

3. **ุฅุนุงุฏุฉ ุชุดุบูู ุงูุณูุฑูุฑ:**
   - ุงููุธุงู ุณูุชุญูู ูู ุงูุชูููู ุชููุงุฆูุงู ุนูุฏ ุงูุจุฏุก
   - ุฅุฐุง ุชู ุงูุชูููู ุจุดูู ุตุญูุญุ ุณุชุธูุฑ ุฑุณุงูุฉ: "Email transporter initialized successfully"
   - ุฅุฐุง ูู ูุชู ุงูุชููููุ ุณูุณุชุฎุฏู Mock mode ุชููุงุฆูุงู

#### ุงุณุชุฎุฏุงู Email ูุจุงุดุฑุฉ:
```typescript
constructor(private emailAdapter: EmailAdapter) {}

async sendEmail() {
  const result = await this.emailAdapter.sendEmail({
    to: 'user@example.com',
    subject: 'ูุฑุญุจุงู ุจู',
    html: '<h1>ูุฑุญุจุงู</h1><p>ุดูุฑุงู ูู ุนูู ุงูุชุณุฌูู</p>',
    text: 'ูุฑุญุจุงู. ุดูุฑุงู ูู ุนูู ุงูุชุณุฌูู'
  });
}
```

### ุชูููู SMS (Twilio)

**SMS ูุฑุจูุท ุชููุงุฆูุงู!** โ

ุชู ุฑุจุท SMSAdapter ูุน `SmsNotificationAdapter` ุจุดูู ุชููุงุฆู. ุงููุธุงู ูุนูู ุนูู ุงููุญู ุงูุชุงูู:

1. **ุฅุฐุง ุชู ุชูููู ูุชุบูุฑุงุช ุงูุจูุฆุฉ**: ูุณุชุฎุฏู Twilio ูุฅุฑุณุงู SMS ุงูุญููููุฉ
2. **ุฅุฐุง ูู ูุชู ุชูููููุง**: ูุณุชุฎุฏู Mock implementation (ููุชุทููุฑ ูุงูุงุฎุชุจุงุฑ)

#### ุฎุทูุงุช ุฅุนุฏุงุฏ SMS:

1. **ุฅูุดุงุก ุญุณุงุจ Twilio:**
   - ุงูุชุญ [Twilio Console](https://www.twilio.com/console)
   - ุณุฌูู ุญุณุงุจ ุฌุฏูุฏ ุฃู ุงุณุชุฎุฏู ุญุณุงุจ ููุฌูุฏ
   - ุงุญุตู ุนูู Account SID ู Auth Token

2. **ุงูุญุตูู ุนูู ุฑูู Twilio:**
   - ูู Twilio Consoleุ ุงุญุตู ุนูู ุฑูู ูุงุชู ููุฑุณุงุฆู ุงููุตูุฉ
   - ุฃู ุงุณุชุฎุฏู ุฑููู ุงูููุฌูุฏ

3. **ุฅุถุงูุฉ ุงููุชุบูุฑุงุช ุฅูู `.env`:**
   ```env
   TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
   TWILIO_AUTH_TOKEN=your-auth-token
   TWILIO_PHONE_NUMBER=+1234567890
   TWILIO_WHATSAPP_NUMBER=+14155238886  # ุงุฎุชูุงุฑู ูููุงุชุณุงุจ
   ```

4. **ุฅุนุงุฏุฉ ุชุดุบูู ุงูุณูุฑูุฑ:**
   - ุงููุธุงู ุณูุชุญูู ูู ุงูุชูููู ุชููุงุฆูุงู ุนูุฏ ุงูุจุฏุก
   - ุฅุฐุง ุชู ุงูุชูููู ุจุดูู ุตุญูุญุ ุณุชุธูุฑ ุฑุณุงูุฉ: "Twilio client initialized successfully"
   - ุฅุฐุง ูู ูุชู ุงูุชููููุ ุณูุณุชุฎุฏู Mock mode ุชููุงุฆูุงู

#### ุงุณุชุฎุฏุงู SMS ูุจุงุดุฑุฉ:
```typescript
constructor(private smsAdapter: SMSAdapter) {}

async sendSMS() {
  const result = await this.smsAdapter.sendSMS({
    to: '+966501234567',
    message: 'ูุฑุญุจุงู! ูุฐุง ุฅุดุนุงุฑ ูู ุชุทุจูููุง',
    from: '+1234567890'  // ุงุฎุชูุงุฑูุ ุณูุณุชุฎุฏู TWILIO_PHONE_NUMBER
  });
}
```

### ุชูููู FCM (Firebase Cloud Messaging)

**FCM ูุฑุจูุท ุชููุงุฆูุงู!** โ

ุชู ุฑุจุท FCM ูุน `PushNotificationAdapter` ุจุดูู ุชููุงุฆู ูู `NotificationsCompleteModule`. ุงููุธุงู ูุนูู ุนูู ุงููุญู ุงูุชุงูู:

1. **ุฅุฐุง ุชู ุชูููู ูุชุบูุฑุงุช ุงูุจูุฆุฉ**: ูุณุชุฎุฏู FCM ูุฅุฑุณุงู Push Notifications ุงูุญููููุฉ
2. **ุฅุฐุง ูู ูุชู ุชูููููุง**: ูุณุชุฎุฏู Mock implementation (ููุชุทููุฑ ูุงูุงุฎุชุจุงุฑ)

#### ุฎุทูุงุช ุฅุนุฏุงุฏ FCM:

1. **ุงูุญุตูู ุนูู Service Account Key:**
   - ุงูุชุญ [Firebase Console](https://console.firebase.google.com/)
   - ุงุฐูุจ ุฅูู Project Settings > Service Accounts
   - ุงุถุบุท "Generate new private key"
   - ุญููู ููู JSON

2. **ุงุณุชุฎุฑุงุฌ ุงููุนูููุงุช ูู ููู JSON:**
   ```json
   {
     "project_id": "your-project-id",
     "private_key_id": "...",
     "private_key": "-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n",
     "client_email": "firebase-adminsdk-xxxxx@your-project.iam.gserviceaccount.com",
     "client_id": "..."
   }
   ```

3. **ุฅุถุงูุฉ ุงููุชุบูุฑุงุช ุฅูู `.env`:**
   ```env
   FCM_PROJECT_ID=your-project-id
   FCM_PRIVATE_KEY_ID=your-private-key-id
   FCM_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n"
   FCM_CLIENT_EMAIL=firebase-adminsdk-xxxxx@your-project.iam.gserviceaccount.com
   FCM_CLIENT_ID=your-client-id
   ```

4. **ุฅุนุงุฏุฉ ุชุดุบูู ุงูุณูุฑูุฑ:**
   - ุงููุธุงู ุณูุชุญูู ูู ุงูุชูููู ุชููุงุฆูุงู ุนูุฏ ุงูุจุฏุก
   - ุฅุฐุง ุชู ุงูุชูููู ุจุดูู ุตุญูุญุ ุณุชุธูุฑ ุฑุณุงูุฉ: "Firebase Admin SDK initialized successfully"
   - ุฅุฐุง ูู ูุชู ุงูุชููููุ ุณูุณุชุฎุฏู Mock mode ุชููุงุฆูุงู

#### ุงุณุชุฎุฏุงู FCM ูุจุงุดุฑุฉ:
```typescript
// ููููู ุงุณุชุฎุฏุงู FCMAdapter ูุจุงุดุฑุฉ ุฅุฐุง ูุฒู ุงูุฃูุฑ
constructor(private fcmAdapter: FCMAdapter) {}

async sendPushNotification() {
  const success = await this.fcmAdapter.sendToDevice(
    'device-token',
    {
      title: 'ุนููุงู ุงูุฅุดุนุงุฑ',
      body: 'ูุญุชูู ุงูุฅุดุนุงุฑ',
      data: { orderId: '123' }
    }
  );
}
```

## ุงูุฃูุงู

- ุฌููุน endpoints ุงูุฅุฏุงุฑูุฉ ูุญููุฉ ุจู `AdminGuard`
- ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช ุจุงุณุชุฎุฏุงู class-validator
- ุชุดููุฑ ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ
- ุชุณุฌูู ุฌููุน ุงูุนูููุงุช ุงูุฅุฏุงุฑูุฉ

## ุงููุฑุงูุจุฉ ูุงูุชุญููู

### ุฅุญุตุงุฆูุงุช ุงูุฃุฏุงุก
- ูุนุฏู ูุฌุงุญ ุงูุฅุฑุณุงู
- ูุนุฏู ุงููุดู ุญุณุจ ุงูููุงุฉ
- ุนุฏุฏ ุงูุฅุดุนุงุฑุงุช ุงููุฑุณูุฉ ููููุงู
- ุนุฏุฏ ุงูุฅุดุนุงุฑุงุช ุงูููุฑูุกุฉ

### ุชุชุจุน ุงูุฃุฎุทุงุก
- ุชุณุฌูู ุฃุฎุทุงุก ุงูุฅุฑุณุงู
- ุชุชุจุน ูุดู ุงูุงุชุตุงู ุจุงูุฎุฏูุงุช ุงูุฎุงุฑุฌูุฉ
- ูุฑุงูุจุฉ ุฃุฏุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช

## ุงูุชุทููุฑ ุงููุณุชูุจูู

### ููุฒุงุช ูุฎุทุทุฉ
- [ ] ุฅุดุนุงุฑุงุช ูุฌุฏููุฉ ูุชูุฏูุฉ
- [ ] ุชุญูููุงุช ุณููู ุงููุณุชุฎุฏู
- [ ] ุฅุดุนุงุฑุงุช ุฐููุฉ ุญุณุจ ุงูุชูุถููุงุช
- [ ] ุฏุนู ุงููููุงุช ุงูุฅุถุงููุฉ (WhatsApp, Telegram)
- [ ] ูุธุงู A/B Testing ููุฅุดุนุงุฑุงุช
- [ ] ุฅุดุนุงุฑุงุช ุตูุชูุฉ
- [ ] ุฏุนู ุงูุฅุดุนุงุฑุงุช ุงูุชูุงุนููุฉ

### ุชุญุณููุงุช ุงูุฃุฏุงุก
- [ ] ุชุญุณูู ุงุณุชุนูุงูุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช
- [ ] ุฅุถุงูุฉ Redis ููู Caching
- [ ] ูุนุงูุฌุฉ ุงูุฅุดุนุงุฑุงุช ุจุดูู ูุชูุงุฒู
- [ ] ุถุบุท ุงูุจูุงูุงุช ุงููุฎุฒูุฉ

## ุงูุฏุนู ูุงููุณุงููุฉ

ููุฏุนู ุงูุชููู ุฃู ุงูุฅุจูุงุบ ุนู ูุดุงููุ ูุฑุฌู ุงูุชูุงุตู ูุน ูุฑูู ุงูุชุทููุฑ.

ูููุณุงููุฉ ูู ุงูุชุทููุฑุ ูุฑุฌู ูุฑุงุกุฉ ุฏููู ุงููุณุงููุฉ ูู ุงููุดุฑูุน.

## ุงูููููุงุช ุงูุฑุฆูุณูุฉ
- **ุฎุฏูุงุช ุงูุฅุดุนุงุฑุงุช**: ูุณุคููุฉ ุนู ุฅูุดุงุก ูุฅุฑุณุงู ูุชุชุจุน ุงูุฅุดุนุงุฑุงุช
- **ูุญุฏุงุช ุงูุชุญูู**: ุชููุฑ ูุงุฌูุงุช API ูุฅุฏุงุฑุฉ ุงูุฅุดุนุงุฑุงุช
- **ููุงุฐุฌ ุงูุจูุงูุงุช (DTOs)**: ุชุญุฏุฏ ูููู ุจูุงูุงุช ุงูุฅุดุนุงุฑุงุช
- **ุงูููุงูุจ**: ููุงูุจ ููุฅุดุนุงุฑุงุช ุงููุฎุชููุฉ

## ุฃููุงุน ุงูุฅุดุนุงุฑุงุช
- ุฅุดุนุงุฑุงุช ุงููุธุงู
- ุฅุดุนุงุฑุงุช ุงูุทูุจุงุช
- ุฅุดุนุงุฑุงุช ุงูููุชุฌุงุช
- ุฅุดุนุงุฑุงุช ุงูุนุฑูุถ ูุงูุฎุตููุงุช
- ุฅุดุนุงุฑุงุช ุงููุณุชุฎุฏู

## ุชูุงุตูู ุงูุนูููุงุช

### 1. ุฅูุดุงุก ุงูุฅุดุนุงุฑุงุช
ุชุจุฏุฃ ุนูููุฉ ุงูุฅุดุนุงุฑุงุช ุนูุฏูุง ูุญุฏุซ ุญุฏุซ ูุนูู ูู ุงููุธุงู (ูุซู ุฅููุงู ุทูุจุ ุชุบููุฑ ุญุงูุฉ ุทูุจุ ุฅุถุงูุฉ ููุชุฌ ุฌุฏูุฏ). ูุชู ุงุณุชุฏุนุงุก ุฎุฏูุฉ ุงูุฅุดุนุงุฑุงุช ูุน ุงููุนูููุงุช ุงููุงุฒูุฉ ูุฅูุดุงุก ุงูุฅุดุนุงุฑ:
- ููุน ุงูุฅุดุนุงุฑ
- ุงููุณุชูู/ุงููุณุชูููู
- ุงูุจูุงูุงุช ุงููุชุนููุฉ ุจุงูุฅุดุนุงุฑ
- ูุณุชูู ุงูุฃููููุฉ

### 2. ูุนุงูุฌุฉ ุงูุฅุดุนุงุฑุงุช
ุจุนุฏ ุฅูุดุงุก ุงูุฅุดุนุงุฑุ ุชููู ูุญุฏุฉ ุงููุนุงูุฌุฉ ุจูุง ููู:
- ุชุญุฏูุฏ ูููุงุช ุงูุฅุฑุณุงู ุงูููุงุณุจุฉ (ุชุทุจููุ ุจุฑูุฏ ุฅููุชุฑูููุ ุฑุณุงุฆู ูุตูุฉ)
- ุชุฌููุฒ ูุญุชูู ุงูุฅุดุนุงุฑ ุจุงุณุชุฎุฏุงู ุงูููุงูุจ ุงูููุงุณุจุฉ
- ุชุทุจูู ููุงุนุฏ ุงูุชุตููุฉ ูุงูุชุฎุตูุต ุญุณุจ ุฅุนุฏุงุฏุงุช ุงููุณุชุฎุฏู
- ุฌุฏููุฉ ุงูุฅุดุนุงุฑุงุช ุญุณุจ ุงูุฃููููุฉ ูุงูุชูููุช ุงูููุงุณุจ

### 3. ุฅุฑุณุงู ุงูุฅุดุนุงุฑุงุช
ุชุชู ุนูููุฉ ุงูุฅุฑุณุงู ุนุจุฑ ูุฒูุฏู ุฎุฏูุงุช ูุฎุชูููู:
- **ุฅุดุนุงุฑุงุช ุงูุชุทุจูู**: ุชูุฎุฒู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุชูุนุฑุถ ูููุณุชุฎุฏู ุนูุฏ ุชุณุฌูู ุงูุฏุฎูู
- **ุงูุจุฑูุฏ ุงูุฅููุชุฑููู**: ูุชู ุฅุฑุณุงููุง ุนุจุฑ ุฎุฏูุฉ SMTP
- **ุงูุฑุณุงุฆู ุงููุตูุฉ**: ุชูุฑุณู ุนุจุฑ ูุฒูุฏ ุฎุฏูุฉ SMS

### 4. ุชุชุจุน ูุชุญููู ุงูุฅุดุนุงุฑุงุช
ูุชู ุชุชุจุน ุญุงูุฉ ูู ุฅุดุนุงุฑ:
- ุชู ุงูุฅุฑุณุงู
- ุชู ุงูุชุณููู
- ุชู ุงููุชุญ/ุงููุฑุงุกุฉ
- ุชู ุงูุชูุงุนู ูุนู

### 5. ุฅุฏุงุฑุฉ ุชูุถููุงุช ุงูุฅุดุนุงุฑุงุช
ูููู ูููุณุชุฎุฏููู ุฅุฏุงุฑุฉ ุชูุถููุงุช ุงูุฅุดุนุงุฑุงุช ุงูุฎุงุตุฉ ุจูู:
- ุชูุนูู/ุชุนุทูู ุฃููุงุน ูุนููุฉ ูู ุงูุฅุดุนุงุฑุงุช
- ุงุฎุชูุงุฑ ูููุงุช ุงูุฅุดุนุงุฑ ุงูููุถูุฉ
- ุชุญุฏูุฏ ุฃููุงุช ุงุณุชูุงู ุงูุฅุดุนุงุฑุงุช

## ุงูุชูุงูู
ุชุชูุงูู ูุญุฏุฉ ุงูุฅุดุนุงุฑุงุช ูุน ูุญุฏุงุช ุฃุฎุฑู ูู ุงููุธุงู ูุซู ูุญุฏุฉ ุงููุณุชุฎุฏูููุ ุงูุทูุจุงุชุ ูุงูููุชุฌุงุช ูุฅุฑุณุงู ุฅุดุนุงุฑุงุช ูุฎุตุตุฉ ุจูุงุกู ุนูู ุฃุญุฏุงุซ ูุญุฏุฏุฉ.

## ุงูุงุณุชุฎุฏุงู
ูููู ุงุณุชุฎุฏุงู ูุฐู ุงููุญุฏุฉ ูู ุฎูุงู ุญูู ุฎุฏูุฉ ุงูุฅุดุนุงุฑุงุช ูู ุงููุญุฏุงุช ุงูุฃุฎุฑู ูุงุณุชุฏุนุงุก ุงูุฏูุงู ุงูููุงุณุจุฉ ูุฅุฑุณุงู ุงูุฅุดุนุงุฑุงุช.

### ูุซุงู ุนูู ุงุณุชุฎุฏุงู ุฎุฏูุฉ ุงูุฅุดุนุงุฑุงุช

```typescript
// ูู ูุญุฏุฉ ุงูุทูุจุงุช
import { NotificationsService } from '../notifications/notifications.service';

@Injectable()
export class OrdersService {
  constructor(private notificationsService: NotificationsService) {}

  async updateOrderStatus(orderId: string, status: OrderStatus): Promise<Order> {
    // ุชุญุฏูุซ ุญุงูุฉ ุงูุทูุจ
    const order = await this.orderRepository.updateStatus(orderId, status);
    
    // ุฅุฑุณุงู ุฅุดุนุงุฑ ูููุณุชุฎุฏู
    await this.notificationsService.sendNotification({
      type: NotificationType.ORDER_STATUS_CHANGE,
      recipient: order.userId,
      data: {
        orderId: order.id,
        newStatus: status,
        orderNumber: order.orderNumber
      },
      priority: NotificationPriority.HIGH
    });
    
    return order;
  }
}

---

**Version:** 1.0.1
**Status:** โ Production Ready

**ููุงุญุธุฉ:** ุชู ุชุญุฏูุซ README ููุนูุณ ุงููุณุงุฑุงุช ุงููุนููุฉ ูุฅุถุงูุฉ ุงูููุงูุจ ุงูููููุฏุฉ.
