openapi: 3.0.0
paths:
  /api/v1/auth/send-otp:
    post:
      operationId: sendOtp
      summary: Send OTP to phone number
      description: Sends a one-time password (OTP) to the specified phone number for authentication
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SendOtpDto'
      responses:
        '201':
          description: OTP sent successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  sent:
                    type: boolean
                    example: true
                  devCode:
                    type: string
                    example: '123456'
                    description: Development code (only in dev environment)
        '400':
          description: Invalid phone number or context
          content:
            application/json:
              schema:
                type: object
                properties:
                  statusCode:
                    type: number
                    example: 400
                  message:
                    type: string
                    example: Invalid phone number format
                  error:
                    type: string
                    example: Bad Request
      tags:
        - auth
  /api/v1/auth/verify-otp:
    post:
      operationId: verifyOtp
      summary: Verify OTP and complete registration/login
      description: Verifies the OTP code and completes user registration or login process
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/VerifyOtpDto'
      responses:
        '201':
          description: OTP verified successfully and user authenticated
          content:
            application/json:
              schema:
                type: object
                properties:
                  tokens:
                    type: object
                    properties:
                      access:
                        type: string
                        example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
                      refresh:
                        type: string
                        example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
                  me:
                    type: object
                    properties:
                      id:
                        type: string
                        example: 507f1f77bcf86cd799439011
                      phone:
                        type: string
                        example: '+966501234567'
                      preferredCurrency:
                        type: string
                        example: USD
        '400':
          description: Missing required fields for engineer registration
          content:
            application/json:
              schema:
                type: object
                properties:
                  statusCode:
                    type: number
                    example: 400
                  message:
                    type: string
                    example: المسمى الوظيفي مطلوب للمهندسين
                  error:
                    type: string
                    example: Bad Request
        '401':
          description: Invalid OTP code
          content:
            application/json:
              schema:
                type: object
                properties:
                  statusCode:
                    type: number
                    example: 401
                  message:
                    type: string
                    example: رمز التحقق غير صالح
                  error:
                    type: string
                    example: Unauthorized
      tags:
        - auth
  /api/v1/auth/set-password:
    post:
      operationId: setPassword
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SetPasswordDto'
      responses:
        '201':
          description: ''
      tags:
        - auth
      security:
        - bearer: []
  /api/v1/auth/preferred-currency:
    patch:
      operationId: updatePreferredCurrency
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdatePreferredCurrencyDto'
      responses:
        '200':
          description: ''
      tags:
        - auth
      security:
        - bearer: []
  /api/v1/auth/forgot-password:
    post:
      operationId: forgot
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ForgotPasswordDto'
      responses:
        '201':
          description: ''
      tags:
        - auth
  /api/v1/auth/reset-password:
    post:
      operationId: reset
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ResetPasswordDto'
      responses:
        '201':
          description: ''
      tags:
        - auth
  /api/v1/auth/me:
    get:
      operationId: me
      summary: Get current user profile
      description: Retrieves the current authenticated user profile and capabilities
      parameters: []
      responses:
        '200':
          description: User profile retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  user:
                    type: object
                    properties:
                      id:
                        type: string
                        example: 507f1f77bcf86cd799439011
                      phone:
                        type: string
                        example: '+966501234567'
                      firstName:
                        type: string
                        example: أحمد
                      lastName:
                        type: string
                        example: محمد
                      gender:
                        type: string
                        example: male
                        enum:
                          - male
                          - female
                      jobTitle:
                        type: string
                        example: مهندس كهرباء
                      isAdmin:
                        type: boolean
                        example: false
                  capabilities:
                    type: object
                    properties:
                      customer_capable:
                        type: boolean
                        example: true
                      engineer_capable:
                        type: boolean
                        example: false
                      wholesale_capable:
                        type: boolean
                        example: false
        '401':
          description: Invalid or missing JWT token
      tags:
        - auth
      security:
        - bearer: []
    patch:
      operationId: updateMe
      parameters: []
      responses:
        '200':
          description: ''
      tags:
        - auth
      security:
        - bearer: []
    delete:
      operationId: deleteMe
      parameters: []
      responses:
        '200':
          description: ''
      tags:
        - auth
      security:
        - bearer: []
  /api/v1/auth/admin/pending:
    get:
      operationId: pending
      parameters: []
      responses:
        '200':
          description: ''
      tags:
        - auth
      security:
        - bearer: []
  /api/v1/auth/admin/approve:
    post:
      operationId: approve
      parameters: []
      responses:
        '201':
          description: ''
      tags:
        - auth
      security:
        - bearer: []
  /api/v1/auth/create-super-admin:
    post:
      operationId: createSuperAdmin
      parameters: []
      responses:
        '201':
          description: ''
      tags:
        - auth
  /api/v1/auth/dev-login:
    post:
      operationId: devLogin
      parameters: []
      responses:
        '201':
          description: ''
      tags:
        - auth
  /api/v1/favorites:
    get:
      operationId: listFavorites
      parameters: []
      responses:
        '200':
          description: ''
      tags:
        - favorites-user
      security:
        - bearer: []
    post:
      operationId: addFavorite
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AddFavoriteDto'
      responses:
        '201':
          description: ''
      tags:
        - favorites-user
      security:
        - bearer: []
    delete:
      operationId: removeFavorite
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RemoveFavoriteDto'
      responses:
        '200':
          description: ''
      tags:
        - favorites-user
      security:
        - bearer: []
  /api/v1/favorites/{id}:
    patch:
      operationId: updateFavorite
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateFavoriteDto'
      responses:
        '200':
          description: ''
      tags:
        - favorites-user
      security:
        - bearer: []
  /api/v1/favorites/clear/all:
    delete:
      operationId: clearFavorites
      parameters: []
      responses:
        '200':
          description: ''
      tags:
        - favorites-user
      security:
        - bearer: []
  /api/v1/favorites/count:
    get:
      operationId: getCount
      parameters: []
      responses:
        '200':
          description: ''
      tags:
        - favorites-user
      security:
        - bearer: []
  /api/v1/favorites/sync:
    post:
      operationId: syncFromGuest
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SyncFavoritesDto'
      responses:
        '201':
          description: ''
      tags:
        - favorites-user
      security:
        - bearer: []
  /api/v1/favorites/{id}/view:
    post:
      operationId: incrementView
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      responses:
        '201':
          description: ''
      tags:
        - favorites-user
      security:
        - bearer: []
  /api/v1/favorites/guest:
    get:
      operationId: listFavorites
      parameters:
        - name: deviceId
          required: true
          in: query
          schema:
            type: string
      responses:
        '200':
          description: ''
      tags:
        - favorites-guest
    post:
      operationId: addFavorite
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GuestAddFavoriteDto'
      responses:
        '201':
          description: ''
      tags:
        - favorites-guest
    delete:
      operationId: removeFavorite
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GuestRemoveFavoriteDto'
      responses:
        '200':
          description: ''
      tags:
        - favorites-guest
  /api/v1/favorites/guest/clear:
    delete:
      operationId: clearFavorites
      parameters:
        - name: deviceId
          required: true
          in: query
          schema:
            type: string
      responses:
        '200':
          description: ''
      tags:
        - favorites-guest
  /api/v1/favorites/guest/count:
    get:
      operationId: getCount
      parameters:
        - name: deviceId
          required: true
          in: query
          schema:
            type: string
      responses:
        '200':
          description: ''
      tags:
        - favorites-guest
  /api/v1/admin/favorites/stats:
    get:
      operationId: getStats
      parameters: []
      responses:
        '200':
          description: ''
      tags:
        - favorites-admin
      security:
        - bearer: []
  /api/v1/admin/favorites/most-favorited:
    get:
      operationId: getMostFavorited
      parameters:
        - name: limit
          required: true
          in: query
          schema:
            type: number
      responses:
        '200':
          description: ''
      tags:
        - favorites-admin
      security:
        - bearer: []
  /api/v1/admin/favorites/product/{productId}/count:
    get:
      operationId: getProductCount
      parameters:
        - name: productId
          required: true
          in: path
          schema:
            type: string
      responses:
        '200':
          description: ''
      tags:
        - favorites-admin
      security:
        - bearer: []
  /api/v1/admin/favorites/user/{userId}/count:
    get:
      operationId: getUserCount
      parameters:
        - name: userId
          required: true
          in: path
          schema:
            type: string
      responses:
        '200':
          description: ''
      tags:
        - favorites-admin
      security:
        - bearer: []
  /api/v1/admin/products:
    post:
      operationId: createProduct
      summary: Create new product
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateProductDto'
      responses:
        '201':
          description: Product created successfully
      tags:
        - admin-products
      security:
        - bearer: []
    get:
      operationId: listProducts
      summary: List products with filters
      parameters: []
      responses:
        '200':
          description: Products list retrieved successfully
      tags:
        - admin-products
      security:
        - bearer: []
  /api/v1/admin/products/{id}:
    get:
      operationId: getProduct
      summary: Get product by ID
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      responses:
        '200':
          description: Product retrieved successfully
        '404':
          description: Product not found
      tags:
        - admin-products
      security:
        - bearer: []
    patch:
      operationId: updateProduct
      summary: Update product
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateProductDto'
      responses:
        '200':
          description: Product updated successfully
      tags:
        - admin-products
      security:
        - bearer: []
    delete:
      operationId: deleteProduct
      summary: Delete product (soft delete)
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      responses:
        '200':
          description: Product deleted successfully
      tags:
        - admin-products
      security:
        - bearer: []
  /api/v1/admin/products/{id}/restore:
    post:
      operationId: restoreProduct
      summary: Restore deleted product
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      responses:
        '200':
          description: Product restored successfully
      tags:
        - admin-products
      security:
        - bearer: []
  /api/v1/admin/products/stats/summary:
    get:
      operationId: getStats
      summary: Get products statistics
      parameters: []
      responses:
        '200':
          description: Statistics retrieved successfully
      tags:
        - admin-products
      security:
        - bearer: []
  /api/v1/admin/products/{productId}/variants:
    post:
      operationId: createVariant
      summary: Create variant for product
      parameters:
        - name: productId
          required: true
          in: path
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateVariantDto'
      responses:
        '201':
          description: Variant created successfully
      tags:
        - admin-products
      security:
        - bearer: []
    get:
      operationId: getVariants
      summary: Get variants for product
      parameters:
        - name: productId
          required: true
          in: path
          schema:
            type: string
        - name: includeDeleted
          required: true
          in: query
          schema:
            type: boolean
      responses:
        '200':
          description: Variants retrieved successfully
      tags:
        - admin-products
      security:
        - bearer: []
  /api/v1/admin/products/variants/{id}:
    get:
      operationId: getVariant
      summary: Get variant by ID
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      responses:
        '200':
          description: Variant retrieved successfully
      tags:
        - admin-products
      security:
        - bearer: []
    patch:
      operationId: updateVariant
      summary: Update variant
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateVariantDto'
      responses:
        '200':
          description: Variant updated successfully
      tags:
        - admin-products
      security:
        - bearer: []
    delete:
      operationId: deleteVariant
      summary: Delete variant (soft delete)
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      responses:
        '200':
          description: Variant deleted successfully
      tags:
        - admin-products
      security:
        - bearer: []
  /api/v1/admin/products/variants/{id}/price:
    get:
      operationId: getVariantPrice
      summary: Get variant price in specific currency
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
        - name: currency
          required: true
          in: query
          schema:
            type: string
      responses:
        '200':
          description: Price retrieved successfully
      tags:
        - admin-products
      security:
        - bearer: []
  /api/v1/admin/products/{id}/prices:
    get:
      operationId: getProductPrices
      summary: Get all variant prices for product
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
        - name: currency
          required: true
          in: query
          schema:
            type: string
      responses:
        '200':
          description: Prices retrieved successfully
      tags:
        - admin-products
      security:
        - bearer: []
  /api/v1/admin/products/{id}/price-range:
    get:
      operationId: getPriceRange
      summary: Get product price range
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
        - name: currency
          required: true
          in: query
          schema:
            type: string
      responses:
        '200':
          description: Price range retrieved successfully
      tags:
        - admin-products
      security:
        - bearer: []
  /api/v1/admin/products/variants/{id}/stock:
    post:
      operationId: updateStock
      summary: Update variant stock
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      responses:
        '200':
          description: Stock updated successfully
      tags:
        - admin-products
      security:
        - bearer: []
  /api/v1/admin/products/variants/{id}/availability:
    get:
      operationId: checkAvailability
      summary: Check variant availability
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
        - name: quantity
          required: true
          in: query
          schema:
            type: number
      responses:
        '200':
          description: Availability checked successfully
      tags:
        - admin-products
      security:
        - bearer: []
  /api/v1/admin/products/inventory/low-stock:
    get:
      operationId: getLowStock
      summary: Get low stock variants
      parameters:
        - name: threshold
          required: true
          in: query
          schema:
            type: number
      responses:
        '200':
          description: Low stock variants retrieved successfully
      tags:
        - admin-products
      security:
        - bearer: []
  /api/v1/admin/products/inventory/out-of-stock:
    get:
      operationId: getOutOfStock
      summary: Get out of stock variants
      parameters: []
      responses:
        '200':
          description: Out of stock variants retrieved successfully
      tags:
        - admin-products
      security:
        - bearer: []
  /api/v1/admin/products/inventory/summary:
    get:
      operationId: getInventorySummary
      summary: Get inventory summary
      parameters: []
      responses:
        '200':
          description: Inventory summary retrieved successfully
      tags:
        - admin-products
      security:
        - bearer: []
  /api/v1/products:
    get:
      operationId: listProducts
      summary: Get products list
      description: Retrieves a paginated list of products with optional filtering
      parameters:
        - name: page
          required: false
          in: query
          description: 'Page number (default: 1)'
          schema:
            type: number
        - name: limit
          required: false
          in: query
          description: 'Items per page (default: 20)'
          schema:
            type: number
        - name: search
          required: false
          in: query
          description: Search term for product name or description
          schema:
            type: string
        - name: categoryId
          required: false
          in: query
          description: Filter by category ID
          schema:
            type: string
        - name: brandId
          required: false
          in: query
          description: Filter by brand ID
          schema:
            type: string
        - name: isFeatured
          required: false
          in: query
          description: Filter featured products
          schema:
            type: boolean
        - name: isNew
          required: false
          in: query
          description: Filter new products
          schema:
            type: boolean
      responses:
        '200':
          description: Products list retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          example: 507f1f77bcf86cd799439011
                        name:
                          type: string
                          example: Solar Panel 300W
                        description:
                          type: string
                          example: High efficiency solar panel
                        category:
                          type: object
                        brand:
                          type: object
                        isFeatured:
                          type: boolean
                          example: true
                        isNew:
                          type: boolean
                          example: false
                  meta:
                    type: object
                    properties:
                      page:
                        type: number
                        example: 1
                      limit:
                        type: number
                        example: 20
                      total:
                        type: number
                        example: 150
                      totalPages:
                        type: number
                        example: 8
      tags:
        - products
  /api/v1/products/{id}:
    get:
      operationId: getProduct
      summary: Get product details
      description: Retrieves detailed information about a specific product
      parameters:
        - name: id
          required: true
          in: path
          description: Product ID
          schema:
            example: 507f1f77bcf86cd799439011
            type: string
        - name: currency
          required: true
          in: query
          schema:
            type: string
      responses:
        '200':
          description: Product details retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      product:
                        type: object
                        properties:
                          id:
                            type: string
                            example: 507f1f77bcf86cd799439011
                          name:
                            type: string
                            example: Solar Panel 300W
                          description:
                            type: string
                            example: High efficiency solar panel
                          category:
                            type: object
                          brand:
                            type: object
                          isFeatured:
                            type: boolean
                            example: true
                          isNew:
                            type: boolean
                            example: false
                          viewsCount:
                            type: number
                            example: 150
                      variants:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                            sku:
                              type: string
                            basePriceUSD:
                              type: number
                            stock:
                              type: number
                            isAvailable:
                              type: boolean
        '404':
          description: Product not found
      tags:
        - products
  /api/v1/products/slug/{slug}:
    get:
      operationId: getProductBySlug
      summary: Get product by slug
      description: Retrieves product information using URL slug
      parameters:
        - name: slug
          required: true
          in: path
          description: Product slug
          schema:
            example: solar-panel-300w
            type: string
        - name: currency
          required: true
          in: query
          schema:
            type: string
      responses:
        '200':
          description: ''
      tags:
        - products
  /api/v1/products/featured/list:
    get:
      operationId: getFeatured
      summary: Get featured products
      parameters: []
      responses:
        '200':
          description: Featured products retrieved successfully
      tags:
        - products
  /api/v1/products/new/list:
    get:
      operationId: getNew
      summary: Get new products
      parameters: []
      responses:
        '200':
          description: New products retrieved successfully
      tags:
        - products
  /api/v1/products/{id}/variants:
    get:
      operationId: getVariants
      summary: Get product variants
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
        - name: currency
          required: true
          in: query
          schema:
            type: string
      responses:
        '200':
          description: Variants retrieved successfully
      tags:
        - products
  /api/v1/products/variants/{id}/price:
    get:
      operationId: getVariantPrice
      summary: Get variant price
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
        - name: currency
          required: true
          in: query
          schema:
            type: string
      responses:
        '200':
          description: Price retrieved successfully
      tags:
        - products
  /api/v1/products/variants/{id}/availability:
    get:
      operationId: checkVariantAvailability
      summary: Check variant availability
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
        - name: quantity
          required: true
          in: query
          schema:
            type: number
      responses:
        '200':
          description: Availability checked successfully
      tags:
        - products
  /api/v1/products/{id}/price-range:
    get:
      operationId: getPriceRange
      summary: Get product price range
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
        - name: currency
          required: true
          in: query
          schema:
            type: string
      responses:
        '200':
          description: Price range retrieved successfully
      tags:
        - products
  /api/v1/products/stats/count:
    get:
      operationId: getProductsCount
      summary: Get products count
      parameters: []
      responses:
        '200':
          description: Count retrieved successfully
      tags:
        - products
  /api/v1/admin/attributes:
    post:
      operationId: createAttribute
      summary: إنشاء سمة جديدة
      description: إنشاء سمة جديدة في النظام. يتطلب صلاحيات إدارية.
      tags:
        - admin-attributes
      parameters: []
      requestBody:
        required: true
        description: بيانات السمة الجديدة
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateAttributeDto'
            examples:
              color:
                summary: إنشاء سمة اللون
                value:
                  name: اللون
                  nameEn: Color
                  type: select
                  description: لون المنتج
                  order: 1
                  isFilterable: true
                  isRequired: false
                  showInFilters: true
                  groupId: 64a1b2c3d4e5f6789abcdef1
              size:
                summary: إنشاء سمة المقاس
                value:
                  name: المقاس
                  nameEn: Size
                  type: select
                  description: مقاس المنتج
                  order: 2
                  isFilterable: true
                  isRequired: true
                  showInFilters: true
      responses:
        '201':
          description: تم إنشاء السمة بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      _id:
                        type: string
                        example: 64a1b2c3d4e5f6789abcdef0
                      name:
                        type: string
                        example: اللون
                      nameEn:
                        type: string
                        example: Color
                      slug:
                        type: string
                        example: color
                      type:
                        type: string
                        example: select
                      description:
                        type: string
                        example: لون المنتج
                      order:
                        type: number
                        example: 1
                      isActive:
                        type: boolean
                        example: true
                      isFilterable:
                        type: boolean
                        example: true
                      isRequired:
                        type: boolean
                        example: false
                      showInFilters:
                        type: boolean
                        example: true
                      groupId:
                        type: string
                        example: 64a1b2c3d4e5f6789abcdef1
                      usageCount:
                        type: number
                        example: 0
                      createdAt:
                        type: string
                        format: date-time
                      updatedAt:
                        type: string
                        format: date-time
        '401':
          description: غير مصرح - مطلوب تسجيل دخول
          content:
            application/json:
              schema:
                type: object
                properties:
                  statusCode:
                    type: number
                    example: 401
                  message:
                    type: string
                    example: Unauthorized
        '403':
          description: ممنوع - مطلوب صلاحيات إدارية
          content:
            application/json:
              schema:
                type: object
                properties:
                  statusCode:
                    type: number
                    example: 403
                  message:
                    type: string
                    example: Forbidden
      security:
        - bearer: []
    get:
      operationId: listAttributes
      summary: الحصول على قائمة السمات
      description: الحصول على قائمة بجميع السمات مع إمكانية التصفية والبحث.
      tags:
        - admin-attributes
      parameters:
        - name: includeDeleted
          required: false
          in: query
          description: تضمين السمات المحذوفة
          schema:
            example: false
        - name: groupId
          required: false
          in: query
          description: تصفية السمات حسب المجموعة
          schema:
            example: 64a1b2c3d4e5f6789abcdef1
        - name: isFilterable
          required: false
          in: query
          description: تصفية السمات القابلة للفلترة
          schema:
            example: true
        - name: isActive
          required: false
          in: query
          description: تصفية السمات النشطة
          schema:
            example: true
        - name: search
          required: false
          in: query
          description: البحث في أسماء السمات
          schema:
            example: لون
      responses:
        '200':
          description: تم الحصول على قائمة السمات بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                          example: 64a1b2c3d4e5f6789abcdef0
                        name:
                          type: string
                          example: اللون
                        nameEn:
                          type: string
                          example: Color
                        slug:
                          type: string
                          example: color
                        type:
                          type: string
                          example: select
                        description:
                          type: string
                          example: لون المنتج
                        order:
                          type: number
                          example: 1
                        isActive:
                          type: boolean
                          example: true
                        isFilterable:
                          type: boolean
                          example: true
                        isRequired:
                          type: boolean
                          example: false
                        showInFilters:
                          type: boolean
                          example: true
                        groupId:
                          type: string
                          example: 64a1b2c3d4e5f6789abcdef1
                        usageCount:
                          type: number
                          example: 25
                        createdAt:
                          type: string
                          format: date-time
                        updatedAt:
                          type: string
                          format: date-time
        '401':
          description: غير مصرح - مطلوب تسجيل دخول
        '403':
          description: ممنوع - مطلوب صلاحيات إدارية
      security:
        - bearer: []
  /api/v1/admin/attributes/{id}:
    get:
      operationId: getAttribute
      summary: الحصول على سمة واحدة
      description: الحصول على تفاصيل سمة محددة مع قيمها.
      tags:
        - admin-attributes
      parameters:
        - name: id
          required: true
          in: path
          description: معرف السمة
          schema:
            example: 64a1b2c3d4e5f6789abcdef0
            type: string
      responses:
        '200':
          description: تم الحصول على السمة بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      _id:
                        type: string
                        example: 64a1b2c3d4e5f6789abcdef0
                      name:
                        type: string
                        example: اللون
                      nameEn:
                        type: string
                        example: Color
                      slug:
                        type: string
                        example: color
                      type:
                        type: string
                        example: select
                      description:
                        type: string
                        example: لون المنتج
                      order:
                        type: number
                        example: 1
                      isActive:
                        type: boolean
                        example: true
                      isFilterable:
                        type: boolean
                        example: true
                      isRequired:
                        type: boolean
                        example: false
                      showInFilters:
                        type: boolean
                        example: true
                      groupId:
                        type: object
                        example:
                          _id: 64a1b2c3d4e5f6789abcdef1
                          name: الخصائص الفيزيائية
                      usageCount:
                        type: number
                        example: 25
                      values:
                        type: array
                        items:
                          type: object
                          properties:
                            _id:
                              type: string
                              example: 64a1b2c3d4e5f6789abcdef2
                            value:
                              type: string
                              example: أحمر
                            valueEn:
                              type: string
                              example: Red
                            slug:
                              type: string
                              example: red
                            hexCode:
                              type: string
                              example: '#FF0000'
                      createdAt:
                        type: string
                        format: date-time
                      updatedAt:
                        type: string
                        format: date-time
        '404':
          description: السمة غير موجودة
      security:
        - bearer: []
    patch:
      operationId: updateAttribute
      summary: تحديث سمة
      description: تحديث بيانات سمة موجودة.
      tags:
        - admin-attributes
      parameters:
        - name: id
          required: true
          in: path
          description: معرف السمة
          schema:
            example: 64a1b2c3d4e5f6789abcdef0
            type: string
      requestBody:
        required: true
        description: البيانات المحدثة للسمة
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateAttributeDto'
      responses:
        '200':
          description: تم تحديث السمة بنجاح
        '404':
          description: السمة غير موجودة
      security:
        - bearer: []
    delete:
      operationId: deleteAttribute
      summary: حذف سمة
      description: حذف سمة (حذف منطقي - Soft Delete). لا يمكن حذف السمات المستخدمة في المنتجات.
      tags:
        - admin-attributes
      parameters:
        - name: id
          required: true
          in: path
          description: معرف السمة
          schema:
            example: 64a1b2c3d4e5f6789abcdef0
            type: string
      responses:
        '200':
          description: تم حذف السمة بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      deleted:
                        type: boolean
                        example: true
                      deletedAt:
                        type: string
                        format: date-time
        '404':
          description: السمة غير موجودة
      security:
        - bearer: []
  /api/v1/admin/attributes/{id}/restore:
    post:
      operationId: restoreAttribute
      summary: استعادة سمة محذوفة
      description: استعادة سمة تم حذفها مسبقاً (حذف منطقي).
      tags:
        - admin-attributes
      parameters:
        - name: id
          required: true
          in: path
          description: معرف السمة المحذوفة
          schema:
            example: 64a1b2c3d4e5f6789abcdef0
            type: string
      responses:
        '200':
          description: تم استعادة السمة بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      restored:
                        type: boolean
                        example: true
        '404':
          description: السمة غير موجودة أو غير محذوفة
      security:
        - bearer: []
  /api/v1/admin/attributes/{attributeId}/values:
    post:
      operationId: createValue
      summary: إضافة قيمة جديدة للسمة
      description: إضافة قيمة جديدة إلى سمة موجودة.
      tags:
        - admin-attributes
      parameters:
        - name: attributeId
          required: true
          in: path
          description: معرف السمة
          schema:
            example: 64a1b2c3d4e5f6789abcdef0
            type: string
      requestBody:
        required: true
        description: بيانات القيمة الجديدة
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateAttributeValueDto'
            examples:
              color:
                summary: إضافة لون أحمر
                value:
                  value: أحمر
                  valueEn: Red
                  hexCode: '#FF0000'
                  order: 1
                  description: اللون الأحمر
              size:
                summary: إضافة مقاس كبير
                value:
                  value: كبير
                  valueEn: Large
                  order: 3
                  description: المقاس الكبير
      responses:
        '201':
          description: تم إضافة القيمة بنجاح
        '404':
          description: السمة غير موجودة
      security:
        - bearer: []
    get:
      operationId: listValues
      summary: الحصول على قيم السمة
      description: الحصول على جميع قيم سمة محددة.
      tags:
        - admin-attributes
      parameters:
        - name: attributeId
          required: true
          in: path
          description: معرف السمة
          schema:
            example: 64a1b2c3d4e5f6789abcdef0
            type: string
      responses:
        '200':
          description: تم الحصول على قيم السمة بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                          example: 64a1b2c3d4e5f6789abcdef2
                        value:
                          type: string
                          example: أحمر
                        valueEn:
                          type: string
                          example: Red
                        slug:
                          type: string
                          example: red
                        hexCode:
                          type: string
                          example: '#FF0000'
                        imageUrl:
                          type: string
                          example: https://example.com/red.jpg
                        description:
                          type: string
                          example: اللون الأحمر
                        order:
                          type: number
                          example: 1
                        isActive:
                          type: boolean
                          example: true
                        usageCount:
                          type: number
                          example: 10
                        attributeId:
                          type: string
                          example: 64a1b2c3d4e5f6789abcdef0
                        createdAt:
                          type: string
                          format: date-time
                        updatedAt:
                          type: string
                          format: date-time
      security:
        - bearer: []
  /api/v1/admin/attributes/values/{id}:
    patch:
      operationId: updateValue
      summary: تحديث قيمة السمة
      description: تحديث بيانات قيمة سمة موجودة.
      tags:
        - admin-attributes
      parameters:
        - name: id
          required: true
          in: path
          description: معرف قيمة السمة
          schema:
            example: 64a1b2c3d4e5f6789abcdef2
            type: string
      requestBody:
        required: true
        description: البيانات المحدثة للقيمة
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateAttributeValueDto'
      responses:
        '200':
          description: تم تحديث القيمة بنجاح
        '404':
          description: قيمة السمة غير موجودة
      security:
        - bearer: []
    delete:
      operationId: deleteValue
      summary: حذف قيمة السمة
      description: حذف قيمة سمة (حذف منطقي). لا يمكن حذف القيم المستخدمة في المنتجات.
      tags:
        - admin-attributes
      parameters:
        - name: id
          required: true
          in: path
          description: معرف قيمة السمة
          schema:
            example: 64a1b2c3d4e5f6789abcdef2
            type: string
      responses:
        '200':
          description: تم حذف القيمة بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      deleted:
                        type: boolean
                        example: true
        '404':
          description: قيمة السمة غير موجودة
      security:
        - bearer: []
  /api/v1/admin/attributes/stats/summary:
    get:
      operationId: getStats
      summary: إحصائيات السمات
      description: الحصول على إحصائيات شاملة عن السمات في النظام.
      tags:
        - admin-attributes
      parameters: []
      responses:
        '200':
          description: تم الحصول على الإحصائيات بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      total:
                        type: number
                        example: 50
                        description: إجمالي عدد السمات
                      active:
                        type: number
                        example: 45
                        description: عدد السمات النشطة
                      filterable:
                        type: number
                        example: 30
                        description: عدد السمات القابلة للفلترة
                      byType:
                        type: object
                        properties:
                          select:
                            type: number
                            example: 25
                          multiselect:
                            type: number
                            example: 10
                          text:
                            type: number
                            example: 8
                          number:
                            type: number
                            example: 5
                          boolean:
                            type: number
                            example: 2
                        description: توزيع السمات حسب النوع
      security:
        - bearer: []
  /api/v1/attributes:
    get:
      operationId: listAttributes
      summary: الحصول على قائمة السمات النشطة
      description: يُرجع قائمة بجميع السمات النشطة المتاحة في النظام. النتائج مخزنة مؤقتاً لمدة 30 دقيقة.
      tags:
        - attributes-public
      parameters: []
      responses:
        '200':
          description: تم الحصول على قائمة السمات بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                          example: 64a1b2c3d4e5f6789abcdef0
                        name:
                          type: string
                          example: اللون
                        nameEn:
                          type: string
                          example: Color
                        slug:
                          type: string
                          example: color
                        type:
                          type: string
                          enum:
                            - select
                            - multiselect
                            - text
                            - number
                            - boolean
                          example: select
                        description:
                          type: string
                          example: لون المنتج
                        order:
                          type: number
                          example: 1
                        isActive:
                          type: boolean
                          example: true
                        isFilterable:
                          type: boolean
                          example: true
                        isRequired:
                          type: boolean
                          example: false
                        showInFilters:
                          type: boolean
                          example: true
                        groupId:
                          type: string
                          example: 64a1b2c3d4e5f6789abcdef1
                        usageCount:
                          type: number
                          example: 25
                        createdAt:
                          type: string
                          format: date-time
                        updatedAt:
                          type: string
                          format: date-time
  /api/v1/attributes/filterable:
    get:
      operationId: getFilterableAttributes
      summary: الحصول على السمات القابلة للفلترة
      description: يُرجع قائمة بالسمات النشطة والقابلة للفلترة مع جميع قيمها. مفيد لبناء واجهات الفلترة في المتاجر الإلكترونية.
      tags:
        - attributes-public
      parameters: []
      responses:
        '200':
          description: تم الحصول على السمات القابلة للفلترة بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                          example: 64a1b2c3d4e5f6789abcdef0
                        name:
                          type: string
                          example: اللون
                        nameEn:
                          type: string
                          example: Color
                        slug:
                          type: string
                          example: color
                        type:
                          type: string
                          enum:
                            - select
                            - multiselect
                            - text
                            - number
                            - boolean
                          example: select
                        description:
                          type: string
                          example: لون المنتج
                        order:
                          type: number
                          example: 1
                        isActive:
                          type: boolean
                          example: true
                        isFilterable:
                          type: boolean
                          example: true
                        isRequired:
                          type: boolean
                          example: false
                        showInFilters:
                          type: boolean
                          example: true
                        groupId:
                          type: string
                          example: 64a1b2c3d4e5f6789abcdef1
                        usageCount:
                          type: number
                          example: 25
                        createdAt:
                          type: string
                          format: date-time
                        updatedAt:
                          type: string
                          format: date-time
                        values:
                          type: array
                          items:
                            type: object
                            properties:
                              _id:
                                type: string
                                example: 64a1b2c3d4e5f6789abcdef2
                              value:
                                type: string
                                example: أحمر
                              valueEn:
                                type: string
                                example: Red
                              slug:
                                type: string
                                example: red
                              hexCode:
                                type: string
                                example: '#FF0000'
                              imageUrl:
                                type: string
                                example: https://example.com/red-color.jpg
                              imageId:
                                type: string
                                example: img_123
                              description:
                                type: string
                                example: اللون الأحمر
                              order:
                                type: number
                                example: 1
                              isActive:
                                type: boolean
                                example: true
                              usageCount:
                                type: number
                                example: 10
                              attributeId:
                                type: string
                                example: 64a1b2c3d4e5f6789abcdef0
                              createdAt:
                                type: string
                                format: date-time
                              updatedAt:
                                type: string
                                format: date-time
  /api/v1/attributes/{id}:
    get:
      operationId: getAttribute
      summary: الحصول على سمة واحدة مع قيمها
      description: يُرجع تفاصيل سمة محددة مع جميع قيمها المتاحة. مفيد لعرض تفاصيل سمة معينة.
      tags:
        - attributes-public
      parameters:
        - name: id
          required: true
          in: path
          description: معرف السمة (ObjectId)
          schema:
            example: 64a1b2c3d4e5f6789abcdef0
            type: string
      responses:
        '200':
          description: تم الحصول على السمة بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      _id:
                        type: string
                        example: 64a1b2c3d4e5f6789abcdef0
                      name:
                        type: string
                        example: اللون
                      nameEn:
                        type: string
                        example: Color
                      slug:
                        type: string
                        example: color
                      type:
                        type: string
                        enum:
                          - select
                          - multiselect
                          - text
                          - number
                          - boolean
                        example: select
                      description:
                        type: string
                        example: لون المنتج
                      order:
                        type: number
                        example: 1
                      isActive:
                        type: boolean
                        example: true
                      isFilterable:
                        type: boolean
                        example: true
                      isRequired:
                        type: boolean
                        example: false
                      showInFilters:
                        type: boolean
                        example: true
                      groupId:
                        type: object
                        properties:
                          _id:
                            type: string
                            example: 64a1b2c3d4e5f6789abcdef1
                          name:
                            type: string
                            example: الخصائص الفيزيائية
                          nameEn:
                            type: string
                            example: Physical Properties
                      usageCount:
                        type: number
                        example: 25
                      createdAt:
                        type: string
                        format: date-time
                      updatedAt:
                        type: string
                        format: date-time
                      values:
                        type: array
                        items:
                          type: object
                          properties:
                            _id:
                              type: string
                              example: 64a1b2c3d4e5f6789abcdef2
                            value:
                              type: string
                              example: أحمر
                            valueEn:
                              type: string
                              example: Red
                            slug:
                              type: string
                              example: red
                            hexCode:
                              type: string
                              example: '#FF0000'
                            imageUrl:
                              type: string
                              example: https://example.com/red-color.jpg
                            imageId:
                              type: string
                              example: img_123
                            description:
                              type: string
                              example: اللون الأحمر
                            order:
                              type: number
                              example: 1
                            isActive:
                              type: boolean
                              example: true
                            usageCount:
                              type: number
                              example: 10
                            attributeId:
                              type: string
                              example: 64a1b2c3d4e5f6789abcdef0
                            createdAt:
                              type: string
                              format: date-time
                            updatedAt:
                              type: string
                              format: date-time
        '404':
          description: السمة غير موجودة
          content:
            application/json:
              schema:
                type: object
                properties:
                  statusCode:
                    type: number
                    example: 404
                  message:
                    type: string
                    example: السمة غير موجودة
                  error:
                    type: string
                    example: Not Found
  /api/v1/admin/categories:
    post:
      operationId: createCategory
      summary: إنشاء فئة جديدة
      description: إنشاء فئة جديدة في النظام. يتطلب صلاحيات إدارية.
      tags:
        - admin-categories
      parameters: []
      requestBody:
        required: true
        description: بيانات الفئة الجديدة
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateCategoryDto'
            examples:
              electronics:
                summary: إنشاء فئة الإلكترونيات
                value:
                  name: الإلكترونيات
                  nameEn: Electronics
                  description: جميع الأجهزة الإلكترونية والكهربائية
                  parentId: null
                  isActive: true
                  isFeatured: true
                  order: 1
              phones:
                summary: إنشاء فئة الهواتف
                value:
                  name: الهواتف
                  nameEn: Phones
                  description: الهواتف الذكية والملحقات
                  parentId: parent_category_id
                  isActive: true
                  isFeatured: false
                  order: 1
      responses:
        '201':
          description: تم إنشاء الفئة بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      _id:
                        type: string
                        example: 64a1b2c3d4e5f6789abcdef0
                      name:
                        type: string
                        example: الإلكترونيات
                      nameEn:
                        type: string
                        example: Electronics
                      slug:
                        type: string
                        example: electronics
                      description:
                        type: string
                        example: جميع الأجهزة الإلكترونية
                      parentId:
                        type: string
                        example: null
                      isActive:
                        type: boolean
                        example: true
                      isFeatured:
                        type: boolean
                        example: true
                      order:
                        type: number
                        example: 1
                      productCount:
                        type: number
                        example: 0
                      createdAt:
                        type: string
                        format: date-time
                      updatedAt:
                        type: string
                        format: date-time
        '401':
          description: غير مصرح - مطلوب تسجيل دخول
        '403':
          description: ممنوع - مطلوب صلاحيات إدارية
      security:
        - bearer: []
    get:
      operationId: listCategories
      summary: الحصول على قائمة الفئات
      description: الحصول على قائمة بجميع الفئات مع إمكانية التصفية والبحث. يتطلب صلاحيات إدارية.
      tags:
        - admin-categories
      parameters:
        - name: includeDeleted
          required: false
          in: query
          description: تضمين الفئات المحذوفة
          schema:
            example: false
        - name: isFeatured
          required: false
          in: query
          description: تصفية الفئات المميزة
          schema:
            example: true
        - name: isActive
          required: false
          in: query
          description: تصفية الفئات النشطة
          schema:
            example: true
        - name: parentId
          required: false
          in: query
          description: تصفية حسب الفئة الأب
          schema:
            example: 64a1b2c3d4e5f6789abcdef0
        - name: search
          required: false
          in: query
          description: البحث في أسماء الفئات
          schema:
            example: إلكترونيات
      responses:
        '200':
          description: تم الحصول على قائمة الفئات بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                          example: 64a1b2c3d4e5f6789abcdef0
                        name:
                          type: string
                          example: الإلكترونيات
                        nameEn:
                          type: string
                          example: Electronics
                        slug:
                          type: string
                          example: electronics
                        description:
                          type: string
                          example: جميع الأجهزة الإلكترونية
                        parentId:
                          type: string
                          example: null
                        isActive:
                          type: boolean
                          example: true
                        isFeatured:
                          type: boolean
                          example: true
                        order:
                          type: number
                          example: 1
                        productCount:
                          type: number
                          example: 25
                        createdAt:
                          type: string
                          format: date-time
                        updatedAt:
                          type: string
                          format: date-time
        '401':
          description: غير مصرح - مطلوب تسجيل دخول
        '403':
          description: ممنوع - مطلوب صلاحيات إدارية
      security:
        - bearer: []
  /api/v1/admin/categories/tree:
    get:
      operationId: getCategoryTree
      summary: الحصول على شجرة الفئات الكاملة
      description: الحصول على شجرة الفئات الكاملة مع جميع المستويات والعلاقات الهرمية. يتطلب صلاحيات إدارية.
      tags:
        - admin-categories
      parameters: []
      responses:
        '200':
          description: تم الحصول على شجرة الفئات بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                          example: 64a1b2c3d4e5f6789abcdef0
                        name:
                          type: string
                          example: الإلكترونيات
                        nameEn:
                          type: string
                          example: Electronics
                        slug:
                          type: string
                          example: electronics
                        description:
                          type: string
                          example: جميع الأجهزة الإلكترونية
                        isActive:
                          type: boolean
                          example: true
                        isFeatured:
                          type: boolean
                          example: true
                        order:
                          type: number
                          example: 1
                        productCount:
                          type: number
                          example: 25
                        children:
                          type: array
                          items:
                            type: object
                            properties:
                              _id:
                                type: string
                                example: 64a1b2c3d4e5f6789abcdef1
                              name:
                                type: string
                                example: الهواتف
                              nameEn:
                                type: string
                                example: Phones
                              slug:
                                type: string
                                example: phones
                              productCount:
                                type: number
                                example: 15
        '401':
          description: غير مصرح - مطلوب تسجيل دخول
        '403':
          description: ممنوع - مطلوب صلاحيات إدارية
      security:
        - bearer: []
  /api/v1/admin/categories/{id}:
    get:
      operationId: getCategory
      summary: الحصول على فئة واحدة
      description: الحصول على تفاصيل فئة محددة مع جميع المعلومات والإحصائيات. يتطلب صلاحيات إدارية.
      tags:
        - admin-categories
      parameters:
        - name: id
          required: true
          in: path
          description: معرف الفئة (ObjectId)
          schema:
            example: 64a1b2c3d4e5f6789abcdef0
            type: string
      responses:
        '200':
          description: تم الحصول على الفئة بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      _id:
                        type: string
                        example: 64a1b2c3d4e5f6789abcdef0
                      name:
                        type: string
                        example: الإلكترونيات
                      nameEn:
                        type: string
                        example: Electronics
                      slug:
                        type: string
                        example: electronics
                      description:
                        type: string
                        example: جميع الأجهزة الإلكترونية
                      parentId:
                        type: string
                        example: null
                      parent:
                        type: object
                        properties:
                          _id:
                            type: string
                            example: parent_id
                          name:
                            type: string
                            example: الفئة الأب
                          nameEn:
                            type: string
                            example: Parent Category
                      isActive:
                        type: boolean
                        example: true
                      isFeatured:
                        type: boolean
                        example: true
                      order:
                        type: number
                        example: 1
                      productCount:
                        type: number
                        example: 25
                      children:
                        type: array
                      createdAt:
                        type: string
                        format: date-time
                      updatedAt:
                        type: string
                        format: date-time
        '401':
          description: غير مصرح - مطلوب تسجيل دخول
        '403':
          description: ممنوع - مطلوب صلاحيات إدارية
        '404':
          description: الفئة غير موجودة
      security:
        - bearer: []
    patch:
      operationId: updateCategory
      summary: تحديث فئة
      description: تحديث بيانات فئة موجودة. يتطلب صلاحيات إدارية.
      tags:
        - admin-categories
      parameters:
        - name: id
          required: true
          in: path
          description: معرف الفئة (ObjectId)
          schema:
            example: 64a1b2c3d4e5f6789abcdef0
            type: string
      requestBody:
        required: true
        description: البيانات المحدثة للفئة
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateCategoryDto'
      responses:
        '200':
          description: تم تحديث الفئة بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      _id:
                        type: string
                        example: 64a1b2c3d4e5f6789abcdef0
                      name:
                        type: string
                        example: الإلكترونيات المحدثة
                      nameEn:
                        type: string
                        example: Updated Electronics
                      slug:
                        type: string
                        example: updated-electronics
                      description:
                        type: string
                        example: جميع الأجهزة الإلكترونية المحدثة
                      isActive:
                        type: boolean
                        example: true
                      isFeatured:
                        type: boolean
                        example: true
                      order:
                        type: number
                        example: 2
                      productCount:
                        type: number
                        example: 25
                      updatedAt:
                        type: string
                        format: date-time
        '401':
          description: غير مصرح - مطلوب تسجيل دخول
        '403':
          description: ممنوع - مطلوب صلاحيات إدارية
        '404':
          description: الفئة غير موجودة
      security:
        - bearer: []
    delete:
      operationId: deleteCategory
      summary: حذف فئة (حذف منطقي)
      description: حذف فئة من النظام (حذف منطقي - Soft Delete). يمكن استعادتها لاحقاً. يتطلب صلاحيات إدارية.
      tags:
        - admin-categories
      parameters:
        - name: id
          required: true
          in: path
          description: معرف الفئة (ObjectId)
          schema:
            example: 64a1b2c3d4e5f6789abcdef0
            type: string
      responses:
        '200':
          description: تم حذف الفئة بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      deleted:
                        type: boolean
                        example: true
                      deletedAt:
                        type: string
                        format: date-time
        '400':
          description: لا يمكن حذف فئة تحتوي على منتجات أو فئات فرعية
        '401':
          description: غير مصرح - مطلوب تسجيل دخول
        '403':
          description: ممنوع - مطلوب صلاحيات إدارية
        '404':
          description: الفئة غير موجودة
      security:
        - bearer: []
  /api/v1/admin/categories/{id}/restore:
    post:
      operationId: restoreCategory
      summary: استعادة فئة محذوفة
      description: استعادة فئة تم حذفها مسبقاً (حذف منطقي). يتطلب صلاحيات إدارية.
      tags:
        - admin-categories
      parameters:
        - name: id
          required: true
          in: path
          description: معرف الفئة المحذوفة (ObjectId)
          schema:
            example: 64a1b2c3d4e5f6789abcdef0
            type: string
      responses:
        '200':
          description: تم استعادة الفئة بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      restored:
                        type: boolean
                        example: true
        '401':
          description: غير مصرح - مطلوب تسجيل دخول
        '403':
          description: ممنوع - مطلوب صلاحيات إدارية
        '404':
          description: الفئة غير موجودة أو غير محذوفة
      security:
        - bearer: []
  /api/v1/admin/categories/{id}/permanent:
    delete:
      operationId: permanentDeleteCategory
      summary: حذف نهائي للفئة
      description: حذف فئة نهائياً من النظام. لا يمكن استعادتها. يتطلب صلاحيات Super Admin فقط.
      tags:
        - admin-categories
      parameters:
        - name: id
          required: true
          in: path
          description: معرف الفئة (ObjectId)
          schema:
            example: 64a1b2c3d4e5f6789abcdef0
            type: string
      responses:
        '200':
          description: تم حذف الفئة نهائياً بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      deleted:
                        type: boolean
                        example: true
                      message:
                        type: string
                        example: تم حذف الفئة نهائياً
        '401':
          description: غير مصرح - مطلوب تسجيل دخول
        '403':
          description: ممنوع - مطلوب صلاحيات Super Admin فقط
        '404':
          description: الفئة غير موجودة
      security:
        - bearer: []
  /api/v1/admin/categories/{id}/update-stats:
    post:
      operationId: updateCategoryStats
      summary: تحديث إحصائيات الفئة
      description: تحديث عدد المنتجات والإحصائيات الأخرى للفئة. يتطلب صلاحيات إدارية.
      tags:
        - admin-categories
      parameters:
        - name: id
          required: true
          in: path
          description: معرف الفئة (ObjectId)
          schema:
            example: 64a1b2c3d4e5f6789abcdef0
            type: string
      responses:
        '200':
          description: تم تحديث الإحصائيات بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      updated:
                        type: boolean
                        example: true
                      productCount:
                        type: number
                        example: 25
                      updatedAt:
                        type: string
                        format: date-time
        '401':
          description: غير مصرح - مطلوب تسجيل دخول
        '403':
          description: ممنوع - مطلوب صلاحيات إدارية
        '404':
          description: الفئة غير موجودة
      security:
        - bearer: []
  /api/v1/admin/categories/stats/summary:
    get:
      operationId: getStats
      summary: إحصائيات الفئات العامة
      description: الحصول على إحصائيات شاملة عن الفئات في النظام. يتطلب صلاحيات إدارية.
      tags:
        - admin-categories
      parameters: []
      responses:
        '200':
          description: تم الحصول على الإحصائيات بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      totalCategories:
                        type: number
                        example: 50
                      activeCategories:
                        type: number
                        example: 45
                      featuredCategories:
                        type: number
                        example: 10
                      deletedCategories:
                        type: number
                        example: 5
                      totalProducts:
                        type: number
                        example: 1250
                      categoriesWithProducts:
                        type: number
                        example: 35
                      averageProductsPerCategory:
                        type: number
                        example: 25.5
        '401':
          description: غير مصرح - مطلوب تسجيل دخول
        '403':
          description: ممنوع - مطلوب صلاحيات إدارية
      security:
        - bearer: []
  /api/v1/categories:
    get:
      operationId: listCategories
      summary: الحصول على قائمة الفئات النشطة
      description: >-
        الحصول على قائمة بجميع الفئات النشطة مع إمكانية التصفية حسب الفئة الأب أو الفئات المميزة. النتائج مخزنة مؤقتاً
        لمدة 30 دقيقة.
      tags:
        - categories-public
      parameters:
        - name: parentId
          required: false
          in: query
          description: تصفية حسب الفئة الأب (null للفئات الجذرية)
          schema:
            example: 64a1b2c3d4e5f6789abcdef0
            type: string
        - name: isFeatured
          required: false
          in: query
          description: تصفية الفئات المميزة فقط
          schema:
            example: true
            type: string
      responses:
        '200':
          description: تم الحصول على قائمة الفئات بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                          example: 64a1b2c3d4e5f6789abcdef0
                        name:
                          type: string
                          example: الإلكترونيات
                        nameEn:
                          type: string
                          example: Electronics
                        slug:
                          type: string
                          example: electronics
                        description:
                          type: string
                          example: جميع الأجهزة الإلكترونية والكهربائية
                        parentId:
                          type: string
                          example: null
                        isActive:
                          type: boolean
                          example: true
                        isFeatured:
                          type: boolean
                          example: true
                        order:
                          type: number
                          example: 1
                        productCount:
                          type: number
                          example: 25
                        createdAt:
                          type: string
                          format: date-time
                        updatedAt:
                          type: string
                          format: date-time
  /api/v1/categories/tree:
    get:
      operationId: getCategoryTree
      summary: الحصول على شجرة الفئات الكاملة
      description: الحصول على شجرة الفئات الكاملة مع جميع المستويات والعلاقات الهرمية. النتائج مخزنة مؤقتاً لمدة ساعة واحدة.
      tags:
        - categories-public
      parameters: []
      responses:
        '200':
          description: تم الحصول على شجرة الفئات بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                          example: 64a1b2c3d4e5f6789abcdef0
                        name:
                          type: string
                          example: الإلكترونيات
                        nameEn:
                          type: string
                          example: Electronics
                        slug:
                          type: string
                          example: electronics
                        description:
                          type: string
                          example: جميع الأجهزة الإلكترونية
                        isActive:
                          type: boolean
                          example: true
                        isFeatured:
                          type: boolean
                          example: true
                        order:
                          type: number
                          example: 1
                        productCount:
                          type: number
                          example: 25
                        children:
                          type: array
                          items:
                            type: object
                            properties:
                              _id:
                                type: string
                                example: 64a1b2c3d4e5f6789abcdef1
                              name:
                                type: string
                                example: الهواتف
                              nameEn:
                                type: string
                                example: Phones
                              slug:
                                type: string
                                example: phones
                              description:
                                type: string
                                example: الهواتف الذكية والملحقات
                              isActive:
                                type: boolean
                                example: true
                              isFeatured:
                                type: boolean
                                example: false
                              productCount:
                                type: number
                                example: 15
                              children:
                                type: array
  /api/v1/categories/{id}:
    get:
      operationId: getCategory
      summary: الحصول على فئة واحدة
      description: الحصول على تفاصيل فئة محددة مع جميع المعلومات المتاحة للجمهور. النتائج مخزنة مؤقتاً لمدة 30 دقيقة.
      tags:
        - categories-public
      parameters:
        - name: id
          required: true
          in: path
          description: معرف الفئة (ObjectId أو Slug)
          schema:
            example: 64a1b2c3d4e5f6789abcdef0
            type: string
      responses:
        '200':
          description: تم الحصول على الفئة بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      _id:
                        type: string
                        example: 64a1b2c3d4e5f6789abcdef0
                      name:
                        type: string
                        example: الإلكترونيات
                      nameEn:
                        type: string
                        example: Electronics
                      slug:
                        type: string
                        example: electronics
                      description:
                        type: string
                        example: جميع الأجهزة الإلكترونية والكهربائية
                      parentId:
                        type: string
                        example: null
                      parent:
                        type: object
                        properties:
                          _id:
                            type: string
                            example: parent_id
                          name:
                            type: string
                            example: الفئة الأب
                          nameEn:
                            type: string
                            example: Parent Category
                          slug:
                            type: string
                            example: parent-category
                      isActive:
                        type: boolean
                        example: true
                      isFeatured:
                        type: boolean
                        example: true
                      order:
                        type: number
                        example: 1
                      productCount:
                        type: number
                        example: 25
                      children:
                        type: array
                        items:
                          type: object
                          properties:
                            _id:
                              type: string
                              example: 64a1b2c3d4e5f6789abcdef1
                            name:
                              type: string
                              example: الهواتف
                            nameEn:
                              type: string
                              example: Phones
                            slug:
                              type: string
                              example: phones
                            productCount:
                              type: number
                              example: 15
                      createdAt:
                        type: string
                        format: date-time
                      updatedAt:
                        type: string
                        format: date-time
        '404':
          description: الفئة غير موجودة أو غير نشطة
  /api/v1/categories/featured/list:
    get:
      operationId: getFeaturedCategories
      summary: الحصول على الفئات المميزة
      description: الحصول على قائمة بالفئات المميزة النشطة فقط. النتائج مخزنة مؤقتاً لمدة 30 دقيقة.
      tags:
        - categories-public
      parameters: []
      responses:
        '200':
          description: تم الحصول على الفئات المميزة بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                          example: 64a1b2c3d4e5f6789abcdef0
                        name:
                          type: string
                          example: الإلكترونيات المميزة
                        nameEn:
                          type: string
                          example: Featured Electronics
                        slug:
                          type: string
                          example: featured-electronics
                        description:
                          type: string
                          example: أفضل الأجهزة الإلكترونية المختارة
                        parentId:
                          type: string
                          example: null
                        isActive:
                          type: boolean
                          example: true
                        isFeatured:
                          type: boolean
                          example: true
                        order:
                          type: number
                          example: 1
                        productCount:
                          type: number
                          example: 10
                        createdAt:
                          type: string
                          format: date-time
                        updatedAt:
                          type: string
                          format: date-time
  /api/v1/exchange-rates:
    get:
      operationId: getCurrentRates
      parameters: []
      responses:
        '200':
          description: ''
  /api/v1/exchange-rates/convert:
    post:
      operationId: convertCurrency
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ConvertCurrencyDto'
      responses:
        '201':
          description: ''
  /api/v1/exchange-rates/usd-to-yer:
    get:
      operationId: getUSDToYERRate
      parameters: []
      responses:
        '200':
          description: ''
  /api/v1/exchange-rates/usd-to-sar:
    get:
      operationId: getUSDToSARRate
      parameters: []
      responses:
        '200':
          description: ''
  /api/v1/admin/exchange-rates:
    get:
      operationId: getCurrentRates
      parameters: []
      responses:
        '200':
          description: ''
  /api/v1/admin/exchange-rates/update:
    post:
      operationId: updateRates
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateExchangeRateDto'
      responses:
        '201':
          description: ''
  /api/v1/admin/exchange-rates/convert:
    post:
      operationId: convertCurrency
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ConvertCurrencyDto'
      responses:
        '201':
          description: ''
  /api/v1/admin/exchange-rates/usd-to-yer:
    get:
      operationId: getUSDToYERRate
      parameters: []
      responses:
        '200':
          description: ''
  /api/v1/admin/exchange-rates/usd-to-sar:
    get:
      operationId: getUSDToSARRate
      parameters: []
      responses:
        '200':
          description: ''
  /api/v1/notifications:
    get:
      operationId: getUserNotifications
      summary: Get user notifications
      parameters:
        - name: limit
          required: true
          in: query
          schema:
            type: number
        - name: offset
          required: true
          in: query
          schema:
            type: number
      responses:
        '200':
          description: Notifications retrieved successfully
      tags:
        - notifications
      security:
        - bearer: []
  /api/v1/notifications/unread-count:
    get:
      operationId: getUnreadCount
      summary: Get unread notifications count
      parameters: []
      responses:
        '200':
          description: Unread count retrieved successfully
      tags:
        - notifications
      security:
        - bearer: []
  /api/v1/notifications/mark-read:
    post:
      operationId: markAsRead
      summary: Mark notifications as read
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MarkAsReadDto'
      responses:
        '200':
          description: Notifications marked as read successfully
      tags:
        - notifications
      security:
        - bearer: []
  /api/v1/notifications/mark-all-read:
    post:
      operationId: markAllAsRead
      summary: Mark all notifications as read
      parameters: []
      responses:
        '200':
          description: All notifications marked as read successfully
      tags:
        - notifications
      security:
        - bearer: []
  /api/v1/notifications/stats:
    get:
      operationId: getUserStats
      summary: Get user notification statistics
      parameters: []
      responses:
        '200':
          description: Statistics retrieved successfully
      tags:
        - notifications
      security:
        - bearer: []
  /api/v1/notifications/admin/list:
    get:
      operationId: adminListNotifications
      summary: 'Admin: List all notifications'
      parameters: []
      responses:
        '200':
          description: Notifications listed successfully
      tags:
        - notifications
      security:
        - bearer: []
  /api/v1/notifications/admin/create:
    post:
      operationId: adminCreateNotification
      summary: 'Admin: Create notification'
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateNotificationDto'
      responses:
        '201':
          description: Notification created successfully
      tags:
        - notifications
      security:
        - bearer: []
  /api/v1/notifications/admin/{id}:
    get:
      operationId: adminGetNotification
      summary: 'Admin: Get notification by ID'
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      responses:
        '200':
          description: Notification retrieved successfully
        '404':
          description: Notification not found
      tags:
        - notifications
      security:
        - bearer: []
    put:
      operationId: adminUpdateNotification
      summary: 'Admin: Update notification'
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateNotificationDto'
      responses:
        '200':
          description: Notification updated successfully
        '404':
          description: Notification not found
      tags:
        - notifications
      security:
        - bearer: []
    delete:
      operationId: adminDeleteNotification
      summary: 'Admin: Delete notification'
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      responses:
        '200':
          description: Notification deleted successfully
        '404':
          description: Notification not found
      tags:
        - notifications
      security:
        - bearer: []
  /api/v1/notifications/admin/bulk-send:
    post:
      operationId: adminBulkSend
      summary: 'Admin: Send bulk notifications'
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BulkSendNotificationDto'
      responses:
        '200':
          description: Bulk notifications sent successfully
      tags:
        - notifications
      security:
        - bearer: []
  /api/v1/notifications/admin/stats:
    get:
      operationId: adminGetStats
      summary: 'Admin: Get notification statistics'
      parameters:
        - name: userId
          required: true
          in: query
          schema:
            type: string
      responses:
        '200':
          description: Statistics retrieved successfully
      tags:
        - notifications
      security:
        - bearer: []
  /api/v1/notifications/admin/cleanup:
    post:
      operationId: adminCleanup
      summary: 'Admin: Cleanup old notifications'
      parameters:
        - name: olderThanDays
          required: true
          in: query
          schema:
            type: number
      responses:
        '200':
          description: Cleanup completed successfully
      tags:
        - notifications
      security:
        - bearer: []
  /api/v1/admin/user-analytics/user/{userId}:
    get:
      operationId: getUserDetailedStats
      summary: الحصول على تفاصيل وإحصائيات مستخدم واحد
      description: يعرض جميع الإحصائيات والتفاصيل الشاملة لمستخدم معين
      parameters:
        - name: userId
          required: true
          in: path
          schema:
            type: string
      responses:
        '200':
          description: تم جلب بيانات المستخدم بنجاح
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserDetailedStatsDto'
        '404':
          description: المستخدم غير موجود
      tags:
        - user-analytics
      security:
        - bearer: []
  /api/v1/admin/user-analytics/rankings:
    get:
      operationId: getCustomerRankings
      summary: ترتيب العملاء حسب القيمة والأداء
      description: يعرض قائمة مرتبة للعملاء حسب المبلغ المنفق وعدد الطلبات
      parameters:
        - name: limit
          required: false
          in: query
          description: عدد العملاء المراد عرضهم
          schema:
            default: 50
            type: number
      responses:
        '200':
          description: تم جلب ترتيب العملاء بنجاح
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CustomerRankingDto'
      tags:
        - user-analytics
      security:
        - bearer: []
  /api/v1/admin/user-analytics/overview:
    get:
      operationId: getOverallAnalytics
      summary: الإحصائيات العامة للمستخدمين
      description: يعرض إحصائيات شاملة عن جميع المستخدمين في النظام
      parameters: []
      responses:
        '200':
          description: تم جلب الإحصائيات العامة بنجاح
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OverallUserAnalyticsDto'
      tags:
        - user-analytics
      security:
        - bearer: []
  /api/v1/admin/user-analytics/analyze:
    post:
      operationId: analyzeUsers
      summary: تحليل متقدم للمستخدمين
      description: تحليل شامل للمستخدمين حسب المعايير المحددة
      parameters:
        - name: page
          required: true
          in: query
          schema:
            type: number
        - name: limit
          required: true
          in: query
          schema:
            type: number
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserStatsFilterDto'
      responses:
        '200':
          description: تم التحليل بنجاح
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedUserStatsDto'
      tags:
        - user-analytics
      security:
        - bearer: []
  /api/v1/admin/user-analytics/reports/top-customers:
    get:
      operationId: getTopCustomersReport
      summary: تقرير أفضل العملاء
      description: تقرير مفصل عن أفضل العملاء حسب معايير متعددة
      parameters:
        - name: period
          required: true
          in: query
          schema:
            type: string
        - name: metric
          required: true
          in: query
          schema:
            type: string
      responses:
        '200':
          description: تم إنشاء التقرير بنجاح
      tags:
        - user-analytics
      security:
        - bearer: []
  /api/v1/admin/user-analytics/reports/customer-segments:
    get:
      operationId: getCustomerSegmentsReport
      summary: تقرير شرائح العملاء
      description: تقرير تحليلي لشرائح العملاء المختلفة
      parameters: []
      responses:
        '200':
          description: تم إنشاء التقرير بنجاح
      tags:
        - user-analytics
      security:
        - bearer: []
  /api/v1/admin/user-analytics/alerts/churn-risk:
    get:
      operationId: getChurnRiskAlerts
      summary: تنبيهات مخاطر فقدان العملاء
      description: قائمة العملاء المعرضين لخطر فقدانهم
      parameters: []
      responses:
        '200':
          description: تم جلب التنبيهات بنجاح
      tags:
        - user-analytics
      security:
        - bearer: []
  /api/v1/admin/user-analytics/scoring/config:
    get:
      operationId: getScoringConfig
      summary: الحصول على إعدادات التقييم الحالية
      description: يعرض الإعدادات المستخدمة في حساب نقاط المستخدمين
      parameters: []
      responses:
        '200':
          description: تم جلب إعدادات التقييم بنجاح
      tags:
        - user-analytics
      security:
        - bearer: []
    post:
      operationId: updateScoringConfig
      summary: تحديث إعدادات التقييم
      description: تحديث الإعدادات المستخدمة في حساب نقاط المستخدمين
      parameters: []
      responses:
        '200':
          description: تم تحديث إعدادات التقييم بنجاح
      tags:
        - user-analytics
      security:
        - bearer: []
  /api/v1/admin/user-analytics/cache/stats:
    get:
      operationId: getCacheStats
      summary: الحصول على إحصائيات التخزين المؤقت
      description: يعرض إحصائيات نظام التخزين المؤقت
      parameters: []
      responses:
        '200':
          description: تم جلب إحصائيات التخزين المؤقت بنجاح
      tags:
        - user-analytics
      security:
        - bearer: []
  /api/v1/admin/user-analytics/cache/clear:
    post:
      operationId: clearCache
      summary: مسح جميع البيانات من التخزين المؤقت
      description: مسح جميع البيانات المخزنة مؤقتاً
      parameters: []
      responses:
        '200':
          description: تم مسح التخزين المؤقت بنجاح
      tags:
        - user-analytics
      security:
        - bearer: []
  /api/v1/admin/user-analytics/cache/user/{userId}:
    delete:
      operationId: clearUserCache
      summary: مسح بيانات مستخدم من التخزين المؤقت
      description: مسح جميع البيانات المخزنة مؤقتاً لمستخدم معين
      parameters:
        - name: userId
          required: true
          in: path
          schema:
            type: string
      responses:
        '200':
          description: تم مسح بيانات المستخدم من التخزين المؤقت بنجاح
      tags:
        - user-analytics
      security:
        - bearer: []
  /api/v1/orders/checkout/preview:
    post:
      operationId: previewCheckout
      summary: معاينة الطلب
      description: معاينة تفاصيل الطلب والأسعار قبل التأكيد
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CheckoutPreviewDto'
      responses:
        '200':
          description: تم إنشاء معاينة الطلب بنجاح
        '400':
          description: بيانات غير صحيحة
      tags:
        - orders
      security:
        - bearer: []
  /api/v1/orders/checkout/confirm:
    post:
      operationId: confirmCheckout
      summary: تأكيد الطلب
      description: تأكيد الطلب وإنشاؤه في النظام
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CheckoutConfirmDto'
      responses:
        '201':
          description: تم إنشاء الطلب بنجاح
        '400':
          description: فشل في إنشاء الطلب
      tags:
        - orders
      security:
        - bearer: []
  /api/v1/orders:
    get:
      operationId: getUserOrders
      summary: الحصول على طلبات المستخدم
      description: قائمة بجميع طلبات المستخدم مع إمكانية الفلترة والترقيم
      parameters:
        - name: page
          required: false
          in: query
          schema:
            default: 1
            type: number
        - name: limit
          required: false
          in: query
          schema:
            default: 20
            type: number
        - name: status
          required: false
          in: query
          schema:
            enum:
              - draft
              - pending_payment
              - confirmed
              - payment_failed
              - processing
              - ready_to_ship
              - shipped
              - out_for_delivery
              - delivered
              - completed
              - on_hold
              - cancelled
              - refunded
              - partially_refunded
              - returned
            type: string
        - name: paymentStatus
          required: false
          in: query
          schema:
            enum:
              - pending
              - authorized
              - paid
              - failed
              - refunded
              - partially_refunded
              - cancelled
            type: string
        - name: search
          required: false
          in: query
          schema:
            type: string
        - name: sortBy
          required: false
          in: query
          schema:
            type: string
        - name: sortOrder
          required: false
          in: query
          schema:
            default: desc
            enum:
              - asc
              - desc
            type: string
        - name: fromDate
          required: false
          in: query
          schema:
            type: string
        - name: toDate
          required: false
          in: query
          schema:
            type: string
      responses:
        '200':
          description: تم الحصول على الطلبات بنجاح
      tags:
        - orders
      security:
        - bearer: []
  /api/v1/orders/recent:
    get:
      operationId: getRecentOrders
      summary: الطلبات الأخيرة
      description: الحصول على أحدث الطلبات للمستخدم
      parameters:
        - name: limit
          required: false
          in: query
          description: عدد الطلبات المطلوبة
          schema:
            type: number
      responses:
        '200':
          description: تم الحصول على الطلبات الأخيرة
      tags:
        - orders
      security:
        - bearer: []
  /api/v1/orders/{id}:
    get:
      operationId: getOrderDetails
      summary: تفاصيل الطلب
      description: الحصول على تفاصيل طلب محدد
      parameters:
        - name: id
          required: true
          in: path
          description: معرف الطلب
          schema:
            type: string
      responses:
        '200':
          description: تم الحصول على تفاصيل الطلب
        '404':
          description: الطلب غير موجود
      tags:
        - orders
      security:
        - bearer: []
  /api/v1/orders/{id}/track:
    get:
      operationId: trackOrder
      summary: تتبع الطلب
      description: الحصول على معلومات تتبع الطلب والخط الزمني
      parameters:
        - name: id
          required: true
          in: path
          description: معرف الطلب
          schema:
            type: string
      responses:
        '200':
          description: تم الحصول على معلومات التتبع
      tags:
        - orders
      security:
        - bearer: []
  /api/v1/orders/{id}/cancel:
    post:
      operationId: cancelOrder
      summary: إلغاء الطلب
      description: إلغاء طلب محدد من قبل العميل
      parameters:
        - name: id
          required: true
          in: path
          description: معرف الطلب
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CancelOrderDto'
      responses:
        '200':
          description: تم إلغاء الطلب بنجاح
        '400':
          description: لا يمكن إلغاء الطلب
      tags:
        - orders
      security:
        - bearer: []
  /api/v1/orders/{id}/rate:
    post:
      operationId: rateOrder
      summary: تقييم الطلب
      description: تقييم طلب محدد بعد التسليم
      parameters:
        - name: id
          required: true
          in: path
          description: معرف الطلب
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RateOrderDto'
      responses:
        '200':
          description: تم تقييم الطلب بنجاح
        '400':
          description: لا يمكن تقييم الطلب في هذه المرحلة
      tags:
        - orders
      security:
        - bearer: []
  /api/v1/orders/{id}/notes:
    post:
      operationId: addOrderNotes
      summary: إضافة ملاحظات للطلب
      description: إضافة ملاحظات شخصية للطلب
      parameters:
        - name: id
          required: true
          in: path
          description: معرف الطلب
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AddOrderNotesDto'
      responses:
        '200':
          description: تم إضافة الملاحظات بنجاح
      tags:
        - orders
      security:
        - bearer: []
  /api/v1/orders/stats/summary:
    get:
      operationId: getOrderStatistics
      summary: إحصائيات الطلبات
      description: الحصول على إحصائيات طلبات المستخدم
      parameters: []
      responses:
        '200':
          description: تم الحصول على الإحصائيات
      tags:
        - orders
      security:
        - bearer: []
  /api/v1/admin/orders:
    get:
      operationId: getAllOrders
      summary: جميع الطلبات (للإدارة)
      description: الحصول على جميع الطلبات مع إمكانية الفلترة والبحث
      parameters:
        - name: page
          required: false
          in: query
          schema:
            default: 1
            type: number
        - name: limit
          required: false
          in: query
          schema:
            default: 20
            type: number
        - name: status
          required: false
          in: query
          schema:
            enum:
              - draft
              - pending_payment
              - confirmed
              - payment_failed
              - processing
              - ready_to_ship
              - shipped
              - out_for_delivery
              - delivered
              - completed
              - on_hold
              - cancelled
              - refunded
              - partially_refunded
              - returned
            type: string
        - name: paymentStatus
          required: false
          in: query
          schema:
            enum:
              - pending
              - authorized
              - paid
              - failed
              - refunded
              - partially_refunded
              - cancelled
            type: string
        - name: search
          required: false
          in: query
          schema:
            type: string
        - name: sortBy
          required: false
          in: query
          schema:
            type: string
        - name: sortOrder
          required: false
          in: query
          schema:
            default: desc
            enum:
              - asc
              - desc
            type: string
        - name: fromDate
          required: false
          in: query
          schema:
            type: string
        - name: toDate
          required: false
          in: query
          schema:
            type: string
      responses:
        '200':
          description: تم الحصول على الطلبات بنجاح
      tags:
        - admin-orders
      security:
        - bearer: []
  /api/v1/admin/orders/{id}:
    get:
      operationId: getOrderDetails
      summary: تفاصيل الطلب (للإدارة)
      description: الحصول على تفاصيل طلب محدد مع جميع المعلومات
      parameters:
        - name: id
          required: true
          in: path
          description: معرف الطلب
          schema:
            type: string
      responses:
        '200':
          description: تم الحصول على تفاصيل الطلب
        '404':
          description: الطلب غير موجود
      tags:
        - admin-orders
      security:
        - bearer: []
  /api/v1/admin/orders/{id}/status:
    patch:
      operationId: updateOrderStatus
      summary: تحديث حالة الطلب
      description: تحديث حالة طلب محدد من قبل الإدارة
      parameters:
        - name: id
          required: true
          in: path
          description: معرف الطلب
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateOrderStatusDto'
      responses:
        '200':
          description: تم تحديث حالة الطلب بنجاح
        '400':
          description: لا يمكن تحديث الحالة
      tags:
        - admin-orders
      security:
        - bearer: []
  /api/v1/admin/orders/{id}/ship:
    post:
      operationId: shipOrder
      summary: شحن الطلب
      description: تحديث معلومات الشحن للطلب
      parameters:
        - name: id
          required: true
          in: path
          description: معرف الطلب
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ShipOrderDto'
      responses:
        '200':
          description: تم شحن الطلب بنجاح
        '400':
          description: الطلب غير جاهز للشحن
      tags:
        - admin-orders
      security:
        - bearer: []
  /api/v1/admin/orders/{id}/refund:
    post:
      operationId: processRefund
      summary: معالجة الاسترداد
      description: معالجة استرداد مبلغ الطلب
      parameters:
        - name: id
          required: true
          in: path
          description: معرف الطلب
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RefundOrderDto'
      responses:
        '200':
          description: تم معالجة الاسترداد بنجاح
        '400':
          description: لا يمكن معالجة الاسترداد
      tags:
        - admin-orders
      security:
        - bearer: []
  /api/v1/admin/orders/{id}/notes:
    post:
      operationId: addAdminNotes
      summary: إضافة ملاحظات إدارية
      description: إضافة ملاحظات إدارية للطلب
      parameters:
        - name: id
          required: true
          in: path
          description: معرف الطلب
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AddOrderNotesDto'
      responses:
        '200':
          description: تم إضافة الملاحظات بنجاح
      tags:
        - admin-orders
      security:
        - bearer: []
  /api/v1/admin/orders/bulk/update-status:
    post:
      operationId: bulkUpdateStatus
      summary: تحديث حالة عدة طلبات
      description: تحديث حالة عدة طلبات في عملية واحدة
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BulkOrderUpdateDto'
      responses:
        '200':
          description: تم تحديث الطلبات بنجاح
        '400':
          description: فشل في تحديث بعض الطلبات
      tags:
        - admin-orders
      security:
        - bearer: []
  /api/v1/admin/orders/analytics/summary:
    get:
      operationId: getAnalytics
      summary: التحليلات الإدارية
      description: الحصول على تحليلات شاملة للطلبات
      parameters:
        - name: days
          required: false
          in: query
          description: عدد الأيام
          schema:
            default: 7
            type: number
        - name: groupBy
          required: false
          in: query
          description: تجميع البيانات
          schema:
            type: string
        - name: status
          required: false
          in: query
          description: فلترة حسب الحالة
          schema:
            type: string
      responses:
        '200':
          description: تم الحصول على التحليلات
      tags:
        - admin-orders
      security:
        - bearer: []
  /api/v1/admin/orders/analytics/revenue:
    get:
      operationId: getRevenueAnalytics
      summary: تحليل الإيرادات
      description: تحليل مفصل للإيرادات والأرباح
      parameters:
        - name: fromDate
          required: false
          in: query
          description: تاريخ البداية
          schema:
            type: string
        - name: toDate
          required: false
          in: query
          description: تاريخ النهاية
          schema:
            type: string
      responses:
        '200':
          description: تم الحصول على تحليل الإيرادات
      tags:
        - admin-orders
      security:
        - bearer: []
  /api/v1/admin/orders/analytics/performance:
    get:
      operationId: getPerformanceAnalytics
      summary: تحليل الأداء
      description: تحليل أداء النظام والطلبات
      parameters: []
      responses:
        '200':
          description: تم الحصول على تحليل الأداء
      tags:
        - admin-orders
      security:
        - bearer: []
  /api/v1/admin/orders/reports/orders:
    get:
      operationId: generateOrdersReport
      summary: تقرير الطلبات
      description: تقرير مفصل للطلبات
      parameters:
        - name: page
          required: false
          in: query
          schema:
            default: 1
            type: number
        - name: limit
          required: false
          in: query
          schema:
            default: 20
            type: number
        - name: status
          required: false
          in: query
          schema:
            enum:
              - draft
              - pending_payment
              - confirmed
              - payment_failed
              - processing
              - ready_to_ship
              - shipped
              - out_for_delivery
              - delivered
              - completed
              - on_hold
              - cancelled
              - refunded
              - partially_refunded
              - returned
            type: string
        - name: paymentStatus
          required: false
          in: query
          schema:
            enum:
              - pending
              - authorized
              - paid
              - failed
              - refunded
              - partially_refunded
              - cancelled
            type: string
        - name: search
          required: false
          in: query
          schema:
            type: string
        - name: sortBy
          required: false
          in: query
          schema:
            type: string
        - name: sortOrder
          required: false
          in: query
          schema:
            default: desc
            enum:
              - asc
              - desc
            type: string
        - name: fromDate
          required: false
          in: query
          schema:
            type: string
        - name: toDate
          required: false
          in: query
          schema:
            type: string
        - name: format
          required: false
          in: query
          description: تنسيق التقرير (pdf, excel)
          schema:
            type: string
      responses:
        '200':
          description: تم إنشاء التقرير
      tags:
        - admin-orders
      security:
        - bearer: []
  /api/v1/admin/orders/reports/financial:
    get:
      operationId: generateFinancialReport
      summary: التقرير المالي
      description: تقرير مالي مفصل للطلبات
      parameters: []
      responses:
        '200':
          description: تم إنشاء التقرير المالي
      tags:
        - admin-orders
      security:
        - bearer: []
  /api/v1/webhooks/payment:
    post:
      operationId: handlePaymentWebhook
      summary: Webhook الدفع
      description: معالجة إشعارات الدفع من مزودي الخدمة
      parameters:
        - name: X-Webhook-Signature
          required: false
          in: header
          description: توقيع Webhook للتحقق من الأمان
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/WebhookDto'
      responses:
        '200':
          description: تم معالجة Webhook بنجاح
        '400':
          description: Webhook غير صحيح
      tags:
        - webhooks
  /api/v1/webhooks/shipping:
    post:
      operationId: handleShippingWebhook
      summary: Webhook الشحن
      description: معالجة إشعارات الشحن من شركات النقل
      parameters:
        - name: X-Webhook-Signature
          required: true
          in: header
          schema:
            type: string
      responses:
        '200':
          description: تم معالجة إشعار الشحن
      tags:
        - webhooks
  /api/v1/webhooks/inventory:
    post:
      operationId: handleInventoryWebhook
      summary: Webhook المخزون
      description: معالجة إشعارات تغيير المخزون
      parameters:
        - name: X-Webhook-Signature
          required: true
          in: header
          schema:
            type: string
      responses:
        '200':
          description: تم معالجة إشعار المخزون
      tags:
        - webhooks
  /api/v1/cart:
    get:
      operationId: get
      summary: Get user cart
      description: Retrieves the current user shopping cart with all items
      parameters: []
      responses:
        '200':
          description: Cart retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        example: 507f1f77bcf86cd799439011
                      userId:
                        type: string
                        example: 507f1f77bcf86cd799439012
                      items:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                              example: 507f1f77bcf86cd799439013
                            variantId:
                              type: string
                              example: 507f1f77bcf86cd799439014
                            quantity:
                              type: number
                              example: 2
                            product:
                              type: object
                            variant:
                              type: object
                      totalItems:
                        type: number
                        example: 3
                      totalPrice:
                        type: number
                        example: 599.98
                      currency:
                        type: string
                        example: USD
        '401':
          description: Invalid or missing JWT token
      tags:
        - cart
      security:
        - bearer: []
  /api/v1/cart/items:
    post:
      operationId: add
      summary: Add item to cart
      description: Adds a product variant to the user shopping cart
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AddItemDto'
      responses:
        '200':
          description: Item added to cart successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        example: 507f1f77bcf86cd799439013
                      variantId:
                        type: string
                        example: 507f1f77bcf86cd799439014
                      quantity:
                        type: number
                        example: 2
                      product:
                        type: object
                      variant:
                        type: object
        '400':
          description: Invalid variant ID or quantity
        '401':
          description: Invalid or missing JWT token
      tags:
        - cart
      security:
        - bearer: []
  /api/v1/cart/items/{itemId}:
    patch:
      operationId: update
      summary: تحديث كمية عنصر في السلة
      description: تحديث كمية عنصر محدد في سلة التسوق للمستخدم.
      tags:
        - cart
      parameters:
        - name: itemId
          required: true
          in: path
          description: معرف العنصر في السلة
          schema:
            example: 507f1f77bcf86cd799439013
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateItemDto'
      responses:
        '200':
          description: تم تحديث العنصر بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        example: 507f1f77bcf86cd799439013
                      variantId:
                        type: string
                        example: 507f1f77bcf86cd799439014
                      quantity:
                        type: number
                        example: 3
                      product:
                        type: object
                      variant:
                        type: object
        '400':
          description: كمية غير صحيحة
        '404':
          description: العنصر غير موجود في السلة
      security:
        - bearer: []
    delete:
      operationId: remove
      summary: إزالة عنصر من السلة
      description: إزالة عنصر محدد من سلة التسوق للمستخدم.
      tags:
        - cart
      parameters:
        - name: itemId
          required: true
          in: path
          description: معرف العنصر في السلة
          schema:
            example: 507f1f77bcf86cd799439013
            type: string
      responses:
        '200':
          description: تم إزالة العنصر بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      success:
                        type: boolean
                        example: true
                      message:
                        type: string
                        example: تم إزالة العنصر من السلة
        '404':
          description: العنصر غير موجود في السلة
      security:
        - bearer: []
  /api/v1/cart/merge:
    post:
      operationId: merge
      summary: دمج سلة الأجهزة مع سلة المستخدم
      description: دمج سلة التسوق المحفوظة على الجهاز مع سلة المستخدم المسجل دخوله.
      tags:
        - cart
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DeviceDto'
      responses:
        '200':
          description: تم دمج السلات بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      merged:
                        type: boolean
                        example: true
                      itemsAdded:
                        type: number
                        example: 2
                      totalItems:
                        type: number
                        example: 5
        '400':
          description: معرف الجهاز غير صحيح
      security:
        - bearer: []
  /api/v1/cart/preview:
    post:
      operationId: preview
      summary: معاينة السلة
      description: معاينة السلة مع حساب التكاليف والضرائب لعملة محددة.
      tags:
        - cart
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PreviewDto'
      responses:
        '200':
          description: تم حساب معاينة السلة بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      subtotal:
                        type: number
                        example: 500
                      tax:
                        type: number
                        example: 75
                      shipping:
                        type: number
                        example: 25
                      total:
                        type: number
                        example: 600
                      currency:
                        type: string
                        example: SAR
      security:
        - bearer: []
  /api/v1/cart/settings:
    patch:
      operationId: updateSettings
      summary: تحديث إعدادات السلة
      description: تحديث إعدادات السلة مثل العملة المفضلة وغيرها.
      tags:
        - cart
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateCartSettingsDto'
      responses:
        '200':
          description: تم تحديث إعدادات السلة بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      success:
                        type: boolean
                        example: true
                      message:
                        type: string
                        example: تم تحديث إعدادات السلة
      security:
        - bearer: []
  /api/v1/cart/coupon:
    post:
      operationId: applyCoupon
      summary: تطبيق كوبون خصم
      description: تطبيق كوبون خصم على السلة.
      tags:
        - cart
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ApplyCouponDto'
      responses:
        '200':
          description: تم تطبيق الكوبون بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      success:
                        type: boolean
                        example: true
                      message:
                        type: string
                        example: تم تطبيق الكوبون بنجاح
                      discount:
                        type: number
                        example: 50
                      newTotal:
                        type: number
                        example: 550
        '400':
          description: كود الكوبون غير صحيح أو منتهي الصلاحية
      security:
        - bearer: []
    delete:
      operationId: removeCoupon
      summary: إزالة كوبون الخصم
      description: إزالة الكوبون المطبق من السلة.
      tags:
        - cart
      parameters: []
      responses:
        '200':
          description: تم إزالة الكوبون بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      success:
                        type: boolean
                        example: true
                      message:
                        type: string
                        example: تم إزالة الكوبون من السلة
        '404':
          description: لا يوجد كوبون مطبق على السلة
      security:
        - bearer: []
  /api/v1/cart/guest:
    get:
      operationId: get
      summary: الحصول على سلة الزائر
      description: الحصول على سلة التسوق للزائر غير المسجل باستخدام معرف الجهاز. لا يتطلب مصادقة.
      tags:
        - cart-guest
      parameters:
        - name: deviceId
          required: true
          in: query
          description: معرف الجهاز الفريد للزائر
          schema:
            example: device_123456789
            type: string
      responses:
        '200':
          description: تم الحصول على سلة الزائر بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        example: 507f1f77bcf86cd799439011
                      deviceId:
                        type: string
                        example: device_123456789
                      items:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                              example: 507f1f77bcf86cd799439013
                            variantId:
                              type: string
                              example: 507f1f77bcf86cd799439014
                            quantity:
                              type: number
                              example: 2
                            product:
                              type: object
                            variant:
                              type: object
                      totalItems:
                        type: number
                        example: 3
                      totalPrice:
                        type: number
                        example: 599.98
                      currency:
                        type: string
                        example: SAR
                      createdAt:
                        type: string
                        format: date-time
                      updatedAt:
                        type: string
                        format: date-time
        '400':
          description: معرف الجهاز مطلوب
  /api/v1/cart/guest/items:
    post:
      operationId: add
      summary: إضافة عنصر إلى سلة الزائر
      description: إضافة منتج إلى سلة التسوق للزائر غير المسجل. لا يتطلب مصادقة.
      tags:
        - cart-guest
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GuestAddItemDto'
      responses:
        '200':
          description: تم إضافة العنصر إلى السلة بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        example: 507f1f77bcf86cd799439013
                      variantId:
                        type: string
                        example: 507f1f77bcf86cd799439014
                      quantity:
                        type: number
                        example: 2
                      product:
                        type: object
                      variant:
                        type: object
        '400':
          description: معرف المنتج أو الكمية غير صحيحة
  /api/v1/cart/guest/items/{itemId}:
    patch:
      operationId: update
      summary: تحديث كمية عنصر في سلة الزائر
      description: تحديث كمية عنصر محدد في سلة التسوق للزائر غير المسجل.
      tags:
        - cart-guest
      parameters:
        - name: itemId
          required: true
          in: path
          description: معرف العنصر في السلة
          schema:
            example: 507f1f77bcf86cd799439013
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GuestUpdateItemDto'
      responses:
        '200':
          description: تم تحديث العنصر بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        example: 507f1f77bcf86cd799439013
                      variantId:
                        type: string
                        example: 507f1f77bcf86cd799439014
                      quantity:
                        type: number
                        example: 3
                      product:
                        type: object
                      variant:
                        type: object
        '400':
          description: كمية غير صحيحة أو معرف الجهاز مطلوب
        '404':
          description: العنصر غير موجود في السلة
    delete:
      operationId: remove
      summary: إزالة عنصر من سلة الزائر
      description: إزالة عنصر محدد من سلة التسوق للزائر غير المسجل.
      tags:
        - cart-guest
      parameters:
        - name: itemId
          required: true
          in: path
          description: معرف العنصر في السلة
          schema:
            example: 507f1f77bcf86cd799439013
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DeviceDto'
      responses:
        '200':
          description: تم إزالة العنصر بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      success:
                        type: boolean
                        example: true
                      message:
                        type: string
                        example: تم إزالة العنصر من السلة
        '400':
          description: معرف الجهاز مطلوب
        '404':
          description: العنصر غير موجود في السلة
  /api/v1/cart/guest/clear:
    post:
      operationId: clear
      summary: مسح سلة الزائر
      description: مسح جميع العناصر من سلة التسوق للزائر غير المسجل.
      tags:
        - cart-guest
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DeviceDto'
      responses:
        '200':
          description: تم مسح السلة بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      success:
                        type: boolean
                        example: true
                      message:
                        type: string
                        example: تم مسح السلة بنجاح
                      itemsRemoved:
                        type: number
                        example: 5
        '400':
          description: معرف الجهاز مطلوب
  /api/v1/cart/guest/preview:
    post:
      operationId: preview
      summary: معاينة سلة الزائر
      description: معاينة سلة التسوق للزائر مع حساب التكاليف والضرائب لعملة محددة.
      tags:
        - cart-guest
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GuestPreviewDto'
      responses:
        '200':
          description: تم حساب معاينة السلة بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      subtotal:
                        type: number
                        example: 500
                      tax:
                        type: number
                        example: 75
                      shipping:
                        type: number
                        example: 25
                      total:
                        type: number
                        example: 600
                      currency:
                        type: string
                        example: SAR
                      items:
                        type: array
                        items:
                          type: object
                          properties:
                            name:
                              type: string
                              example: منتج تجريبي
                            quantity:
                              type: number
                              example: 2
                            price:
                              type: number
                              example: 250
        '400':
          description: معرف الجهاز أو العملة غير صحيحة
  /api/v1/admin/carts/abandoned:
    get:
      operationId: getAbandonedCarts
      summary: الحصول على السلات المهجورة
      description: الحصول على قائمة السلات التي تم التخلي عنها لفترة محددة. يتطلب صلاحيات إدارية.
      tags:
        - admin-carts
      parameters:
        - name: hours
          required: false
          in: query
          description: عدد الساعات للاعتبار سلة مهجورة
          schema:
            example: '24'
            type: string
        - name: limit
          required: false
          in: query
          description: عدد السلات المراد عرضها
          schema:
            example: '50'
            type: string
      responses:
        '200':
          description: تم الحصول على السلات المهجورة بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                          example: 507f1f77bcf86cd799439011
                        userId:
                          type: string
                          example: 507f1f77bcf86cd799439012
                        items:
                          type: array
                        pricingSummary:
                          type: object
                          properties:
                            total:
                              type: number
                              example: 599.98
                        lastActivity:
                          type: string
                          format: date-time
                        createdAt:
                          type: string
                          format: date-time
                  count:
                    type: number
                    example: 25
                  totalCarts:
                    type: number
                    example: 50
                  totalValue:
                    type: number
                    example: 14999.5
        '401':
          description: غير مصرح - مطلوب تسجيل دخول
        '403':
          description: ممنوع - مطلوب صلاحيات إدارية
      security:
        - bearer: []
  /api/v1/admin/carts/send-reminders:
    post:
      operationId: sendReminders
      summary: إرسال تذكيرات لجميع السلات المهجورة
      description: إرسال رسائل تذكير عبر البريد الإلكتروني لجميع السلات المهجورة. يتطلب صلاحيات إدارية.
      tags:
        - admin-carts
      parameters: []
      responses:
        '200':
          description: تم إرسال التذكيرات بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: تم إرسال 25 رسالة تذكير
                  data:
                    type: object
                    properties:
                      emailsSent:
                        type: number
                        example: 25
                      successCount:
                        type: number
                        example: 23
                      failedCount:
                        type: number
                        example: 2
        '401':
          description: غير مصرح - مطلوب تسجيل دخول
        '403':
          description: ممنوع - مطلوب صلاحيات إدارية
      security:
        - bearer: []
  /api/v1/admin/carts/{id}/send-reminder:
    post:
      operationId: sendSingleReminder
      summary: إرسال تذكير لسلة محددة
      description: إرسال رسالة تذكير عبر البريد الإلكتروني لسلة مهجورة محددة. يتطلب صلاحيات إدارية.
      tags:
        - admin-carts
      parameters:
        - name: id
          required: true
          in: path
          description: معرف السلة
          schema:
            example: 507f1f77bcf86cd799439011
            type: string
      responses:
        '200':
          description: تم إرسال التذكير بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: تم إرسال التذكير بنجاح
                  data:
                    type: object
                    properties:
                      cartId:
                        type: string
                        example: 507f1f77bcf86cd799439011
                      emailSent:
                        type: boolean
                        example: true
                      sentAt:
                        type: string
                        format: date-time
        '401':
          description: غير مصرح - مطلوب تسجيل دخول
        '403':
          description: ممنوع - مطلوب صلاحيات إدارية
        '404':
          description: السلة غير موجودة
      security:
        - bearer: []
  /api/v1/admin/carts/analytics:
    get:
      operationId: getAnalytics
      summary: الحصول على تحليلات شاملة للسلات
      description: الحصول على تحليلات مفصلة عن السلات لفترة محددة. يتطلب صلاحيات إدارية.
      tags:
        - admin-carts
      parameters:
        - name: period
          required: false
          in: query
          description: الفترة بالأيام
          schema:
            example: '30'
            type: string
      responses:
        '200':
          description: تم الحصول على التحليلات بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      totalCarts:
                        type: number
                        example: 1250
                      activeCarts:
                        type: number
                        example: 800
                      abandonedCarts:
                        type: number
                        example: 450
                      conversionRate:
                        type: number
                        example: 0.35
                      averageCartValue:
                        type: number
                        example: 245.5
                      totalRevenue:
                        type: number
                        example: 306875
        '401':
          description: غير مصرح - مطلوب تسجيل دخول
        '403':
          description: ممنوع - مطلوب صلاحيات إدارية
      security:
        - bearer: []
  /api/v1/admin/carts/statistics:
    get:
      operationId: getStatistics
      summary: الحصول على إحصائيات السلات
      description: الحصول على نظرة عامة على إحصائيات السلات. يتطلب صلاحيات إدارية.
      tags:
        - admin-carts
      parameters: []
      responses:
        '200':
          description: تم الحصول على الإحصائيات بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      totalCarts:
                        type: number
                        example: 5000
                      activeCarts:
                        type: number
                        example: 3200
                      completedCarts:
                        type: number
                        example: 1800
                      abandonedCarts:
                        type: number
                        example: 1400
                      totalValue:
                        type: number
                        example: 1225000
        '401':
          description: غير مصرح - مطلوب تسجيل دخول
        '403':
          description: ممنوع - مطلوب صلاحيات إدارية
      security:
        - bearer: []
  /api/v1/admin/carts/conversion-rates:
    get:
      operationId: getConversionRates
      summary: الحصول على معدلات التحويل
      description: الحصول على معدلات تحويل السلات لفترة محددة. يتطلب صلاحيات إدارية.
      tags:
        - admin-carts
      parameters:
        - name: period
          required: false
          in: query
          description: الفترة بالأيام
          schema:
            example: '30'
            type: string
      responses:
        '200':
          description: تم الحصول على معدلات التحويل بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      overallRate:
                        type: number
                        example: 0.35
                      dailyRates:
                        type: array
                      weeklyRates:
                        type: array
                      monthlyRate:
                        type: number
                        example: 0.32
        '401':
          description: غير مصرح - مطلوب تسجيل دخول
        '403':
          description: ممنوع - مطلوب صلاحيات إدارية
      security:
        - bearer: []
  /api/v1/admin/carts/all:
    get:
      operationId: getAllCarts
      summary: الحصول على جميع السلات مع الترقيم والتصفية
      description: الحصول على قائمة بجميع السلات مع إمكانية الترقيم والتصفية. يتطلب صلاحيات إدارية.
      tags:
        - admin-carts
      parameters:
        - name: page
          required: false
          in: query
          description: رقم الصفحة
          schema:
            example: '1'
            type: string
        - name: limit
          required: false
          in: query
          description: عدد العناصر في الصفحة
          schema:
            example: '20'
            type: string
        - name: status
          required: false
          in: query
          description: تصفية حسب الحالة
          schema:
            example: active
            type: string
        - name: userId
          required: false
          in: query
          description: تصفية حسب معرف المستخدم
          schema:
            example: 507f1f77bcf86cd799439012
            type: string
        - name: dateFrom
          required: false
          in: query
          description: تاريخ البداية
          schema:
            example: '2024-01-01'
            type: string
        - name: dateTo
          required: false
          in: query
          description: تاريخ النهاية
          schema:
            example: '2024-12-31'
            type: string
      responses:
        '200':
          description: تم الحصول على السلات بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                          example: 507f1f77bcf86cd799439011
                        userId:
                          type: string
                          example: 507f1f77bcf86cd799439012
                        items:
                          type: array
                        status:
                          type: string
                          example: active
                        createdAt:
                          type: string
                          format: date-time
                        updatedAt:
                          type: string
                          format: date-time
                  pagination:
                    type: object
                    properties:
                      page:
                        type: number
                        example: 1
                      limit:
                        type: number
                        example: 20
                      total:
                        type: number
                        example: 100
                      totalPages:
                        type: number
                        example: 5
        '401':
          description: غير مصرح - مطلوب تسجيل دخول
        '403':
          description: ممنوع - مطلوب صلاحيات إدارية
      security:
        - bearer: []
  /api/v1/admin/carts/{id}:
    get:
      operationId: getCartById
      summary: الحصول على تفاصيل السلة بواسطة المعرف
      description: الحصول على تفاصيل سلة محددة باستخدام المعرف. يتطلب صلاحيات إدارية.
      tags:
        - admin-carts
      parameters:
        - name: id
          required: true
          in: path
          description: معرف السلة
          schema:
            example: 507f1f77bcf86cd799439011
            type: string
      responses:
        '200':
          description: تم الحصول على تفاصيل السلة بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      _id:
                        type: string
                        example: 507f1f77bcf86cd799439011
                      userId:
                        type: string
                        example: 507f1f77bcf86cd799439012
                      items:
                        type: array
                      pricingSummary:
                        type: object
                      status:
                        type: string
                        example: active
                      createdAt:
                        type: string
                        format: date-time
                      updatedAt:
                        type: string
                        format: date-time
        '401':
          description: غير مصرح - مطلوب تسجيل دخول
        '403':
          description: ممنوع - مطلوب صلاحيات إدارية
        '404':
          description: السلة غير موجودة
      security:
        - bearer: []
  /api/v1/admin/carts/{id}/convert-to-order:
    post:
      operationId: convertToOrder
      summary: تحويل السلة يدوياً إلى طلب
      description: تحويل سلة محددة إلى طلب يدوياً. يتطلب صلاحيات إدارية.
      tags:
        - admin-carts
      parameters:
        - name: id
          required: true
          in: path
          description: معرف السلة
          schema:
            example: 507f1f77bcf86cd799439011
            type: string
      responses:
        '200':
          description: تم تحويل السلة إلى طلب بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: تم تحويل السلة إلى طلب بنجاح
                  data:
                    type: object
                    properties:
                      orderId:
                        type: string
                        example: 507f1f77bcf86cd799439015
                      cartId:
                        type: string
                        example: 507f1f77bcf86cd799439011
                      status:
                        type: string
                        example: completed
        '400':
          description: لا يمكن تحويل السلة - السلة فارغة أو غير نشطة
        '401':
          description: غير مصرح - مطلوب تسجيل دخول
        '403':
          description: ممنوع - مطلوب صلاحيات إدارية
        '404':
          description: السلة غير موجودة
      security:
        - bearer: []
  /api/v1/admin/carts/recovery-campaigns:
    get:
      operationId: getRecoveryCampaigns
      summary: تحليلات حملات استرداد السلات
      description: الحصول على تحليلات حملات استرداد السلات المهجورة لفترة محددة. يتطلب صلاحيات إدارية.
      tags:
        - admin-carts
      parameters:
        - name: period
          required: false
          in: query
          description: الفترة بالأيام
          schema:
            example: '30'
            type: string
      responses:
        '200':
          description: تم الحصول على تحليلات الحملات بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      totalCampaigns:
                        type: number
                        example: 5
                      emailsSent:
                        type: number
                        example: 1250
                      recoveryRate:
                        type: number
                        example: 0.15
                      revenueRecovered:
                        type: number
                        example: 18750
        '401':
          description: غير مصرح - مطلوب تسجيل دخول
        '403':
          description: ممنوع - مطلوب صلاحيات إدارية
      security:
        - bearer: []
  /api/v1/admin/carts/customer-behavior:
    get:
      operationId: getCustomerBehavior
      summary: تحليلات سلوك العملاء
      description: الحصول على تحليلات سلوك العملاء في السلات لفترة محددة. يتطلب صلاحيات إدارية.
      tags:
        - admin-carts
      parameters:
        - name: period
          required: false
          in: query
          description: الفترة بالأيام
          schema:
            example: '30'
            type: string
      responses:
        '200':
          description: تم الحصول على تحليلات السلوك بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      averageSessionTime:
                        type: number
                        example: 8.5
                      averageItemsPerCart:
                        type: number
                        example: 2.3
                      topAbandonedProducts:
                        type: array
                      peakShoppingHours:
                        type: array
        '401':
          description: غير مصرح - مطلوب تسجيل دخول
        '403':
          description: ممنوع - مطلوب صلاحيات إدارية
      security:
        - bearer: []
  /api/v1/admin/carts/revenue-impact:
    get:
      operationId: getRevenueImpact
      summary: تحليل تأثير الإيرادات
      description: الحصول على تحليل تأثير السلات المهجورة على الإيرادات لفترة محددة. يتطلب صلاحيات إدارية.
      tags:
        - admin-carts
      parameters:
        - name: period
          required: false
          in: query
          description: الفترة بالأيام
          schema:
            example: '30'
            type: string
      responses:
        '200':
          description: تم الحصول على تحليل التأثير بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      totalLostRevenue:
                        type: number
                        example: 45000
                      potentialRecovery:
                        type: number
                        example: 11250
                      recoveryPercentage:
                        type: number
                        example: 0.25
        '401':
          description: غير مصرح - مطلوب تسجيل دخول
        '403':
          description: ممنوع - مطلوب صلاحيات إدارية
      security:
        - bearer: []
  /api/v1/admin/carts/bulk-actions:
    post:
      operationId: performBulkActions
      summary: تنفيذ إجراءات جماعية على السلات
      description: تنفيذ إجراءات جماعية على مجموعة من السلات مثل الحذف أو التحديث. يتطلب صلاحيات إدارية.
      tags:
        - admin-carts
      parameters: []
      requestBody:
        required: true
        description: بيانات الإجراء الجماعي
        content:
          application/json:
            schema:
              type: object
              properties:
                action:
                  type: string
                  enum:
                    - delete
                    - clear
                    - update_status
                  example: delete
                  description: نوع الإجراء المطلوب تنفيذه
                cartIds:
                  type: array
                  items:
                    type: string
                  example:
                    - 507f1f77bcf86cd799439011
                    - 507f1f77bcf86cd799439012
                  description: قائمة معرفات السلات
      responses:
        '200':
          description: تم تنفيذ الإجراء الجماعي بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: 'تم تنفيذ الإجراء الجماعي: تمت معالجة 25 سلة'
                  data:
                    type: object
                    properties:
                      processed:
                        type: number
                        example: 25
                      failed:
                        type: number
                        example: 0
                      errors:
                        type: array
        '400':
          description: بيانات الإجراء غير صحيحة
        '401':
          description: غير مصرح - مطلوب تسجيل دخول
        '403':
          description: ممنوع - مطلوب صلاحيات إدارية
      security:
        - bearer: []
  /api/v1/admin/marketing/price-rules:
    post:
      operationId: createPriceRule
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreatePriceRuleDto'
      responses:
        '201':
          description: ''
      tags:
        - marketing-admin
      security:
        - bearer: []
    get:
      operationId: listPriceRules
      parameters: []
      responses:
        '200':
          description: ''
      tags:
        - marketing-admin
      security:
        - bearer: []
  /api/v1/admin/marketing/price-rules/{id}:
    get:
      operationId: getPriceRule
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      responses:
        '200':
          description: ''
      tags:
        - marketing-admin
      security:
        - bearer: []
    patch:
      operationId: updatePriceRule
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdatePriceRuleDto'
      responses:
        '200':
          description: ''
      tags:
        - marketing-admin
      security:
        - bearer: []
    delete:
      operationId: deletePriceRule
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      responses:
        '200':
          description: ''
      tags:
        - marketing-admin
      security:
        - bearer: []
  /api/v1/admin/marketing/price-rules/{id}/toggle:
    post:
      operationId: togglePriceRule
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      responses:
        '201':
          description: ''
      tags:
        - marketing-admin
      security:
        - bearer: []
  /api/v1/admin/marketing/price-rules/preview:
    post:
      operationId: previewPriceRule
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PreviewPriceRuleDto'
      responses:
        '201':
          description: ''
      tags:
        - marketing-admin
      security:
        - bearer: []
  /api/v1/admin/marketing/coupons:
    post:
      operationId: createCoupon
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateCouponDto'
      responses:
        '201':
          description: ''
      tags:
        - marketing-admin
      security:
        - bearer: []
    get:
      operationId: listCoupons
      parameters: []
      responses:
        '200':
          description: ''
      tags:
        - marketing-admin
      security:
        - bearer: []
  /api/v1/admin/marketing/coupons/{id}:
    get:
      operationId: getCoupon
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      responses:
        '200':
          description: ''
      tags:
        - marketing-admin
      security:
        - bearer: []
    patch:
      operationId: updateCoupon
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateCouponDto'
      responses:
        '200':
          description: ''
      tags:
        - marketing-admin
      security:
        - bearer: []
    delete:
      operationId: deleteCoupon
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      responses:
        '200':
          description: ''
      tags:
        - marketing-admin
      security:
        - bearer: []
  /api/v1/admin/marketing/coupons/validate:
    post:
      operationId: validateCoupon
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ValidateCouponDto'
      responses:
        '201':
          description: ''
      tags:
        - marketing-admin
      security:
        - bearer: []
  /api/v1/admin/marketing/banners:
    post:
      operationId: createBanner
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateBannerDto'
      responses:
        '201':
          description: ''
      tags:
        - marketing-admin
      security:
        - bearer: []
    get:
      operationId: listBanners
      parameters: []
      responses:
        '200':
          description: ''
      tags:
        - marketing-admin
      security:
        - bearer: []
  /api/v1/admin/marketing/banners/{id}:
    get:
      operationId: getBanner
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      responses:
        '200':
          description: ''
      tags:
        - marketing-admin
      security:
        - bearer: []
    patch:
      operationId: updateBanner
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateBannerDto'
      responses:
        '200':
          description: ''
      tags:
        - marketing-admin
      security:
        - bearer: []
    delete:
      operationId: deleteBanner
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      responses:
        '200':
          description: ''
      tags:
        - marketing-admin
      security:
        - bearer: []
  /api/v1/marketing/pricing/variant:
    get:
      operationId: getVariantPrice
      parameters: []
      responses:
        '200':
          description: ''
      tags:
        - marketing-public
  /api/v1/marketing/coupons/validate:
    get:
      operationId: validateCoupon
      parameters: []
      responses:
        '200':
          description: ''
      tags:
        - marketing-public
  /api/v1/marketing/banners:
    get:
      operationId: getActiveBanners
      parameters:
        - name: location
          required: true
          in: query
          schema:
            type: string
      responses:
        '200':
          description: ''
      tags:
        - marketing-public
  /api/v1/marketing/banners/{id}/view:
    get:
      operationId: trackBannerView
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      responses:
        '200':
          description: ''
      tags:
        - marketing-public
  /api/v1/marketing/banners/{id}/click:
    get:
      operationId: trackBannerClick
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      responses:
        '200':
          description: ''
      tags:
        - marketing-public
  /api/v1/support/tickets:
    post:
      operationId: createTicket
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateSupportTicketDto'
      responses:
        '201':
          description: ''
      tags:
        - support-customer
      security:
        - bearer: []
  /api/v1/support/tickets/my:
    get:
      operationId: getMyTickets
      parameters:
        - name: limit
          required: false
          in: query
          schema:
            type: number
        - name: page
          required: false
          in: query
          schema:
            type: number
      responses:
        '200':
          description: ''
      tags:
        - support-customer
      security:
        - bearer: []
  /api/v1/support/tickets/{id}:
    get:
      operationId: getTicket
      parameters:
        - name: id
          required: true
          in: path
          description: Ticket ID
          schema:
            type: string
      responses:
        '200':
          description: ''
      tags:
        - support-customer
      security:
        - bearer: []
  /api/v1/support/tickets/{id}/messages:
    get:
      operationId: getTicketMessages
      parameters:
        - name: id
          required: true
          in: path
          description: Ticket ID
          schema:
            type: string
        - name: limit
          required: false
          in: query
          schema:
            type: number
        - name: page
          required: false
          in: query
          schema:
            type: number
      responses:
        '200':
          description: ''
      tags:
        - support-customer
      security:
        - bearer: []
    post:
      operationId: addMessage
      parameters:
        - name: id
          required: true
          in: path
          description: Ticket ID
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AddSupportMessageDto'
      responses:
        '201':
          description: ''
      tags:
        - support-customer
      security:
        - bearer: []
  /api/v1/support/tickets/{id}/archive:
    put:
      operationId: archiveTicket
      parameters:
        - name: id
          required: true
          in: path
          description: Ticket ID
          schema:
            type: string
      responses:
        '200':
          description: ''
      tags:
        - support-customer
      security:
        - bearer: []
  /api/v1/support/tickets/{id}/rate:
    post:
      operationId: rateTicket
      parameters:
        - name: id
          required: true
          in: path
          description: Ticket ID
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RateTicketDto'
      responses:
        '201':
          description: ''
      tags:
        - support-customer
      security:
        - bearer: []
  /api/v1/admin/support/tickets:
    get:
      operationId: getAllTickets
      parameters:
        - name: status
          required: false
          in: query
          schema:
            enum:
              - open
              - in_progress
              - waiting_for_user
              - resolved
              - closed
            type: string
        - name: priority
          required: false
          in: query
          schema:
            enum:
              - low
              - medium
              - high
              - urgent
            type: string
        - name: category
          required: false
          in: query
          schema:
            enum:
              - technical
              - billing
              - products
              - services
              - account
              - other
            type: string
        - name: assignedTo
          required: false
          in: query
          schema:
            type: string
        - name: limit
          required: false
          in: query
          schema:
            type: number
        - name: page
          required: false
          in: query
          schema:
            type: number
      responses:
        '200':
          description: ''
      tags:
        - support-admin
      security:
        - bearer: []
  /api/v1/admin/support/tickets/{id}:
    get:
      operationId: getTicket
      parameters:
        - name: id
          required: true
          in: path
          description: Ticket ID
          schema:
            type: string
      responses:
        '200':
          description: ''
      tags:
        - support-admin
      security:
        - bearer: []
    patch:
      operationId: updateTicket
      parameters:
        - name: id
          required: true
          in: path
          description: Ticket ID
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateSupportTicketDto'
      responses:
        '200':
          description: ''
      tags:
        - support-admin
      security:
        - bearer: []
  /api/v1/admin/support/tickets/{id}/messages:
    get:
      operationId: getTicketMessages
      parameters:
        - name: id
          required: true
          in: path
          description: Ticket ID
          schema:
            type: string
        - name: limit
          required: false
          in: query
          schema:
            type: number
        - name: page
          required: false
          in: query
          schema:
            type: number
      responses:
        '200':
          description: ''
      tags:
        - support-admin
      security:
        - bearer: []
    post:
      operationId: addMessage
      parameters:
        - name: id
          required: true
          in: path
          description: Ticket ID
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AddSupportMessageDto'
      responses:
        '201':
          description: ''
      tags:
        - support-admin
      security:
        - bearer: []
  /api/v1/admin/support/stats:
    get:
      operationId: getStats
      parameters: []
      responses:
        '200':
          description: ''
      tags:
        - support-admin
      security:
        - bearer: []
  /api/v1/admin/support/sla/breached:
    get:
      operationId: getBreachedSLATickets
      parameters: []
      responses:
        '200':
          description: ''
      tags:
        - support-admin
      security:
        - bearer: []
  /api/v1/admin/support/sla/{id}/check:
    post:
      operationId: checkSLAStatus
      parameters:
        - name: id
          required: true
          in: path
          description: Ticket ID
          schema:
            type: string
      responses:
        '201':
          description: ''
      tags:
        - support-admin
      security:
        - bearer: []
  /api/v1/admin/support/canned-responses:
    post:
      operationId: createCannedResponse
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateCannedResponseDto'
      responses:
        '201':
          description: ''
      tags:
        - support-admin
      security:
        - bearer: []
    get:
      operationId: getCannedResponses
      parameters:
        - name: category
          required: false
          in: query
          schema:
            enum:
              - technical
              - billing
              - products
              - services
              - account
              - other
            type: string
        - name: search
          required: false
          in: query
          schema:
            type: string
        - name: limit
          required: false
          in: query
          schema:
            type: number
        - name: page
          required: false
          in: query
          schema:
            type: number
      responses:
        '200':
          description: ''
      tags:
        - support-admin
      security:
        - bearer: []
  /api/v1/admin/support/canned-responses/{id}:
    get:
      operationId: getCannedResponse
      parameters:
        - name: id
          required: true
          in: path
          description: Canned Response ID
          schema:
            type: string
      responses:
        '200':
          description: ''
      tags:
        - support-admin
      security:
        - bearer: []
    patch:
      operationId: updateCannedResponse
      parameters:
        - name: id
          required: true
          in: path
          description: Canned Response ID
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateCannedResponseDto'
      responses:
        '200':
          description: ''
      tags:
        - support-admin
      security:
        - bearer: []
  /api/v1/admin/support/canned-responses/{id}/use:
    post:
      operationId: useCannedResponse
      parameters:
        - name: id
          required: true
          in: path
          description: Canned Response ID
          schema:
            type: string
      responses:
        '201':
          description: ''
      tags:
        - support-admin
      security:
        - bearer: []
  /api/v1/admin/support/canned-responses/shortcut/{shortcut}:
    get:
      operationId: getCannedResponseByShortcut
      parameters:
        - name: shortcut
          required: true
          in: path
          description: Canned Response Shortcut
          schema:
            type: string
      responses:
        '200':
          description: ''
      tags:
        - support-admin
      security:
        - bearer: []
  /api/v1/analytics/dashboard:
    get:
      operationId: getDashboard
      summary: Get dashboard data
      description: Retrieve comprehensive dashboard analytics data with charts and KPIs
      parameters:
        - name: period
          required: false
          in: query
          description: Time period for analytics
          schema:
            enum:
              - daily
              - weekly
              - monthly
              - quarterly
              - yearly
            type: string
        - name: startDate
          required: false
          in: query
          description: Start date (ISO format)
          schema:
            example: '2023-01-01'
            type: string
        - name: endDate
          required: false
          in: query
          description: End date (ISO format)
          schema:
            example: '2023-12-31'
            type: string
        - name: compareWithPrevious
          required: false
          in: query
          description: Compare with previous period
          schema:
            example: true
            type: boolean
      responses:
        '200':
          description: Dashboard data retrieved successfully
          content:
            application/json:
              schema:
                type: object
      tags:
        - analytics
      security:
        - bearer: []
  /api/v1/analytics/overview:
    get:
      operationId: getOverview
      summary: Get overview metrics
      description: Retrieve key performance indicators and overview statistics
      parameters:
        - name: period
          required: false
          in: query
          description: نوع الفترة الزمنية
          schema:
            enum:
              - daily
              - weekly
              - monthly
              - quarterly
              - yearly
            type: string
        - name: startDate
          required: false
          in: query
          description: تاريخ البداية
          schema:
            example: '2023-01-01'
            type: string
        - name: endDate
          required: false
          in: query
          description: تاريخ النهاية
          schema:
            example: '2023-12-31'
            type: string
        - name: compareWithPrevious
          required: false
          in: query
          description: مقارنة مع الفترة السابقة
          schema:
            example: true
            type: boolean
      responses:
        '200':
          description: Overview metrics retrieved successfully
      tags:
        - analytics
      security:
        - bearer: []
  /api/v1/analytics/revenue:
    get:
      operationId: getRevenueAnalytics
      summary: Get revenue analytics
      description: Detailed revenue analysis with trends and breakdowns
      parameters:
        - name: period
          required: false
          in: query
          description: نوع الفترة الزمنية
          schema:
            enum:
              - daily
              - weekly
              - monthly
              - quarterly
              - yearly
            type: string
        - name: startDate
          required: false
          in: query
          description: تاريخ البداية
          schema:
            example: '2023-01-01'
            type: string
        - name: endDate
          required: false
          in: query
          description: تاريخ النهاية
          schema:
            example: '2023-12-31'
            type: string
        - name: compareWithPrevious
          required: false
          in: query
          description: مقارنة مع الفترة السابقة
          schema:
            example: true
            type: boolean
      responses:
        '200':
          description: Revenue analytics retrieved successfully
      tags:
        - analytics
      security:
        - bearer: []
  /api/v1/analytics/users:
    get:
      operationId: getUserAnalytics
      summary: Get user analytics
      description: User registration trends, demographics, and engagement metrics
      parameters:
        - name: period
          required: false
          in: query
          description: نوع الفترة الزمنية
          schema:
            enum:
              - daily
              - weekly
              - monthly
              - quarterly
              - yearly
            type: string
        - name: startDate
          required: false
          in: query
          description: تاريخ البداية
          schema:
            example: '2023-01-01'
            type: string
        - name: endDate
          required: false
          in: query
          description: تاريخ النهاية
          schema:
            example: '2023-12-31'
            type: string
        - name: compareWithPrevious
          required: false
          in: query
          description: مقارنة مع الفترة السابقة
          schema:
            example: true
            type: boolean
      responses:
        '200':
          description: User analytics retrieved successfully
      tags:
        - analytics
      security:
        - bearer: []
  /api/v1/analytics/products:
    get:
      operationId: getProductAnalytics
      summary: Get product analytics
      description: Product performance, sales trends, and inventory analytics
      parameters:
        - name: period
          required: false
          in: query
          description: نوع الفترة الزمنية
          schema:
            enum:
              - daily
              - weekly
              - monthly
              - quarterly
              - yearly
            type: string
        - name: startDate
          required: false
          in: query
          description: تاريخ البداية
          schema:
            example: '2023-01-01'
            type: string
        - name: endDate
          required: false
          in: query
          description: تاريخ النهاية
          schema:
            example: '2023-12-31'
            type: string
        - name: compareWithPrevious
          required: false
          in: query
          description: مقارنة مع الفترة السابقة
          schema:
            example: true
            type: boolean
      responses:
        '200':
          description: Product analytics retrieved successfully
      tags:
        - analytics
      security:
        - bearer: []
  /api/v1/analytics/services:
    get:
      operationId: getServiceAnalytics
      summary: Get service analytics
      description: Service request trends, engineer performance, and completion metrics
      parameters:
        - name: period
          required: false
          in: query
          description: نوع الفترة الزمنية
          schema:
            enum:
              - daily
              - weekly
              - monthly
              - quarterly
              - yearly
            type: string
        - name: startDate
          required: false
          in: query
          description: تاريخ البداية
          schema:
            example: '2023-01-01'
            type: string
        - name: endDate
          required: false
          in: query
          description: تاريخ النهاية
          schema:
            example: '2023-12-31'
            type: string
        - name: compareWithPrevious
          required: false
          in: query
          description: مقارنة مع الفترة السابقة
          schema:
            example: true
            type: boolean
      responses:
        '200':
          description: Service analytics retrieved successfully
      tags:
        - analytics
      security:
        - bearer: []
  /api/v1/analytics/support:
    get:
      operationId: getSupportAnalytics
      summary: Get support analytics
      description: Support ticket trends, resolution times, and customer satisfaction
      parameters:
        - name: period
          required: false
          in: query
          description: نوع الفترة الزمنية
          schema:
            enum:
              - daily
              - weekly
              - monthly
              - quarterly
              - yearly
            type: string
        - name: startDate
          required: false
          in: query
          description: تاريخ البداية
          schema:
            example: '2023-01-01'
            type: string
        - name: endDate
          required: false
          in: query
          description: تاريخ النهاية
          schema:
            example: '2023-12-31'
            type: string
        - name: compareWithPrevious
          required: false
          in: query
          description: مقارنة مع الفترة السابقة
          schema:
            example: true
            type: boolean
      responses:
        '200':
          description: Support analytics retrieved successfully
      tags:
        - analytics
      security:
        - bearer: []
  /api/v1/analytics/performance:
    get:
      operationId: getPerformanceMetrics
      summary: Get system performance metrics
      description: API response times, error rates, uptime, and system health
      parameters: []
      responses:
        '200':
          description: Performance metrics retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PerformanceMetricsDto'
      tags:
        - analytics
      security:
        - bearer: []
  /api/v1/analytics/reports/generate:
    post:
      operationId: generateReport
      summary: Generate custom report
      description: Generate a custom analytics report in specified formats
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ReportGenerationDto'
      responses:
        '201':
          description: Report generated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AnalyticsReportDto'
      tags:
        - analytics
      security:
        - bearer: []
  /api/v1/analytics/reports/{id}:
    get:
      operationId: getReport
      summary: Get report by ID
      description: Retrieve a previously generated report
      parameters:
        - name: id
          required: true
          in: path
          description: Report ID
          schema:
            type: string
      responses:
        '200':
          description: Report retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AnalyticsReportDto'
      tags:
        - analytics
      security:
        - bearer: []
  /api/v1/analytics/reports/schedule:
    post:
      operationId: scheduleReport
      summary: Schedule automated report
      description: Create a scheduled report that runs automatically
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateReportScheduleDto'
      responses:
        '201':
          description: Report schedule created successfully
      tags:
        - analytics
      security:
        - bearer: []
  /api/v1/analytics/kpis:
    get:
      operationId: getKPIs
      summary: Get KPI metrics
      description: Retrieve key performance indicators
      parameters:
        - name: period
          required: false
          in: query
          description: نوع الفترة الزمنية
          schema:
            enum:
              - daily
              - weekly
              - monthly
              - quarterly
              - yearly
            type: string
        - name: startDate
          required: false
          in: query
          description: تاريخ البداية
          schema:
            example: '2023-01-01'
            type: string
        - name: endDate
          required: false
          in: query
          description: تاريخ النهاية
          schema:
            example: '2023-12-31'
            type: string
        - name: compareWithPrevious
          required: false
          in: query
          description: مقارنة مع الفترة السابقة
          schema:
            example: true
            type: boolean
      responses:
        '200':
          description: KPIs retrieved successfully
      tags:
        - analytics
      security:
        - bearer: []
  /api/v1/analytics/trends/{metric}:
    get:
      operationId: getMetricTrends
      summary: Get metric trends
      description: Retrieve trend data for specific metrics over time
      parameters:
        - name: metric
          required: true
          in: path
          description: Metric name (revenue, users, orders, etc.)
          schema:
            type: string
        - name: period
          required: false
          in: query
          schema:
            enum:
              - daily
              - weekly
              - monthly
              - quarterly
              - yearly
            type: string
        - name: days
          required: false
          in: query
          description: Number of days to look back
          schema:
            type: number
      responses:
        '200':
          description: Metric trends retrieved successfully
      tags:
        - analytics
      security:
        - bearer: []
  /api/v1/analytics/comparison:
    get:
      operationId: comparePeriods
      summary: Compare periods
      description: Compare analytics between two different periods
      parameters:
        - name: currentStart
          required: true
          in: query
          description: Current period start date
          schema:
            type: string
        - name: currentEnd
          required: true
          in: query
          description: Current period end date
          schema:
            type: string
        - name: previousStart
          required: true
          in: query
          description: Previous period start date
          schema:
            type: string
        - name: previousEnd
          required: true
          in: query
          description: Previous period end date
          schema:
            type: string
      responses:
        '200':
          description: Period comparison retrieved successfully
      tags:
        - analytics
      security:
        - bearer: []
  /api/v1/analytics/export/{format}:
    get:
      operationId: exportData
      summary: Export analytics data
      description: Export analytics data in various formats
      parameters:
        - name: format
          required: true
          in: path
          description: Export format
          schema:
            enum:
              - csv
              - json
              - xlsx
            type: string
        - name: type
          required: true
          in: query
          description: Data type to export (users, orders, revenue, etc.)
          schema:
            type: string
        - name: period
          required: false
          in: query
          schema:
            enum:
              - daily
              - weekly
              - monthly
              - quarterly
              - yearly
            type: string
      responses:
        '200':
          description: Export file URL returned
      tags:
        - analytics
      security:
        - bearer: []
  /api/v1/analytics/refresh:
    post:
      operationId: refreshAnalytics
      summary: Refresh analytics data
      description: Force refresh of analytics snapshots and calculations
      parameters: []
      responses:
        '200':
          description: Analytics data refreshed successfully
      tags:
        - analytics
      security:
        - bearer: []
  /api/v1/analytics/advanced/sales:
    get:
      operationId: getSalesAnalytics
      summary: Get sales analytics
      parameters:
        - name: endDate
          required: false
          in: query
          schema: {}
        - name: startDate
          required: false
          in: query
          schema: {}
        - name: period
          required: false
          in: query
          schema: {}
      responses:
        '200':
          description: Sales analytics retrieved successfully
      tags:
        - analytics/advanced
      security:
        - bearer: []
  /api/v1/analytics/advanced/products/performance:
    get:
      operationId: getProductPerformance
      summary: Get product performance analytics
      parameters:
        - name: endDate
          required: false
          in: query
          schema: {}
        - name: startDate
          required: false
          in: query
          schema: {}
        - name: period
          required: false
          in: query
          schema: {}
      responses:
        '200':
          description: Product performance retrieved successfully
      tags:
        - analytics/advanced
      security:
        - bearer: []
  /api/v1/analytics/advanced/customers:
    get:
      operationId: getCustomerAnalytics
      summary: Get customer analytics
      parameters:
        - name: endDate
          required: false
          in: query
          schema: {}
        - name: startDate
          required: false
          in: query
          schema: {}
        - name: period
          required: false
          in: query
          schema: {}
      responses:
        '200':
          description: Customer analytics retrieved successfully
      tags:
        - analytics/advanced
      security:
        - bearer: []
  /api/v1/analytics/advanced/inventory:
    get:
      operationId: getInventoryReport
      summary: Get inventory report
      parameters:
        - name: endDate
          required: false
          in: query
          schema: {}
        - name: startDate
          required: false
          in: query
          schema: {}
        - name: period
          required: false
          in: query
          schema: {}
      responses:
        '200':
          description: Inventory report retrieved successfully
      tags:
        - analytics/advanced
      security:
        - bearer: []
  /api/v1/analytics/advanced/financial:
    get:
      operationId: getFinancialReport
      summary: Get financial report
      parameters:
        - name: endDate
          required: false
          in: query
          schema: {}
        - name: startDate
          required: false
          in: query
          schema: {}
        - name: period
          required: false
          in: query
          schema: {}
      responses:
        '200':
          description: Financial report retrieved successfully
      tags:
        - analytics/advanced
      security:
        - bearer: []
  /api/v1/analytics/advanced/cart-analytics:
    get:
      operationId: getCartAnalytics
      summary: Get cart analytics
      parameters:
        - name: endDate
          required: false
          in: query
          schema: {}
        - name: startDate
          required: false
          in: query
          schema: {}
        - name: period
          required: false
          in: query
          schema: {}
      responses:
        '200':
          description: Cart analytics retrieved successfully
      tags:
        - analytics/advanced
      security:
        - bearer: []
  /api/v1/analytics/advanced/marketing:
    get:
      operationId: getMarketingReport
      summary: Get marketing report
      parameters:
        - name: endDate
          required: false
          in: query
          schema: {}
        - name: startDate
          required: false
          in: query
          schema: {}
        - name: period
          required: false
          in: query
          schema: {}
      responses:
        '200':
          description: Marketing report retrieved successfully
      tags:
        - analytics/advanced
      security:
        - bearer: []
  /api/v1/analytics/advanced/realtime:
    get:
      operationId: getRealTimeMetrics
      summary: Get real-time metrics
      parameters: []
      responses:
        '200':
          description: Real-time metrics retrieved successfully
      tags:
        - analytics/advanced
      security:
        - bearer: []
  /api/v1/analytics/advanced/quick-stats:
    get:
      operationId: getQuickStats
      summary: Get quick stats
      parameters: []
      responses:
        '200':
          description: Quick stats retrieved successfully
      tags:
        - analytics/advanced
      security:
        - bearer: []
  /api/v1/analytics/advanced/reports/generate:
    post:
      operationId: generateAdvancedReport
      summary: Generate advanced report
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
      responses:
        '201':
          description: Report generated successfully
      tags:
        - analytics/advanced
      security:
        - bearer: []
  /api/v1/analytics/advanced/reports:
    get:
      operationId: listAdvancedReports
      summary: List advanced reports
      parameters:
        - name: status
          required: false
          in: query
          schema: {}
        - name: limit
          required: false
          in: query
          schema: {}
        - name: page
          required: false
          in: query
          schema: {}
      responses:
        '200':
          description: Reports retrieved successfully
      tags:
        - analytics/advanced
      security:
        - bearer: []
  /api/v1/analytics/advanced/reports/{reportId}:
    get:
      operationId: getAdvancedReport
      summary: Get advanced report by ID
      parameters:
        - name: reportId
          required: true
          in: path
          description: Report ID
          schema:
            type: string
      responses:
        '200':
          description: Report retrieved successfully
      tags:
        - analytics/advanced
      security:
        - bearer: []
    delete:
      operationId: deleteReport
      summary: Delete report
      parameters:
        - name: reportId
          required: true
          in: path
          description: Report ID
          schema:
            type: string
      responses:
        '200':
          description: Report deleted successfully
      tags:
        - analytics/advanced
      security:
        - bearer: []
  /api/v1/analytics/advanced/reports/{reportId}/archive:
    post:
      operationId: archiveReport
      summary: Archive report
      parameters:
        - name: reportId
          required: true
          in: path
          description: Report ID
          schema:
            type: string
      responses:
        '200':
          description: Report archived successfully
      tags:
        - analytics/advanced
      security:
        - bearer: []
  /api/v1/analytics/advanced/reports/{reportId}/export:
    post:
      operationId: exportReport
      summary: Export report
      parameters:
        - name: reportId
          required: true
          in: path
          description: Report ID
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
      responses:
        '200':
          description: Report exported successfully
      tags:
        - analytics/advanced
      security:
        - bearer: []
  /api/v1/analytics/advanced/export/sales:
    get:
      operationId: exportSalesData
      summary: Export sales data
      parameters:
        - name: format
          required: true
          in: query
          schema:
            type: string
        - name: startDate
          required: true
          in: query
          schema:
            type: string
        - name: endDate
          required: true
          in: query
          schema:
            type: string
      responses:
        '200':
          description: Sales data exported successfully
      tags:
        - analytics/advanced
      security:
        - bearer: []
  /api/v1/analytics/advanced/export/products:
    get:
      operationId: exportProductsData
      summary: Export products data
      parameters:
        - name: format
          required: true
          in: query
          schema:
            type: string
        - name: startDate
          required: false
          in: query
          schema:
            type: string
        - name: endDate
          required: false
          in: query
          schema:
            type: string
      responses:
        '200':
          description: Products data exported successfully
      tags:
        - analytics/advanced
      security:
        - bearer: []
  /api/v1/analytics/advanced/export/customers:
    get:
      operationId: exportCustomersData
      summary: Export customers data
      parameters:
        - name: format
          required: true
          in: query
          schema:
            type: string
        - name: startDate
          required: false
          in: query
          schema:
            type: string
        - name: endDate
          required: false
          in: query
          schema:
            type: string
      responses:
        '200':
          description: Customers data exported successfully
      tags:
        - analytics/advanced
      security:
        - bearer: []
  /api/v1/analytics/advanced/comparison:
    get:
      operationId: comparePeriodsAdvanced
      summary: Compare periods (advanced)
      parameters:
        - name: currentStart
          required: true
          in: query
          schema:
            type: string
        - name: currentEnd
          required: true
          in: query
          schema:
            type: string
        - name: previousStart
          required: true
          in: query
          schema:
            type: string
        - name: previousEnd
          required: true
          in: query
          schema:
            type: string
      responses:
        '200':
          description: Period comparison retrieved successfully
      tags:
        - analytics/advanced
      security:
        - bearer: []
  /api/v1/analytics/advanced/trends/{metric}:
    get:
      operationId: getMetricTrendsAdvanced
      summary: Get metric trends (advanced)
      parameters:
        - name: metric
          required: true
          in: path
          description: Metric name
          schema:
            type: string
        - name: startDate
          required: true
          in: query
          schema:
            type: string
        - name: endDate
          required: true
          in: query
          schema:
            type: string
        - name: groupBy
          required: false
          in: query
          schema:
            type: string
      responses:
        '200':
          description: Metric trends retrieved successfully
      tags:
        - analytics/advanced
      security:
        - bearer: []
  /api/v1/services/customer:
    post:
      operationId: create
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateServiceRequestDto'
      responses:
        '201':
          description: ''
      tags:
        - services-customer
      security:
        - bearer: []
  /api/v1/services/customer/my:
    get:
      operationId: my
      parameters: []
      responses:
        '200':
          description: ''
      tags:
        - services-customer
      security:
        - bearer: []
  /api/v1/services/customer/{id}:
    get:
      operationId: get
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      responses:
        '200':
          description: ''
      tags:
        - services-customer
      security:
        - bearer: []
  /api/v1/services/customer/{id}/cancel:
    post:
      operationId: cancel
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      responses:
        '201':
          description: ''
      tags:
        - services-customer
      security:
        - bearer: []
  /api/v1/services/customer/{id}/accept-offer:
    post:
      operationId: accept
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AcceptOfferDto'
      responses:
        '201':
          description: ''
      tags:
        - services-customer
      security:
        - bearer: []
  /api/v1/services/customer/{id}/rate:
    post:
      operationId: rate
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RateServiceDto'
      responses:
        '201':
          description: ''
      tags:
        - services-customer
      security:
        - bearer: []
  /api/v1/services/customer/{id}/offers:
    get:
      operationId: getOffers
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      responses:
        '200':
          description: ''
      tags:
        - services-customer
      security:
        - bearer: []
  /api/v1/services/engineer/requests/nearby:
    get:
      operationId: nearby
      parameters: []
      responses:
        '200':
          description: ''
      tags:
        - services-engineer
      security:
        - bearer: []
  /api/v1/services/engineer/offers:
    post:
      operationId: offer
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateOfferDto'
      responses:
        '201':
          description: ''
      tags:
        - services-engineer
      security:
        - bearer: []
  /api/v1/services/engineer/offers/{id}:
    patch:
      operationId: updateOffer
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateOfferDto'
      responses:
        '200':
          description: ''
      tags:
        - services-engineer
      security:
        - bearer: []
  /api/v1/services/engineer/requests/{id}/start:
    post:
      operationId: start
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      responses:
        '201':
          description: ''
      tags:
        - services-engineer
      security:
        - bearer: []
  /api/v1/services/engineer/requests/{id}/complete:
    post:
      operationId: complete
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      responses:
        '201':
          description: ''
      tags:
        - services-engineer
      security:
        - bearer: []
  /api/v1/services/engineer/offers/my:
    get:
      operationId: myOffers
      parameters: []
      responses:
        '200':
          description: ''
      tags:
        - services-engineer
      security:
        - bearer: []
  /api/v1/services/admin/requests:
    get:
      operationId: list
      parameters:
        - name: status
          required: true
          in: query
          schema:
            type: string
        - name: type
          required: true
          in: query
          schema:
            type: string
        - name: engineerId
          required: true
          in: query
          schema:
            type: string
        - name: userId
          required: true
          in: query
          schema:
            type: string
        - name: dateFrom
          required: true
          in: query
          schema:
            type: string
        - name: dateTo
          required: true
          in: query
          schema:
            type: string
        - name: search
          required: true
          in: query
          schema:
            type: string
      responses:
        '200':
          description: ''
      tags:
        - services-admin
      security:
        - bearer: []
  /api/v1/services/admin/requests/{id}:
    get:
      operationId: getRequest
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      responses:
        '200':
          description: ''
      tags:
        - services-admin
      security:
        - bearer: []
  /api/v1/services/admin/requests/{id}/offers:
    get:
      operationId: getRequestOffers
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      responses:
        '200':
          description: ''
      tags:
        - services-admin
      security:
        - bearer: []
  /api/v1/services/admin/requests/{id}/status:
    patch:
      operationId: updateRequestStatus
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      responses:
        '200':
          description: ''
      tags:
        - services-admin
      security:
        - bearer: []
  /api/v1/services/admin/requests/{id}/cancel:
    post:
      operationId: cancel
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      responses:
        '201':
          description: ''
      tags:
        - services-admin
      security:
        - bearer: []
  /api/v1/services/admin/requests/{id}/assign-engineer:
    post:
      operationId: assignEngineer
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      responses:
        '201':
          description: ''
      tags:
        - services-admin
      security:
        - bearer: []
  /api/v1/services/admin/statistics/overview:
    get:
      operationId: getOverviewStats
      parameters: []
      responses:
        '200':
          description: ''
      tags:
        - services-admin
      security:
        - bearer: []
  /api/v1/services/admin/statistics/requests:
    get:
      operationId: getRequestsStats
      parameters:
        - name: dateFrom
          required: true
          in: query
          schema:
            type: string
        - name: dateTo
          required: true
          in: query
          schema:
            type: string
        - name: groupBy
          required: true
          in: query
          schema:
            type: string
      responses:
        '200':
          description: ''
      tags:
        - services-admin
      security:
        - bearer: []
  /api/v1/services/admin/statistics/engineers:
    get:
      operationId: getEngineersStats
      parameters:
        - name: dateFrom
          required: true
          in: query
          schema:
            type: string
        - name: dateTo
          required: true
          in: query
          schema:
            type: string
      responses:
        '200':
          description: ''
      tags:
        - services-admin
      security:
        - bearer: []
  /api/v1/services/admin/statistics/services-types:
    get:
      operationId: getServiceTypesStats
      parameters:
        - name: dateFrom
          required: true
          in: query
          schema:
            type: string
        - name: dateTo
          required: true
          in: query
          schema:
            type: string
      responses:
        '200':
          description: ''
      tags:
        - services-admin
      security:
        - bearer: []
  /api/v1/services/admin/statistics/revenue:
    get:
      operationId: getRevenueStats
      parameters:
        - name: dateFrom
          required: true
          in: query
          schema:
            type: string
        - name: dateTo
          required: true
          in: query
          schema:
            type: string
        - name: groupBy
          required: true
          in: query
          schema:
            type: string
      responses:
        '200':
          description: ''
      tags:
        - services-admin
      security:
        - bearer: []
  /api/v1/services/admin/engineers:
    get:
      operationId: getEngineersList
      parameters:
        - name: search
          required: true
          in: query
          schema:
            type: string
      responses:
        '200':
          description: ''
      tags:
        - services-admin
      security:
        - bearer: []
  /api/v1/services/admin/engineers/{id}/statistics:
    get:
      operationId: getEngineerStats
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      responses:
        '200':
          description: ''
      tags:
        - services-admin
      security:
        - bearer: []
  /api/v1/services/admin/engineers/{id}/offers:
    get:
      operationId: getEngineerOffers
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
        - name: status
          required: true
          in: query
          schema:
            type: string
      responses:
        '200':
          description: ''
      tags:
        - services-admin
      security:
        - bearer: []
  /api/v1/services/admin/engineers/statistics/overview:
    get:
      operationId: getEngineersOverviewStatistics
      summary: احصل على إحصائيات عامة للمهندسين
      parameters: []
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EngineersOverviewStatisticsDto'
      tags:
        - services-admin
      security:
        - bearer: []
  /api/v1/services/admin/offers/statistics:
    get:
      operationId: getOffersStatistics
      summary: احصل على إحصائيات العروض
      parameters:
        - name: dateFrom
          required: true
          in: query
          schema:
            type: string
        - name: dateTo
          required: true
          in: query
          schema:
            type: string
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OffersStatisticsDto'
      tags:
        - services-admin
      security:
        - bearer: []
  /api/v1/services/admin/offers:
    get:
      operationId: getOffersManagementList
      summary: احصل على قائمة العروض للإدارة
      parameters:
        - name: status
          required: true
          in: query
          schema:
            type: string
        - name: requestId
          required: true
          in: query
          schema:
            type: string
        - name: engineerId
          required: true
          in: query
          schema:
            type: string
        - name: search
          required: true
          in: query
          schema:
            type: string
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OffersManagementResponseDto'
      tags:
        - services-admin
      security:
        - bearer: []
  /api/v1/addresses:
    get:
      operationId: list
      summary: Get all user addresses
      parameters:
        - name: includeDeleted
          required: false
          in: query
          description: Include soft-deleted addresses
          schema:
            type: boolean
      responses:
        '200':
          description: Addresses fetched successfully
        '401':
          description: Unauthorized
      tags:
        - addresses
      security:
        - bearer: []
    post:
      operationId: create
      summary: Create new address
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateAddressDto'
      responses:
        '201':
          description: Address created successfully
        '400':
          description: Validation error
        '401':
          description: Unauthorized
      tags:
        - addresses
      security:
        - bearer: []
  /api/v1/addresses/active:
    get:
      operationId: getActive
      summary: Get active addresses only
      parameters: []
      responses:
        '200':
          description: Active addresses fetched successfully
        '401':
          description: Unauthorized
      tags:
        - addresses
      security:
        - bearer: []
  /api/v1/addresses/default:
    get:
      operationId: getDefault
      summary: Get default address
      parameters: []
      responses:
        '200':
          description: Default address fetched successfully (or null if none)
        '401':
          description: Unauthorized
      tags:
        - addresses
      security:
        - bearer: []
  /api/v1/addresses/{id}:
    get:
      operationId: getAddress
      summary: Get address by ID
      parameters:
        - name: id
          required: true
          in: path
          description: Address ID
          schema:
            type: string
      responses:
        '200':
          description: Address fetched successfully
        '401':
          description: Unauthorized
      tags:
        - addresses
      security:
        - bearer: []
    patch:
      operationId: update
      summary: Update address
      parameters:
        - name: id
          required: true
          in: path
          description: Address ID
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateAddressDto'
      responses:
        '200':
          description: Address updated successfully
        '400':
          description: Validation error
        '401':
          description: Unauthorized
      tags:
        - addresses
      security:
        - bearer: []
    delete:
      operationId: remove
      summary: Delete address (soft delete)
      parameters:
        - name: id
          required: true
          in: path
          description: Address ID
          schema:
            type: string
      responses:
        '200':
          description: Address deleted successfully
        '401':
          description: Unauthorized
      tags:
        - addresses
      security:
        - bearer: []
  /api/v1/addresses/{id}/set-default:
    post:
      operationId: setDefault
      summary: Set address as default
      parameters:
        - name: id
          required: true
          in: path
          description: Address ID
          schema:
            type: string
      responses:
        '200':
          description: Default address set successfully
        '401':
          description: Unauthorized
      tags:
        - addresses
      security:
        - bearer: []
  /api/v1/addresses/{id}/restore:
    post:
      operationId: restore
      summary: Restore deleted address
      parameters:
        - name: id
          required: true
          in: path
          description: Address ID
          schema:
            type: string
      responses:
        '200':
          description: Address restored successfully
        '401':
          description: Unauthorized
      tags:
        - addresses
      security:
        - bearer: []
  /api/v1/addresses/validate/{id}:
    get:
      operationId: validateOwnership
      summary: Validate address ownership
      parameters:
        - name: id
          required: true
          in: path
          description: Address ID
          schema:
            type: string
      responses:
        '200':
          description: Ownership validation result
        '401':
          description: Unauthorized
      tags:
        - addresses
      security:
        - bearer: []
  /api/v1/search:
    get:
      operationId: universalSearch
      summary: بحث شامل في المنتجات، الفئات، والبراندات
      parameters:
        - name: q
          required: false
          in: query
          description: نص البحث
          schema:
            type: string
        - name: lang
          required: false
          in: query
          description: اللغة
          schema:
            enum:
              - ar
              - en
            type: string
        - name: entity
          required: false
          in: query
          description: نوع الكيانات
          schema:
            enum:
              - products
              - categories
              - brands
              - all
            type: string
        - name: page
          required: false
          in: query
          description: رقم الصفحة
          schema:
            minimum: 1
            type: number
        - name: limit
          required: false
          in: query
          description: عدد النتائج
          schema:
            minimum: 1
            maximum: 100
            type: number
      responses:
        '200':
          description: ''
      tags:
        - search
  /api/v1/search/products:
    get:
      operationId: advancedProductSearch
      summary: بحث متقدم في المنتجات مع filters
      parameters:
        - name: q
          required: false
          in: query
          description: نص البحث
          schema:
            type: string
        - name: lang
          required: false
          in: query
          description: اللغة
          schema:
            enum:
              - ar
              - en
            type: string
        - name: categoryId
          required: false
          in: query
          description: معرف الفئة
          schema:
            type: string
        - name: brandId
          required: false
          in: query
          description: معرف البراند
          schema:
            type: string
        - name: status
          required: false
          in: query
          description: الحالة
          schema:
            enum:
              - draft
              - active
              - out_of_stock
              - discontinued
            type: string
        - name: isFeatured
          required: false
          in: query
          description: منتجات مميزة
          schema:
            type: boolean
        - name: isNew
          required: false
          in: query
          description: منتجات جديدة
          schema:
            type: boolean
        - name: minPrice
          required: false
          in: query
          description: السعر الأدنى
          schema:
            minimum: 0
            type: number
        - name: maxPrice
          required: false
          in: query
          description: السعر الأعلى
          schema:
            minimum: 0
            type: number
        - name: minRating
          required: false
          in: query
          description: التقييم الأدنى
          schema:
            minimum: 0
            maximum: 5
            type: number
        - name: attributes
          required: false
          in: query
          description: JSON string
          schema:
            example: '{"color": "red", "size": "large"}'
            type: string
        - name: tags
          required: false
          in: query
          description: الوسوم
          schema:
            type: array
            items:
              type: string
        - name: sortBy
          required: false
          in: query
          description: ترتيب حسب
          schema:
            enum:
              - name
              - price
              - rating
              - views
              - createdAt
              - relevance
            type: string
        - name: sortOrder
          required: false
          in: query
          description: اتجاه الترتيب
          schema:
            enum:
              - asc
              - desc
            type: string
        - name: page
          required: false
          in: query
          description: رقم الصفحة
          schema:
            minimum: 1
            type: number
        - name: limit
          required: false
          in: query
          description: عدد النتائج
          schema:
            minimum: 1
            maximum: 100
            type: number
        - name: includeFacets
          required: false
          in: query
          description: إرجاع الـ Facets
          schema:
            type: boolean
      responses:
        '200':
          description: ''
      tags:
        - search
  /api/v1/search/suggestions:
    get:
      operationId: getSuggestions
      summary: اقتراحات البحث (Autocomplete)
      parameters:
        - name: q
          required: true
          in: query
          description: نص البحث
          schema:
            type: string
        - name: lang
          required: false
          in: query
          schema:
            enum:
              - ar
              - en
            type: string
        - name: limit
          required: false
          in: query
          schema:
            type: number
      responses:
        '200':
          description: ''
      tags:
        - search
  /api/v1/search/autocomplete:
    get:
      operationId: autocomplete
      summary: Autocomplete
      parameters:
        - name: q
          required: true
          in: query
          schema:
            type: string
        - name: lang
          required: true
          in: query
          schema:
            type: string
      responses:
        '200':
          description: ''
      tags:
        - search
  /api/v1/admin/brands:
    post:
      operationId: createBrand
      summary: إنشاء علامة تجارية جديدة
      description: إنشاء علامة تجارية جديدة في النظام. يتطلب صلاحيات إدارية.
      tags:
        - admin-brands
      parameters: []
      requestBody:
        required: true
        description: بيانات العلامة التجارية الجديدة
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateBrandDto'
            examples:
              samsung:
                summary: إنشاء علامة سامسونج
                value:
                  name: سامسونج
                  nameEn: Samsung
                  description: شركة تقنية كورية جنوبية متخصصة في الإلكترونيات
                  logoUrl: https://example.com/samsung-logo.png
                  website: https://samsung.com
              apple:
                summary: إنشاء علامة آبل
                value:
                  name: آبل
                  nameEn: Apple
                  description: شركة تقنية أمريكية متخصصة في الإلكترونيات والحاسوب
                  logoUrl: https://example.com/apple-logo.png
                  website: https://apple.com
      responses:
        '201':
          description: تم إنشاء العلامة التجارية بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: تم إنشاء العلامة التجارية بنجاح
                  data:
                    type: object
                    properties:
                      _id:
                        type: string
                        example: 64a1b2c3d4e5f6789abcdef0
                      name:
                        type: string
                        example: سامسونج
                      nameEn:
                        type: string
                        example: Samsung
                      slug:
                        type: string
                        example: samsung
                      description:
                        type: string
                        example: شركة تقنية كورية جنوبية
                      logoUrl:
                        type: string
                        example: https://example.com/samsung-logo.png
                      website:
                        type: string
                        example: https://samsung.com
                      isActive:
                        type: boolean
                        example: true
                      createdAt:
                        type: string
                        format: date-time
                      updatedAt:
                        type: string
                        format: date-time
        '401':
          description: غير مصرح - مطلوب تسجيل دخول
        '403':
          description: ممنوع - مطلوب صلاحيات إدارية
      security:
        - bearer: []
    get:
      operationId: listBrands
      summary: الحصول على قائمة العلامات التجارية
      description: الحصول على قائمة بجميع العلامات التجارية مع إمكانية التصفية والترقيم. يتطلب صلاحيات إدارية.
      tags:
        - admin-brands
      parameters:
        - name: page
          required: false
          in: query
          description: رقم الصفحة
          schema:
            example: 1
            type: number
        - name: limit
          required: false
          in: query
          description: عدد العناصر في الصفحة
          schema:
            example: 10
            type: number
        - name: search
          required: false
          in: query
          description: البحث في أسماء العلامات التجارية
          schema:
            example: سامسونج
            type: string
        - name: language
          required: false
          in: query
          schema:
            example: en
            enum:
              - ar
              - en
            type: string
        - name: isActive
          required: false
          in: query
          description: تصفية العلامات التجارية النشطة
          schema:
            example: true
            type: boolean
        - name: sortBy
          required: false
          in: query
          schema:
            example: name
            enum:
              - name
              - createdAt
              - sortOrder
            type: string
        - name: sortOrder
          required: false
          in: query
          schema:
            example: asc
            enum:
              - asc
              - desc
            type: string
      responses:
        '200':
          description: تم الحصول على قائمة العلامات التجارية بنجاح
      security:
        - bearer: []
  /api/v1/admin/brands/{id}:
    get:
      operationId: getBrand
      summary: الحصول على علامة تجارية بواسطة المعرف
      description: الحصول على تفاصيل علامة تجارية محددة باستخدام المعرف (ObjectId). يتطلب صلاحيات إدارية.
      tags:
        - admin-brands
      parameters:
        - name: id
          required: true
          in: path
          description: معرف العلامة التجارية (ObjectId)
          schema:
            example: 64a1b2c3d4e5f6789abcdef0
            type: string
      responses:
        '200':
          description: تم الحصول على العلامة التجارية بنجاح
        '404':
          description: العلامة التجارية غير موجودة
      security:
        - bearer: []
    patch:
      operationId: updateBrand
      summary: تحديث علامة تجارية
      description: تحديث بيانات علامة تجارية موجودة. يتطلب صلاحيات إدارية.
      tags:
        - admin-brands
      parameters:
        - name: id
          required: true
          in: path
          description: معرف العلامة التجارية (ObjectId)
          schema:
            example: 64a1b2c3d4e5f6789abcdef0
            type: string
      requestBody:
        required: true
        description: البيانات المحدثة للعلامة التجارية
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateBrandDto'
      responses:
        '200':
          description: تم تحديث العلامة التجارية بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: تم تحديث العلامة التجارية بنجاح
                  data:
                    type: object
                    properties:
                      _id:
                        type: string
                        example: 64a1b2c3d4e5f6789abcdef0
                      name:
                        type: string
                        example: سامسونج المحدث
                      nameEn:
                        type: string
                        example: Updated Samsung
                      slug:
                        type: string
                        example: updated-samsung
                      description:
                        type: string
                        example: شركة تقنية كورية جنوبية محدثة
                      logoUrl:
                        type: string
                        example: https://example.com/updated-samsung-logo.png
                      website:
                        type: string
                        example: https://samsung.com
                      isActive:
                        type: boolean
                        example: true
                      updatedAt:
                        type: string
                        format: date-time
        '404':
          description: العلامة التجارية غير موجودة
      security:
        - bearer: []
    delete:
      operationId: deleteBrand
      summary: حذف علامة تجارية
      description: حذف علامة تجارية من النظام. يتطلب صلاحيات إدارية.
      tags:
        - admin-brands
      parameters:
        - name: id
          required: true
          in: path
          description: معرف العلامة التجارية (ObjectId)
          schema:
            example: 64a1b2c3d4e5f6789abcdef0
            type: string
      responses:
        '200':
          description: تم حذف العلامة التجارية بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: تم حذف العلامة التجارية بنجاح
        '404':
          description: العلامة التجارية غير موجودة
      security:
        - bearer: []
  /api/v1/admin/brands/{id}/toggle-status:
    patch:
      operationId: toggleBrandStatus
      summary: تبديل حالة العلامة التجارية
      description: تفعيل أو إلغاء تفعيل علامة تجارية. يتطلب صلاحيات إدارية.
      tags:
        - admin-brands
      parameters:
        - name: id
          required: true
          in: path
          description: معرف العلامة التجارية (ObjectId)
          schema:
            example: 64a1b2c3d4e5f6789abcdef0
            type: string
      responses:
        '200':
          description: تم تبديل حالة العلامة التجارية بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: تم تفعيل العلامة التجارية بنجاح
                  data:
                    type: object
                    properties:
                      _id:
                        type: string
                        example: 64a1b2c3d4e5f6789abcdef0
                      name:
                        type: string
                        example: سامسونج
                      isActive:
                        type: boolean
                        example: true
                      updatedAt:
                        type: string
                        format: date-time
        '404':
          description: العلامة التجارية غير موجودة
      security:
        - bearer: []
  /api/v1/brands:
    get:
      operationId: getActiveBrands
      summary: الحصول على قائمة العلامات التجارية النشطة
      description: يُرجع قائمة بجميع العلامات التجارية النشطة مع إمكانية التصفية والترقيم. هذا endpoint عام ولا يتطلب مصادقة.
      tags:
        - brands
      parameters:
        - name: page
          required: false
          in: query
          description: رقم الصفحة
          schema:
            example: 1
            type: number
        - name: limit
          required: false
          in: query
          description: عدد العناصر في الصفحة
          schema:
            example: 10
            type: number
        - name: search
          required: false
          in: query
          description: البحث في أسماء العلامات التجارية
          schema:
            example: سامسونج
            type: string
        - name: language
          required: false
          in: query
          schema:
            example: en
            enum:
              - ar
              - en
            type: string
        - name: isActive
          required: false
          in: query
          schema:
            example: true
            type: boolean
        - name: sortBy
          required: false
          in: query
          description: ترتيب النتائج
          schema:
            enum:
              - name
              - createdAt
              - updatedAt
            type: string
        - name: sortOrder
          required: false
          in: query
          description: اتجاه الترتيب
          schema:
            enum:
              - asc
              - desc
            type: string
      responses:
        '200':
          description: تم الحصول على قائمة العلامات التجارية بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                          example: 64a1b2c3d4e5f6789abcdef0
                        name:
                          type: string
                          example: سامسونج
                        nameEn:
                          type: string
                          example: Samsung
                        slug:
                          type: string
                          example: samsung
                        description:
                          type: string
                          example: شركة تقنية كورية جنوبية
                        logoUrl:
                          type: string
                          example: https://example.com/samsung-logo.png
                        website:
                          type: string
                          example: https://samsung.com
                        isActive:
                          type: boolean
                          example: true
                        createdAt:
                          type: string
                          format: date-time
                        updatedAt:
                          type: string
                          format: date-time
                  pagination:
                    type: object
                    properties:
                      page:
                        type: number
                        example: 1
                      limit:
                        type: number
                        example: 10
                      total:
                        type: number
                        example: 50
                      totalPages:
                        type: number
                        example: 5
                      hasNext:
                        type: boolean
                        example: true
                      hasPrev:
                        type: boolean
                        example: false
  /api/v1/brands/slug/{slug}:
    get:
      operationId: getBrandBySlug
      summary: الحصول على علامة تجارية بواسطة الـ slug
      description: يُرجع تفاصيل علامة تجارية محددة باستخدام الـ slug. هذا endpoint عام ولا يتطلب مصادقة.
      tags:
        - brands
      parameters:
        - name: slug
          required: true
          in: path
          description: الـ slug الخاص بالعلامة التجارية
          schema:
            example: samsung
            type: string
      responses:
        '200':
          description: تم الحصول على العلامة التجارية بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      _id:
                        type: string
                        example: 64a1b2c3d4e5f6789abcdef0
                      name:
                        type: string
                        example: سامسونج
                      nameEn:
                        type: string
                        example: Samsung
                      slug:
                        type: string
                        example: samsung
                      description:
                        type: string
                        example: شركة تقنية كورية جنوبية
                      logoUrl:
                        type: string
                        example: https://example.com/samsung-logo.png
                      website:
                        type: string
                        example: https://samsung.com
                      isActive:
                        type: boolean
                        example: true
                      createdAt:
                        type: string
                        format: date-time
                      updatedAt:
                        type: string
                        format: date-time
        '404':
          description: العلامة التجارية غير موجودة
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: العلامة التجارية غير موجودة
  /api/v1/brands/{id}:
    get:
      operationId: getBrandById
      summary: الحصول على علامة تجارية بواسطة المعرف
      description: يُرجع تفاصيل علامة تجارية محددة باستخدام المعرف (ObjectId). هذا endpoint عام ولا يتطلب مصادقة.
      tags:
        - brands
      parameters:
        - name: id
          required: true
          in: path
          description: معرف العلامة التجارية (ObjectId)
          schema:
            example: 64a1b2c3d4e5f6789abcdef0
            type: string
      responses:
        '200':
          description: تم الحصول على العلامة التجارية بنجاح
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      _id:
                        type: string
                        example: 64a1b2c3d4e5f6789abcdef0
                      name:
                        type: string
                        example: سامسونج
                      nameEn:
                        type: string
                        example: Samsung
                      slug:
                        type: string
                        example: samsung
                      description:
                        type: string
                        example: شركة تقنية كورية جنوبية
                      logoUrl:
                        type: string
                        example: https://example.com/samsung-logo.png
                      website:
                        type: string
                        example: https://samsung.com
                      isActive:
                        type: boolean
                        example: true
                      createdAt:
                        type: string
                        format: date-time
                      updatedAt:
                        type: string
                        format: date-time
        '404':
          description: العلامة التجارية غير موجودة
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: العلامة التجارية غير موجودة
  /api/v1/upload/file:
    post:
      operationId: uploadFile
      parameters:
        - name: folder
          required: true
          in: query
          schema:
            type: string
        - name: filename
          required: true
          in: query
          schema:
            type: string
      requestBody:
        required: true
        description: File upload
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/UploadFileDto'
      responses:
        '201':
          description: ''
      tags:
        - upload
      security:
        - bearer: []
    delete:
      operationId: deleteFile
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DeleteFileDto'
      responses:
        '200':
          description: ''
      tags:
        - upload
      security:
        - bearer: []
  /api/v1/upload/files:
    post:
      operationId: uploadFiles
      parameters:
        - name: folder
          required: true
          in: query
          schema:
            type: string
      requestBody:
        required: true
        description: Multiple files upload
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                files:
                  type: array
                  items:
                    type: string
                    format: binary
                folder:
                  type: string
                  description: Upload folder
      responses:
        '201':
          description: ''
      tags:
        - upload
      security:
        - bearer: []
  /api/v1/upload/file/{filePath}:
    get:
      operationId: getFileInfo
      parameters:
        - name: filePath
          required: true
          in: path
          schema:
            type: string
      responses:
        '200':
          description: ''
      tags:
        - upload
      security:
        - bearer: []
  /api/v1/upload/public/*:
    get:
      operationId: serveFile
      parameters: []
      responses:
        '200':
          description: ''
      tags:
        - upload
      security:
        - bearer: []
  /api/v1/admin/media/upload:
    post:
      operationId: uploadMedia
      parameters: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/UploadMediaDto'
      responses:
        '201':
          description: ''
      tags:
        - admin-media
      security:
        - bearer: []
  /api/v1/admin/media:
    get:
      operationId: listMedia
      parameters: []
      responses:
        '200':
          description: ''
      tags:
        - admin-media
      security:
        - bearer: []
  /api/v1/admin/media/{id}:
    get:
      operationId: getMedia
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      responses:
        '200':
          description: ''
      tags:
        - admin-media
      security:
        - bearer: []
    patch:
      operationId: updateMedia
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateMediaDto'
      responses:
        '200':
          description: ''
      tags:
        - admin-media
      security:
        - bearer: []
    delete:
      operationId: deleteMedia
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      responses:
        '200':
          description: ''
      tags:
        - admin-media
      security:
        - bearer: []
  /api/v1/admin/media/{id}/restore:
    post:
      operationId: restoreMedia
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      responses:
        '201':
          description: ''
      tags:
        - admin-media
      security:
        - bearer: []
  /api/v1/admin/media/{id}/permanent:
    delete:
      operationId: permanentDeleteMedia
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      responses:
        '200':
          description: ''
      tags:
        - admin-media
      security:
        - bearer: []
  /api/v1/admin/media/stats/summary:
    get:
      operationId: getStats
      parameters: []
      responses:
        '200':
          description: ''
      tags:
        - admin-media
      security:
        - bearer: []
  /api/v1/admin/media/cleanup/deleted:
    post:
      operationId: cleanupDeletedFiles
      parameters: []
      responses:
        '201':
          description: ''
      tags:
        - admin-media
      security:
        - bearer: []
  /api/v1/admin/media/cleanup/duplicates:
    post:
      operationId: cleanupDuplicateFiles
      parameters: []
      responses:
        '201':
          description: ''
      tags:
        - admin-media
      security:
        - bearer: []
  /api/v1/admin/media/cleanup/unused:
    post:
      operationId: cleanupUnusedFiles
      parameters:
        - name: days
          required: true
          in: query
          schema:
            type: number
      responses:
        '201':
          description: ''
      tags:
        - admin-media
      security:
        - bearer: []
  /api/v1/admin/audit/logs:
    get:
      operationId: getAuditLogs
      summary: Get audit logs with filtering
      description: Retrieve audit logs with various filtering options
      parameters: []
      responses:
        '200':
          description: Audit logs retrieved successfully
      tags:
        - audit
      security:
        - bearer: []
  /api/v1/admin/audit/stats:
    get:
      operationId: getAuditStats
      summary: Get audit statistics
      description: Get statistics about audit logs
      parameters: []
      responses:
        '200':
          description: ''
      tags:
        - audit
      security:
        - bearer: []
  /api/v1/admin/audit/actions:
    get:
      operationId: getAuditActions
      summary: Get available audit actions
      description: Get list of all available audit actions
      parameters: []
      responses:
        '200':
          description: ''
      tags:
        - audit
      security:
        - bearer: []
  /api/v1/admin/audit/resources:
    get:
      operationId: getAuditResources
      summary: Get available audit resources
      description: Get list of all available audit resources
      parameters: []
      responses:
        '200':
          description: ''
      tags:
        - audit
      security:
        - bearer: []
  /api/v1/health:
    get:
      operationId: check
      parameters: []
      responses:
        '200':
          description: The Health Check is successful
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: ok
                  info:
                    type: object
                    example:
                      database:
                        status: up
                    additionalProperties:
                      type: object
                      required:
                        - status
                      properties:
                        status:
                          type: string
                      additionalProperties: true
                    nullable: true
                  error:
                    type: object
                    example: {}
                    additionalProperties:
                      type: object
                      required:
                        - status
                      properties:
                        status:
                          type: string
                      additionalProperties: true
                    nullable: true
                  details:
                    type: object
                    example:
                      database:
                        status: up
                    additionalProperties:
                      type: object
                      required:
                        - status
                      properties:
                        status:
                          type: string
                      additionalProperties: true
        '503':
          description: The Health Check is not successful
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: error
                  info:
                    type: object
                    example:
                      database:
                        status: up
                    additionalProperties:
                      type: object
                      required:
                        - status
                      properties:
                        status:
                          type: string
                      additionalProperties: true
                    nullable: true
                  error:
                    type: object
                    example:
                      redis:
                        status: down
                        message: Could not connect
                    additionalProperties:
                      type: object
                      required:
                        - status
                      properties:
                        status:
                          type: string
                      additionalProperties: true
                    nullable: true
                  details:
                    type: object
                    example:
                      database:
                        status: up
                      redis:
                        status: down
                        message: Could not connect
                    additionalProperties:
                      type: object
                      required:
                        - status
                      properties:
                        status:
                          type: string
                      additionalProperties: true
  /api/v1/health/simple:
    get:
      operationId: simple
      parameters: []
      responses:
        '200':
          description: ''
  /api/v1/health/ready:
    get:
      operationId: ready
      parameters: []
      responses:
        '200':
          description: The Health Check is successful
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: ok
                  info:
                    type: object
                    example:
                      database:
                        status: up
                    additionalProperties:
                      type: object
                      required:
                        - status
                      properties:
                        status:
                          type: string
                      additionalProperties: true
                    nullable: true
                  error:
                    type: object
                    example: {}
                    additionalProperties:
                      type: object
                      required:
                        - status
                      properties:
                        status:
                          type: string
                      additionalProperties: true
                    nullable: true
                  details:
                    type: object
                    example:
                      database:
                        status: up
                    additionalProperties:
                      type: object
                      required:
                        - status
                      properties:
                        status:
                          type: string
                      additionalProperties: true
        '503':
          description: The Health Check is not successful
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: error
                  info:
                    type: object
                    example:
                      database:
                        status: up
                    additionalProperties:
                      type: object
                      required:
                        - status
                      properties:
                        status:
                          type: string
                      additionalProperties: true
                    nullable: true
                  error:
                    type: object
                    example:
                      redis:
                        status: down
                        message: Could not connect
                    additionalProperties:
                      type: object
                      required:
                        - status
                      properties:
                        status:
                          type: string
                      additionalProperties: true
                    nullable: true
                  details:
                    type: object
                    example:
                      database:
                        status: up
                      redis:
                        status: down
                        message: Could not connect
                    additionalProperties:
                      type: object
                      required:
                        - status
                      properties:
                        status:
                          type: string
                      additionalProperties: true
  /api/v1/health/live:
    get:
      operationId: live
      parameters: []
      responses:
        '200':
          description: ''
info:
  title: Tagadod API
  description: Complete e-commerce platform for solar products with advanced analytics and multi-language support
  version: '1.0'
  contact: {}
tags:
  - name: auth
    description: Authentication and authorization endpoints
  - name: users
    description: User management and profiles
  - name: products
    description: Product catalog and management
  - name: categories
    description: Product categories and organization
  - name: brands
    description: Brand management
  - name: attributes
    description: Product attributes and specifications
  - name: cart
    description: Shopping cart operations
  - name: checkout
    description: Order processing and checkout
  - name: orders
    description: Order management and tracking
  - name: analytics
    description: Analytics and reporting
  - name: marketing
    description: Marketing campaigns and promotions
  - name: notifications
    description: Notification system
  - name: support
    description: Customer support and tickets
  - name: services
    description: Service requests and management
  - name: favorites
    description: User favorites and wishlist
  - name: addresses
    description: Address management
  - name: exchange-rates
    description: Currency conversion and exchange rates
  - name: search
    description: Product search and filtering
  - name: upload
    description: File upload and media management
servers:
  - url: http://localhost:3000
    description: Development server
  - url: https://api.tagadod.com
    description: Production server
components:
  securitySchemes:
    JWT-auth:
      scheme: bearer
      bearerFormat: JWT
      type: http
      name: JWT
      description: Enter JWT token
      in: header
  schemas:
    SendOtpDto:
      type: object
      properties:
        phone:
          type: string
          description: رقم الهاتف لإرسال كود التحقق إليه
          example: '+966501234567'
          pattern: ^\+?[1-9]\d{1,14}$
          minLength: 10
          maxLength: 15
        context:
          type: string
          description: سياق إرسال كود التحقق
          enum:
            - register
            - reset
          example: register
          default: register
      required:
        - phone
    VerifyOtpDto:
      type: object
      properties:
        phone:
          type: string
          description: رقم الهاتف المرتبط بكود التحقق
          example: '+966501234567'
          pattern: ^\+?[1-9]\d{1,14}$
          minLength: 10
          maxLength: 15
        code:
          type: string
          description: كود التحقق المرسل عبر الرسائل النصية
          example: '123456'
          minLength: 6
          maxLength: 6
          pattern: ^[0-9]{6}$
        firstName:
          type: string
          description: الاسم الأول للمستخدم (للتسجيل)
          example: أحمد
          minLength: 2
          maxLength: 50
        lastName:
          type: string
          description: الاسم الأخير للمستخدم (للتسجيل)
          example: محمد
          minLength: 2
          maxLength: 50
        gender:
          type: string
          description: الجنس
          enum:
            - male
            - female
            - other
          example: male
        capabilityRequest:
          type: string
          description: نوع القدرة المطلوبة
          enum:
            - engineer
            - wholesale
          example: engineer
        jobTitle:
          type: string
          description: المسمى الوظيفي للمهندس (مطلوب إذا كان capabilityRequest = "engineer")
          example: مهندس ميكانيكي
          minLength: 3
          maxLength: 100
        deviceId:
          type: string
          description: معرف الجهاز للمزامنة التلقائية للمفضلات
          example: device_123456789
          minLength: 10
          maxLength: 50
      required:
        - phone
        - code
    SetPasswordDto:
      type: object
      properties:
        password:
          type: string
          description: كلمة المرور الجديدة
          example: SecurePassword123!
          minLength: 8
          maxLength: 128
          format: password
      required:
        - password
    Currency:
      type: string
      description: العملة المفضلة للمستخدم
      enum:
        - USD
        - YER
        - SAR
    UpdatePreferredCurrencyDto:
      type: object
      properties:
        currency:
          example: SAR
          $ref: '#/components/schemas/Currency'
      required:
        - currency
    ForgotPasswordDto:
      type: object
      properties:
        phone:
          type: string
          description: رقم الهاتف المرتبط بالحساب
          example: '+966501234567'
          pattern: ^\+?[1-9]\d{1,14}$
          minLength: 10
          maxLength: 15
      required:
        - phone
    ResetPasswordDto:
      type: object
      properties:
        phone:
          type: string
          description: رقم الهاتف المرتبط بالحساب
          example: '+966501234567'
          pattern: ^\+?[1-9]\d{1,14}$
          minLength: 10
          maxLength: 15
        code:
          type: string
          description: كود التحقق المرسل عبر الرسائل النصية
          example: '123456'
          minLength: 6
          maxLength: 6
          pattern: ^[0-9]{6}$
        newPassword:
          type: string
          description: كلمة المرور الجديدة
          example: NewSecurePassword123!
          minLength: 8
          maxLength: 128
      required:
        - phone
        - code
        - newPassword
    AddFavoriteDto:
      type: object
      properties: {}
    RemoveFavoriteDto:
      type: object
      properties: {}
    UpdateFavoriteDto:
      type: object
      properties: {}
    SyncFavoritesDto:
      type: object
      properties: {}
    GuestAddFavoriteDto:
      type: object
      properties: {}
    GuestRemoveFavoriteDto:
      type: object
      properties: {}
    CreateProductDto:
      type: object
      properties: {}
    UpdateProductDto:
      type: object
      properties: {}
    CreateVariantDto:
      type: object
      properties: {}
    UpdateVariantDto:
      type: object
      properties: {}
    AttributeType:
      type: string
      description: نوع السمة
      enum:
        - select
        - multiselect
        - text
        - number
        - boolean
    CreateAttributeDto:
      type: object
      properties:
        name:
          type: string
          description: اسم السمة باللغة العربية
          example: اللون
          minLength: 1
          maxLength: 100
        nameEn:
          type: string
          description: اسم السمة باللغة الإنجليزية
          example: Color
          minLength: 1
          maxLength: 100
        type:
          example: select
          $ref: '#/components/schemas/AttributeType'
        description:
          type: string
          description: وصف السمة
          example: لون المنتج
          maxLength: 500
        order:
          type: number
          description: ترتيب العرض (للتنظيم)
          example: 1
          minimum: 0
          default: 0
        isFilterable:
          type: boolean
          description: هل السمة قابلة للفلترة في الواجهة؟
          example: true
          default: true
        isRequired:
          type: boolean
          description: هل السمة إلزامية عند إنشاء منتج؟
          example: false
          default: false
        showInFilters:
          type: boolean
          description: هل تظهر السمة في الفلاتر الجانبية؟
          example: true
          default: false
        groupId:
          type: string
          description: معرف مجموعة السمات (للتنظيم)
          example: 64a1b2c3d4e5f6789abcdef1
      required:
        - name
        - nameEn
        - type
    UpdateAttributeDto:
      type: object
      properties:
        name:
          type: string
          description: اسم السمة باللغة العربية
          example: اللون المحدث
          minLength: 1
          maxLength: 100
        nameEn:
          type: string
          description: اسم السمة باللغة الإنجليزية
          example: Updated Color
          minLength: 1
          maxLength: 100
        description:
          type: string
          description: وصف السمة
          example: لون المنتج المحدث
          maxLength: 500
        order:
          type: number
          description: ترتيب العرض (للتنظيم)
          example: 2
          minimum: 0
        isActive:
          type: boolean
          description: هل السمة نشطة؟
          example: true
          default: true
        isFilterable:
          type: boolean
          description: هل السمة قابلة للفلترة في الواجهة؟
          example: true
        isRequired:
          type: boolean
          description: هل السمة إلزامية عند إنشاء منتج؟
          example: false
        showInFilters:
          type: boolean
          description: هل تظهر السمة في الفلاتر الجانبية؟
          example: true
        groupId:
          type: string
          description: معرف مجموعة السمات (للتنظيم)
          example: 64a1b2c3d4e5f6789abcdef1
    CreateAttributeValueDto:
      type: object
      properties:
        value:
          type: string
          description: القيمة باللغة العربية
          example: أحمر
          minLength: 1
          maxLength: 100
        valueEn:
          type: string
          description: القيمة باللغة الإنجليزية
          example: Red
          maxLength: 100
        hexCode:
          type: string
          description: كود اللون (Hex Code) - للألوان
          example: '#FF0000'
          pattern: ^#[0-9A-Fa-f]{6}$
        imageUrl:
          type: string
          description: رابط الصورة
          example: https://example.com/images/red-color.jpg
          format: uri
        imageId:
          type: string
          description: معرف الصورة في النظام
          example: img_123456789
        description:
          type: string
          description: وصف القيمة
          example: اللون الأحمر الفاتح
          maxLength: 500
        order:
          type: number
          description: ترتيب العرض
          example: 1
          minimum: 0
          default: 0
      required:
        - value
    UpdateAttributeValueDto:
      type: object
      properties:
        value:
          type: string
          description: القيمة باللغة العربية
          example: أحمر داكن
          minLength: 1
          maxLength: 100
        valueEn:
          type: string
          description: القيمة باللغة الإنجليزية
          example: Dark Red
          maxLength: 100
        hexCode:
          type: string
          description: كود اللون (Hex Code) - للألوان
          example: '#CC0000'
          pattern: ^#[0-9A-Fa-f]{6}$
        imageUrl:
          type: string
          description: رابط الصورة
          example: https://example.com/images/dark-red-color.jpg
          format: uri
        imageId:
          type: string
          description: معرف الصورة في النظام
          example: img_987654321
        description:
          type: string
          description: وصف القيمة
          example: اللون الأحمر الداكن
          maxLength: 500
        order:
          type: number
          description: ترتيب العرض
          example: 2
          minimum: 0
        isActive:
          type: boolean
          description: هل القيمة نشطة؟
          example: true
          default: true
    CreateCategoryDto:
      type: object
      properties: {}
    UpdateCategoryDto:
      type: object
      properties: {}
    ConvertCurrencyDto:
      type: object
      properties: {}
    UpdateExchangeRateDto:
      type: object
      properties: {}
    MarkAsReadDto:
      type: object
      properties: {}
    CreateNotificationDto:
      type: object
      properties: {}
    UpdateNotificationDto:
      type: object
      properties: {}
    BulkSendNotificationDto:
      type: object
      properties: {}
    UserInfoDto:
      type: object
      properties:
        phone:
          type: string
          description: رقم الهاتف
        firstName:
          type: string
          description: الاسم الأول
        lastName:
          type: string
          description: الاسم الأخير
        status:
          type: string
          description: حالة الحساب
          enum:
            - active
            - suspended
            - pending
            - deleted
        roles:
          description: أدوار المستخدم
          type: array
          items:
            type: string
        createdAt:
          format: date-time
          type: string
          description: تاريخ إنشاء الحساب
        lastLogin:
          format: date-time
          type: string
          description: آخر تسجيل دخول
      required:
        - phone
        - status
        - roles
        - createdAt
    OrderStatsDto:
      type: object
      properties:
        total:
          type: number
          description: إجمالي الطلبات
        completed:
          type: number
          description: الطلبات المكتملة
        pending:
          type: number
          description: الطلبات المعلقة
        cancelled:
          type: number
          description: الطلبات الملغية
        totalSpent:
          type: number
          description: إجمالي المبلغ المنفق
        averageOrderValue:
          type: number
          description: متوسط قيمة الطلب
        firstOrderDate:
          format: date-time
          type: string
          description: تاريخ أول طلب
        lastOrderDate:
          format: date-time
          type: string
          description: تاريخ آخر طلب
        favoriteCategories:
          description: الفئات المفضلة
          type: array
          items:
            type: string
      required:
        - total
        - completed
        - pending
        - cancelled
        - totalSpent
        - averageOrderValue
        - favoriteCategories
    FavoriteStatsDto:
      type: object
      properties:
        total:
          type: number
          description: إجمالي المفضلة
        categories:
          description: الفئات في المفضلة
          type: array
          items:
            type: string
        recentFavorites:
          description: آخر المفضلة المضافة
          type: array
          items:
            type: string
      required:
        - total
        - categories
        - recentFavorites
    SupportStatsDto:
      type: object
      properties:
        totalTickets:
          type: number
          description: إجمالي تذاكر الدعم
        openTickets:
          type: number
          description: التذاكر المفتوحة
        resolvedTickets:
          type: number
          description: التذاكر المحلولة
        averageResponseTime:
          type: number
          description: متوسط وقت الاستجابة (بالدقائق)
      required:
        - totalTickets
        - openTickets
        - resolvedTickets
    UserScoreDto:
      type: object
      properties:
        loyaltyScore:
          type: number
          description: نقاط الولاء (0-100)
        valueScore:
          type: number
          description: نقاط القيمة المالية (0-100)
        activityScore:
          type: number
          description: نقاط النشاط (0-100)
        supportScore:
          type: number
          description: نقاط خدمة العملاء (0-100)
        overallScore:
          type: number
          description: النقاط الإجمالية (0-100)
        rank:
          type: number
          description: الترتيب بين العملاء
      required:
        - loyaltyScore
        - valueScore
        - activityScore
        - supportScore
        - overallScore
        - rank
    UserBehaviorDto:
      type: object
      properties:
        preferredPaymentMethod:
          type: string
          description: طريقة الدفع المفضلة
        averageOrderFrequency:
          type: number
          description: متوسط تكرار الطلبات (بالأيام)
        seasonalPatterns:
          description: الأنماط الموسمية
          type: array
          items:
            type: string
        productPreferences:
          description: تفضيلات المنتجات
          type: array
          items:
            type: string
      required:
        - preferredPaymentMethod
        - averageOrderFrequency
        - seasonalPatterns
        - productPreferences
    UserPredictionsDto:
      type: object
      properties:
        churnRisk:
          type: string
          description: مخاطر فقدان العميل
          enum:
            - low
            - medium
            - high
        nextPurchaseProbability:
          type: number
          description: احتمالية الشراء القادم (0-1)
        estimatedLifetimeValue:
          type: number
          description: القيمة المتوقعة للعميل
        recommendedActions:
          description: التوصيات المقترحة
          type: array
          items:
            type: string
      required:
        - churnRisk
        - nextPurchaseProbability
        - estimatedLifetimeValue
        - recommendedActions
    UserDetailedStatsDto:
      type: object
      properties:
        userId:
          type: string
          description: معرف المستخدم
        userInfo:
          description: معلومات المستخدم الأساسية
          allOf:
            - $ref: '#/components/schemas/UserInfoDto'
        orders:
          description: إحصائيات الطلبات
          allOf:
            - $ref: '#/components/schemas/OrderStatsDto'
        favorites:
          description: إحصائيات المفضلة
          allOf:
            - $ref: '#/components/schemas/FavoriteStatsDto'
        support:
          description: إحصائيات الدعم
          allOf:
            - $ref: '#/components/schemas/SupportStatsDto'
        score:
          description: نقاط التقييم
          allOf:
            - $ref: '#/components/schemas/UserScoreDto'
        behavior:
          description: تحليل السلوك
          allOf:
            - $ref: '#/components/schemas/UserBehaviorDto'
        predictions:
          description: التنبؤات والتوصيات
          allOf:
            - $ref: '#/components/schemas/UserPredictionsDto'
      required:
        - userId
        - userInfo
        - orders
        - favorites
        - support
        - score
        - behavior
        - predictions
    CustomerRankingDto:
      type: object
      properties:
        userId:
          type: string
          description: معرف المستخدم
        userInfo:
          type: object
          description: معلومات المستخدم
        totalSpent:
          type: number
          description: إجمالي المبلغ المنفق
        totalOrders:
          type: number
          description: إجمالي الطلبات
        rank:
          type: number
          description: الترتيب
        score:
          type: number
          description: النقاط الإجمالية
      required:
        - userId
        - userInfo
        - totalSpent
        - totalOrders
        - rank
        - score
    OverallUserAnalyticsDto:
      type: object
      properties:
        totalUsers:
          type: number
          description: إجمالي المستخدمين
        activeUsers:
          type: number
          description: المستخدمين النشطين
        newUsersThisMonth:
          type: number
          description: المستخدمين الجدد هذا الشهر
        topSpenders:
          description: أعلى العملاء إنفاقاً
          type: array
          items:
            type: string
        userGrowth:
          description: نمو المستخدمين
          type: array
          items:
            type: string
        averageOrderValue:
          type: number
          description: متوسط قيمة الطلب
        customerLifetimeValue:
          type: number
          description: القيمة المتوقعة للعميل
      required:
        - totalUsers
        - activeUsers
        - newUsersThisMonth
        - topSpenders
        - userGrowth
        - averageOrderValue
        - customerLifetimeValue
    UserStatsFilterDto:
      type: object
      properties:
        minScore:
          type: number
          description: تصفية حسب النقاط الدنيا
        maxScore:
          type: number
          description: تصفية حسب النقاط العليا
        churnRisk:
          type: string
          description: تصفية حسب مخاطر فقدان العميل
          enum:
            - low
            - medium
            - high
        status:
          type: string
          description: تصفية حسب حالة الحساب
          enum:
            - active
            - suspended
            - pending
            - deleted
        roles:
          description: تصفية حسب الدور
          type: array
          items:
            type: string
    PaginatedUserStatsDto:
      type: object
      properties:
        data:
          description: بيانات المستخدمين
          type: array
          items:
            type: string
        meta:
          type: object
          description: معلومات الصفحة
      required:
        - data
        - meta
    CheckoutPreviewDto:
      type: object
      properties:
        currency:
          type: string
          example: YER
          enum:
            - YER
            - SAR
            - USD
        couponCode:
          type: string
      required:
        - currency
    CheckoutConfirmDto:
      type: object
      properties:
        deliveryAddressId:
          type: string
          example: 65abc123def456789
        currency:
          type: string
          example: YER
        paymentMethod:
          type: string
          example: COD
          enum:
            - COD
            - ONLINE
            - WALLET
            - BANK_TRANSFER
        paymentProvider:
          type: string
        shippingMethod:
          type: string
          example: standard
          enum:
            - standard
            - express
            - same_day
            - pickup
        customerNotes:
          type: string
        couponCode:
          type: string
      required:
        - deliveryAddressId
        - currency
        - paymentMethod
    CancelOrderDto:
      type: object
      properties:
        reason:
          type: string
          example: تغيير رأيي في المنتج
      required:
        - reason
    RateOrderDto:
      type: object
      properties:
        rating:
          type: number
          example: 5
          minimum: 1
          maximum: 5
        review:
          type: string
      required:
        - rating
    AddOrderNotesDto:
      type: object
      properties:
        notes:
          type: string
          example: ملاحظات إضافية للطلب
        type:
          type: string
          example: internal
      required:
        - notes
    UpdateOrderStatusDto:
      type: object
      properties:
        status:
          type: string
          enum:
            - draft
            - pending_payment
            - confirmed
            - payment_failed
            - processing
            - ready_to_ship
            - shipped
            - out_for_delivery
            - delivered
            - completed
            - on_hold
            - cancelled
            - refunded
            - partially_refunded
            - returned
        notes:
          type: string
      required:
        - status
    ShipOrderDto:
      type: object
      properties:
        shippingCompany:
          type: string
          example: DHL
        trackingNumber:
          type: string
          example: DHL123456789
        trackingUrl:
          type: string
        estimatedDeliveryDate:
          type: string
        notes:
          type: string
      required:
        - shippingCompany
        - trackingNumber
    RefundOrderDto:
      type: object
      properties:
        amount:
          type: number
          example: 50000
        reason:
          type: string
          example: عطل في المنتج
        items:
          type: array
          items:
            type: string
      required:
        - amount
        - reason
    BulkOrderUpdateDto:
      type: object
      properties:
        orderIds:
          type: array
          items:
            type: string
        status:
          type: string
          enum:
            - draft
            - pending_payment
            - confirmed
            - payment_failed
            - processing
            - ready_to_ship
            - shipped
            - out_for_delivery
            - delivered
            - completed
            - on_hold
            - cancelled
            - refunded
            - partially_refunded
            - returned
        notes:
          type: string
      required:
        - orderIds
        - status
    WebhookDto:
      type: object
      properties:
        intentId:
          type: string
        status:
          type: string
          enum:
            - SUCCESS
            - FAILED
        amount:
          type: string
        signature:
          type: string
      required:
        - intentId
        - status
        - amount
        - signature
    AddItemDto:
      type: object
      properties:
        variantId:
          type: string
          example: 65abc123def456789
        qty:
          type: number
          example: 1
          default: 1
        currency:
          type: string
          example: YER
          enum:
            - YER
            - SAR
            - USD
        accountType:
          type: string
          example: retail
          enum:
            - retail
            - wholesale
            - engineer
      required:
        - variantId
        - qty
    UpdateItemDto:
      type: object
      properties:
        qty:
          type: number
          example: 2
      required:
        - qty
    DeviceDto:
      type: object
      properties:
        deviceId:
          type: string
          example: device_unique_id_123
      required:
        - deviceId
    PreviewDto:
      type: object
      properties:
        currency:
          type: string
          example: YER
          enum:
            - YER
            - SAR
            - USD
        couponCode:
          type: string
      required:
        - currency
    UpdateCartSettingsDto:
      type: object
      properties:
        currency:
          type: string
          example: YER
          enum:
            - YER
            - SAR
            - USD
        accountType:
          type: string
          example: retail
          enum:
            - retail
            - wholesale
            - engineer
        metadata:
          type: object
    ApplyCouponDto:
      type: object
      properties:
        couponCode:
          type: string
          example: SUMMER20
      required:
        - couponCode
    GuestAddItemDto:
      type: object
      properties:
        variantId:
          type: string
          example: 65abc123def456789
        qty:
          type: number
          example: 1
          default: 1
        currency:
          type: string
          example: YER
          enum:
            - YER
            - SAR
            - USD
        accountType:
          type: string
          example: retail
          enum:
            - retail
            - wholesale
            - engineer
        deviceId:
          type: string
          example: device_unique_id_123
        metadata:
          type: object
      required:
        - variantId
        - qty
        - deviceId
    GuestUpdateItemDto:
      type: object
      properties:
        qty:
          type: number
          example: 2
        deviceId:
          type: string
          example: device_unique_id_123
      required:
        - qty
        - deviceId
    GuestPreviewDto:
      type: object
      properties:
        currency:
          type: string
          example: YER
          enum:
            - YER
            - SAR
            - USD
        couponCode:
          type: string
        deviceId:
          type: string
          example: device_unique_id_123
      required:
        - currency
        - deviceId
    CreatePriceRuleDto:
      type: object
      properties: {}
    UpdatePriceRuleDto:
      type: object
      properties: {}
    PreviewPriceRuleDto:
      type: object
      properties: {}
    CreateCouponDto:
      type: object
      properties: {}
    UpdateCouponDto:
      type: object
      properties: {}
    ValidateCouponDto:
      type: object
      properties: {}
    CreateBannerDto:
      type: object
      properties: {}
    UpdateBannerDto:
      type: object
      properties: {}
    CreateSupportTicketDto:
      type: object
      properties:
        title:
          type: string
          description: عنوان المشكلة
          example: مشكلة في لوحة الطاقة الشمسية
        description:
          type: string
          description: وصف تفصيلي للمشكلة
          example: اللوحة لا تعمل بشكل صحيح منذ يومين
        category:
          type: string
          description: تصنيف المشكلة
          enum:
            - technical
            - billing
            - products
            - services
            - account
            - other
          example: technical
        priority:
          type: string
          description: أولوية المشكلة
          enum:
            - low
            - medium
            - high
            - urgent
          example: medium
        attachments:
          description: روابط الملفات المرفوعة
          example:
            - https://cdn.bunny.net/uploads/image1.jpg
          type: array
          items:
            type: string
        metadata:
          type: object
          description: بيانات إضافية (مثل رقم الطلب أو رقم المنتج)
          example:
            orderId: '12345'
            productId: '67890'
      required:
        - title
        - description
    AddSupportMessageDto:
      type: object
      properties:
        content:
          type: string
          description: محتوى الرسالة
          example: شكراً لك على الإبلاغ عن المشكلة. سنعمل على حلها في أقرب وقت ممكن.
        attachments:
          description: روابط الملفات المرفوعة مع الرسالة
          example:
            - https://cdn.bunny.net/uploads/solution.pdf
          type: array
          items:
            type: string
        isInternal:
          type: boolean
          description: رسالة داخلية (للمشرفين فقط)
          example: false
        metadata:
          type: object
          description: بيانات إضافية
          example:
            action: escalated
      required:
        - content
    RateTicketDto:
      type: object
      properties: {}
    UpdateSupportTicketDto:
      type: object
      properties:
        status:
          type: string
          description: حالة التذكرة
          enum:
            - open
            - in_progress
            - waiting_for_user
            - resolved
            - closed
          example: in_progress
        priority:
          type: string
          description: أولوية التذكرة
          enum:
            - low
            - medium
            - high
            - urgent
          example: high
        category:
          type: string
          description: تصنيف التذكرة
          enum:
            - technical
            - billing
            - products
            - services
            - account
            - other
          example: technical
        assignedTo:
          type: string
          description: معرف المشرف المسؤول
          example: 507f1f77bcf86cd799439011
        resolvedAt:
          format: date-time
          type: string
          description: تاريخ الحل (يتم تعيينه تلقائياً عند تغيير الحالة إلى RESOLVED)
        closedAt:
          format: date-time
          type: string
          description: تاريخ الإغلاق (يتم تعيينه تلقائياً عند تغيير الحالة إلى CLOSED)
        firstResponseAt:
          format: date-time
          type: string
          description: تاريخ أول رد (يتم تعيينه تلقائياً عند تغيير الحالة إلى IN_PROGRESS)
    CreateCannedResponseDto:
      type: object
      properties: {}
    UpdateCannedResponseDto:
      type: object
      properties: {}
    PerformanceMetricsDto:
      type: object
      properties:
        apiResponseTime:
          type: number
          description: متوسط وقت استجابة API
          example: 245
        errorRate:
          type: number
          description: معدل الأخطاء
          example: 0.02
        uptime:
          type: number
          description: نسبة التشغيل
          example: 99.9
        concurrentUsers:
          type: number
          description: المستخدمون المتزامنون
          example: 1250
        memoryUsage:
          type: number
          description: ذاكرة النظام المستخدمة
          example: 75.5
        cpuUsage:
          type: number
          description: استخدام المعالج
          example: 45.2
        diskUsage:
          type: number
          description: مساحة القرص المستخدمة
          example: 68.3
        activeConnections:
          type: number
          description: عدد قواعد البيانات النشطة
          example: 5
        slowestEndpoints:
          description: أبطأ نقاط النهاية
          type: array
          items:
            type: string
        databaseStats:
          type: object
          description: إحصائيات قاعدة البيانات
      required:
        - apiResponseTime
        - errorRate
        - uptime
        - concurrentUsers
        - memoryUsage
        - cpuUsage
        - diskUsage
        - activeConnections
        - slowestEndpoints
        - databaseStats
    ReportGenerationDto:
      type: object
      properties:
        reportType:
          type: string
          description: نوع التقرير
          enum:
            - daily_summary
            - weekly_report
            - monthly_report
            - revenue_report
            - user_activity
            - product_performance
            - service_analytics
            - support_metrics
            - custom_report
          example: monthly_report
        formats:
          type: array
          description: تنسيقات التقرير
          example:
            - pdf
            - excel
          items:
            type: string
            enum:
              - pdf
              - excel
              - csv
              - json
              - html
        startDate:
          type: string
          description: تاريخ البداية
          example: '2023-01-01'
        endDate:
          type: string
          description: تاريخ النهاية
          example: '2023-12-31'
        filters:
          type: object
          description: فلاتر إضافية
          example:
            category: solar_panels
            status: active
        includeCharts:
          type: boolean
          description: تضمين الرسوم البيانية
          example: true
        includeRawData:
          type: boolean
          description: تضمين البيانات الأولية
          example: false
      required:
        - reportType
    DashboardDataDto:
      type: object
      properties:
        overview:
          type: object
          description: بيانات لوحة التحكم الرئيسية
        revenueCharts:
          type: object
          description: مخططات الإيرادات
        userCharts:
          type: object
          description: مخططات المستخدمين
        productCharts:
          type: object
          description: مخططات المنتجات
        serviceCharts:
          type: object
          description: مخططات الخدمات
        supportCharts:
          type: object
          description: مخططات الدعم
        kpis:
          type: object
          description: المؤشرات الرئيسية
      required:
        - overview
        - revenueCharts
        - userCharts
        - productCharts
        - serviceCharts
        - supportCharts
        - kpis
    AnalyticsReportDto:
      type: object
      properties:
        id:
          type: string
          description: معرف التقرير
          example: 507f1f77bcf86cd799439011
        type:
          type: string
          description: نوع التقرير
          enum:
            - daily_summary
            - weekly_report
            - monthly_report
            - revenue_report
            - user_activity
            - product_performance
            - service_analytics
            - support_metrics
            - custom_report
          example: monthly_report
        period:
          type: string
          description: فترة التقرير
          example: يناير 2024
        generatedAt:
          format: date-time
          type: string
          description: تاريخ إنشاء التقرير
          example: '2024-01-31T23:59:59Z'
        data:
          description: البيانات التحليلية
          allOf:
            - $ref: '#/components/schemas/DashboardDataDto'
        insights:
          description: التوصيات والملاحظات
          example:
            - الإيرادات زادت بنسبة 15%
            - تحتاج إلى تحسين خدمة العملاء
          type: array
          items:
            type: string
        fileUrls:
          description: روابط ملفات التقرير
          example:
            - https://cdn.example.com/reports/monthly-2024-01.pdf
          type: array
          items:
            type: string
      required:
        - id
        - type
        - period
        - generatedAt
        - data
    CreateReportScheduleDto:
      type: object
      properties:
        name:
          type: string
          description: اسم التقرير المجدول
          example: تقرير المبيعات الأسبوعي
        description:
          type: string
          description: وصف التقرير
          example: تقرير شامل للمبيعات والإيرادات الأسبوعية
        reportType:
          type: string
          description: نوع التقرير
          enum:
            - daily_summary
            - weekly_report
            - monthly_report
            - revenue_report
            - user_activity
            - product_performance
            - service_analytics
            - support_metrics
            - custom_report
          example: weekly_report
        frequency:
          type: string
          description: التكرار
          enum:
            - daily
            - weekly
            - monthly
            - quarterly
          example: weekly
        formats:
          type: array
          description: تنسيقات التقرير
          example:
            - pdf
          items:
            type: string
            enum:
              - pdf
              - excel
              - csv
              - json
              - html
        recipients:
          description: عناوين البريد الإلكتروني للمستلمين
          example:
            - admin@example.com
            - manager@example.com
          type: array
          items:
            type: string
        filters:
          type: object
          description: فلاتر إضافية
          example:
            includeCharts: true
            dateRange:
              months: 3
        config:
          type: object
          description: إعدادات إضافية
          example:
            includeCharts: true
            branding:
              companyName: شركة الطاقة الشمسية
      required:
        - name
        - description
        - reportType
        - frequency
    CreateServiceRequestDto:
      type: object
      properties: {}
    AcceptOfferDto:
      type: object
      properties: {}
    RateServiceDto:
      type: object
      properties: {}
    CreateOfferDto:
      type: object
      properties: {}
    UpdateOfferDto:
      type: object
      properties: {}
    EngineersOverviewStatisticsDto:
      type: object
      properties: {}
    OffersStatisticsDto:
      type: object
      properties: {}
    OffersManagementResponseDto:
      type: object
      properties: {}
    CoordsDto:
      type: object
      properties:
        lat:
          type: number
          example: 15.3694
        lng:
          type: number
          example: 44.191
      required:
        - lat
        - lng
    CreateAddressDto:
      type: object
      properties:
        label:
          type: string
          example: المنزل
          description: تسمية العنوان
        line1:
          type: string
          example: شارع الستين، بجوار مطعم السلطان
        city:
          type: string
          example: صنعاء
        coords:
          description: الإحداثيات (إجباري)
          allOf:
            - $ref: '#/components/schemas/CoordsDto'
        notes:
          type: string
          example: يرجى الاتصال عند الوصول
        isDefault:
          type: boolean
          default: false
      required:
        - label
        - line1
        - city
        - coords
    UpdateAddressDto:
      type: object
      properties:
        label:
          type: string
        line1:
          type: string
        city:
          type: string
        coords:
          $ref: '#/components/schemas/CoordsDto'
        notes:
          type: string
        isDefault:
          type: boolean
        isActive:
          type: boolean
    CreateBrandDto:
      type: object
      properties:
        name:
          type: string
          example: Apple
          description: Brand name
        nameEn:
          type: string
          example: Apple
          description: Brand name in English
        image:
          type: string
          example: https://example.com/apple-logo.png
          description: Brand image URL
        description:
          type: string
          example: Leading technology company
        descriptionEn:
          type: string
          example: Leading technology company
        isActive:
          type: boolean
          example: true
        sortOrder:
          type: number
          example: 0
        metadata:
          type: object
      required:
        - name
        - nameEn
        - image
    UpdateBrandDto:
      type: object
      properties:
        name:
          type: string
          example: Apple
        nameEn:
          type: string
          example: Apple
        image:
          type: string
          example: https://example.com/apple-logo.png
        description:
          type: string
          example: Leading technology company
        descriptionEn:
          type: string
          example: Leading technology company
        isActive:
          type: boolean
          example: true
        sortOrder:
          type: number
          example: 0
        metadata:
          type: object
    UploadFileDto:
      type: object
      properties:
        file:
          type: string
          format: binary
          description: File to upload
        folder:
          type: string
          description: Folder to upload to
          example: products
        customFilename:
          type: string
          description: Custom filename (optional)
          example: my-image.jpg
      required:
        - file
    DeleteFileDto:
      type: object
      properties:
        filePath:
          type: string
          description: Path of the file to delete
          example: uploads/my-image.jpg
      required:
        - filePath
    UploadMediaDto:
      type: object
      properties: {}
    UpdateMediaDto:
      type: object
      properties: {}
