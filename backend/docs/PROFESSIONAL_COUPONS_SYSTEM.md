# ูุธุงู ุงูููุจููุงุช ุงูุงุญุชุฑุงูู ุงูุดุงูู
# Professional Coupons System - Complete Guide

## ๐ฏ ูุธุฑุฉ ุนุงูุฉ

ูุธุงู ููุจููุงุช ุงุญุชุฑุงูู ุฌุฏุงู ูุน ุฌููุน ุงููููุฒุงุช ุงููุชูุฏูุฉ ูุชุทุจูู ุญูููู ุนูู ุงูุณูุฉ ูุงูุทูุจุงุช.

---

## โจ ุงููููุฒุงุช ุงูุงุญุชุฑุงููุฉ

### 1๏ธโฃ ุฃููุงุน ุงูููุจููุงุช

```typescript
enum CouponType {
  PERCENTAGE           // ุฎุตู ูุณุจุฉ ูุฆููุฉ (ูุซู 20%)
  FIXED_AMOUNT         // ุฎุตู ูุจูุบ ุซุงุจุช (ูุซู 50 ุฑูุงู)
  FREE_SHIPPING        // ุดุญู ูุฌุงูู
  BUY_X_GET_Y         // ุงุดุชุฑ X ูุงุญุตู ุนูู Y ูุฌุงูุงู
  FIRST_ORDER         // ุฎุตู ุงูุทูุจ ุงูุฃูู
}
```

#### ุฃูุซูุฉ:
```javascript
// 1. ุฎุตู 20%
{
  type: 'percentage',
  discountPercentage: 20
}

// 2. ุฎุตู 100 ุฑูุงู
{
  type: 'fixed_amount',
  discountAmount: 100
}

// 3. ุดุญู ูุฌุงูู
{
  type: 'free_shipping'
}

// 4. ุงุดุชุฑ 2 ูุงุญุตู ุนูู 1 ูุฌุงูุงู
{
  type: 'buy_x_get_y',
  buyXGetY: {
    buyQuantity: 2,
    getQuantity: 1,
    productId: 'product_123'
  }
}

// 5. ุฎุตู ุงูุทูุจ ุงูุฃูู 30%
{
  type: 'first_order',
  discountPercentage: 30,
  firstOrderOnly: true
}
```

---

### 2๏ธโฃ ูุณุชูู ุงูุชุทุจูู

```typescript
enum DiscountAppliesTo {
  ENTIRE_ORDER          // ุนูู ุงูุทูุจ ููู
  SPECIFIC_PRODUCTS     // ุนูู ููุชุฌุงุช ูุญุฏุฏุฉ
  SPECIFIC_CATEGORIES   // ุนูู ูุฆุงุช ูุญุฏุฏุฉ
  SPECIFIC_BRANDS       // ุนูู ุจุฑุงูุฏุงุช ูุญุฏุฏุฉ
  CHEAPEST_ITEM        // ุนูู ุฃุฑุฎุต ููุชุฌ
  MOST_EXPENSIVE       // ุนูู ุฃุบูู ููุชุฌ
}
```

#### ุฃูุซูุฉ:
```javascript
// 1. ุฎุตู 15% ุนูู ุงูุทูุจ ููู
{
  discountPercentage: 15,
  appliesTo: 'entire_order'
}

// 2. ุฎุตู 50 ุฑูุงู ุนูู ููุชุฌุงุช ูุญุฏุฏุฉ
{
  discountAmount: 50,
  appliesTo: 'specific_products',
  applicableProductIds: ['prod1', 'prod2']
}

// 3. ุฎุตู 10% ุนูู ูุฆุฉ ุงูุฅููุชุฑูููุงุช
{
  discountPercentage: 10,
  appliesTo: 'specific_categories',
  applicableCategoryIds: ['electronics_id']
}

// 4. ุฎุตู 100% ุนูู ุฃุฑุฎุต ููุชุฌ (ุงุญุตู ุนูู ุงูุฃุฑุฎุต ูุฌุงูุงู)
{
  discountPercentage: 100,
  appliesTo: 'cheapest_item'
}
```

---

### 3๏ธโฃ ุงูุดุฑูุท ุงููุชูุฏูุฉ

```typescript
// ุงูุดุฑูุท ุงูููููุฉ
{
  minOrderAmount: 500000,         // ุงูุญุฏ ุงูุฃุฏูู ููุทูุจ
  minQuantity: 3,                 // ุงูุญุฏ ุงูุฃุฏูู ูุนุฏุฏ ุงูููุชุฌุงุช
  currency: 'YER',                // ุงูุนููุฉ
  allowedAccountTypes: ['retail'], // ุฃููุงุน ุงูุญุณุงุจุงุช
  allowedUserIds: ['user1'],      // ูุณุชุฎุฏููู ูุญุฏุฏูู
  firstOrderOnly: true,           // ููุทูุจ ุงูุฃูู ููุท
  newUsersOnly: true,             // ูููุณุชุฎุฏููู ุงูุฌุฏุฏ ููุท
  
  // ุงุณุชุจุนุงุฏุงุช
  excludeSaleItems: true,         // ุงุณุชุจุนุงุฏ ุงูููุชุฌุงุช ุงููุฎูุถุฉ
  excludedProductIds: ['prod3'],  // ููุชุฌุงุช ูุณุชุซูุงุฉ
  excludedCategoryIds: ['cat2'],  // ูุฆุงุช ูุณุชุซูุงุฉ
}
```

---

### 4๏ธโฃ ุญุฏูุฏ ุงูุงุณุชุฎุฏุงู

```typescript
{
  maxTotalUses: 1000,      // ุงูุญุฏ ุงูุฃูุตู 1000 ุงุณุชุฎุฏุงู ููู
  maxUsesPerUser: 1,       // ูุฑุฉ ูุงุญุฏุฉ ููู ูุณุชุฎุฏู
  oneTimeUse: true,        // ุงุณุชุฎุฏุงู ูุฑุฉ ูุงุญุฏุฉ ููุท
  maxDiscountAmount: 200,  // ุงูุญุฏ ุงูุฃูุตู ููุฎุตู 200 ุฑูุงู
}
```

---

### 5๏ธโฃ ูุณุชูู ุงูุฑุคูุฉ

```typescript
enum CouponVisibility {
  PUBLIC       // ูุชุงุญ ููุฌููุน (ูุธูุฑ ูููู)
  PRIVATE      // ุฎุงุต (ูุญุชุงุฌ ุฏุนูุฉ)
  AUTO_APPLY   // ูุทุจู ุชููุงุฆูุงู (ุจุฏูู ุฅุฏุฎุงู)
}
```

#### ุฃูุซูุฉ:
```javascript
// 1. ููุจูู ุนุงู
{
  visibility: 'public',
  code: 'SUMMER2024'
}

// 2. ููุจูู ุฎุงุต (ูููุณุชุฎุฏููู ุงููุฏุนููู)
{
  visibility: 'private',
  code: 'VIP20',
  allowedUserIds: ['user1', 'user2']
}

// 3. ููุจูู ูุทุจู ุชููุงุฆูุงู
{
  visibility: 'auto_apply',
  code: 'AUTO_WELCOME',
  newUsersOnly: true
}
```

---

### 6๏ธโฃ ุงูููุฒุงุช ุงููุชูุฏูุฉ

#### Stackable Coupons (ุงูููุจููุงุช ุงููุงุจูุฉ ููุฏูุฌ)
```javascript
{
  stackable: true  // ูููู ุงุณุชุฎุฏุงูู ูุน ููุจููุงุช ุฃุฎุฑู
}

// ูุซุงู: ุงุณุชุฎุฏุงู SUMMER20 + FIRST_ORDER ูุนุงู
```

#### Buy X Get Y
```javascript
{
  type: 'buy_x_get_y',
  buyXGetY: {
    buyQuantity: 3,       // ุงุดุชุฑ 3
    getQuantity: 1,       // ุงุญุตู ุนูู 1 ูุฌุงูุงู
    productId: 'prod_123' // ููุชุฌ ูุญุฏุฏ
  }
}
```

#### Cap ุนูู ุงูุฎุตู
```javascript
{
  discountPercentage: 50,
  maxDiscountAmount: 500  // ุงูุญุฏ ุงูุฃูุตู 500 ุฑูุงู ุญุชู ูู ูุงู 50%
}
```

---

### 7๏ธโฃ ุงูุชุชุจุน ูุงูุฅุญุตุงุฆูุงุช

```typescript
stats: {
  views: 1500,              // ุนุฏุฏ ุงููุดุงูุฏุงุช
  applies: 234,             // ุนุฏุฏ ูุฑุงุช ุงูุชุทุจูู
  successfulOrders: 180,    // ุงูุทูุจุงุช ุงููุงุฌุญุฉ
  failedAttempts: 54,       // ุงููุญุงููุงุช ุงููุงุดูุฉ
  totalRevenue: 2500000,    // ุฅุฌูุงูู ุงูุฅูุฑุงุฏุงุช
  totalDiscount: 500000     // ุฅุฌูุงูู ุงูุฎุตููุงุช
}

usageHistory: [
  {
    userId: 'user_123',
    usedAt: '2024-06-15',
    orderId: 'order_456'
  }
]
```

---

## ๐ ุงูุชุฏูู ุงููุงูู

### ุงูุณููุงุฑูู 1: ููุจูู ุนุงุฏู

```javascript
// ===== ุงูุฃุฏูู: ุฅูุดุงุก ููุจูู =====
POST /admin/coupons
{
  "code": "SUMMER20",
  "title": "ุฎุตู ุงูุตูู 20%",
  "type": "percentage",
  "discountPercentage": 20,
  "minOrderAmount": 100000,
  "maxTotalUses": 1000,
  "maxUsesPerUser": 1,
  "startDate": "2024-06-01T00:00:00Z",
  "endDate": "2024-08-31T23:59:59Z"
}


// ===== ุงููุณุชุฎุฏู: ุงุณุชุฎุฏุงู ุงูููุจูู =====

// 1. ูู ุตูุญุฉ ุงูุณูุฉุ ูุฏุฎู ุงูููุฏ
POST /coupons/validate
{
  "code": "SUMMER20",
  "orderAmount": 150000,
  "currency": "YER",
  "productIds": ["prod1", "prod2"]
}

Response:
{
  "valid": true,
  "coupon": {
    "code": "SUMMER20",
    "type": "percentage",
    "discountPercentage": 20,
    "title": "ุฎุตู ุงูุตูู 20%"
  },
  "calculatedDiscount": 30000,
  "finalAmount": 120000
}


// 2. ูุทุจู ุงูููุจูู ุนูู ุงูุณูุฉ
POST /cart/apply-coupon
{
  "couponCode": "SUMMER20"
}

Response:
{
  "cart": {
    "items": [...],
    "subtotal": 150000,
    "couponDiscount": 30000,
    "total": 120000,
    "appliedCoupon": {
      "code": "SUMMER20",
      "discount": 30000
    }
  }
}


// 3. ูุชู ุงูุทูุจ
POST /checkout
{
  "cartId": "cart_123",
  "couponCode": "SUMMER20"
}

// Order ููุญูุธ ูุน ูุนูููุงุช ุงูููุจูู:
{
  "orderId": "order_456",
  "items": [...],
  "subtotal": 150000,
  "couponCode": "SUMMER20",
  "couponDiscount": 30000,
  "total": 120000
}

// ูุชู ุชุญุฏูุซ:
// - currentUses ููููุจูู
// - usageHistory
// - stats (successfulOrders, totalRevenue, totalDiscount)
```

---

### ุงูุณููุงุฑูู 2: ููุจูู ุนูู ููุชุฌุงุช ูุญุฏุฏุฉ

```javascript
POST /admin/coupons
{
  "code": "PHONE50",
  "title": "ุฎุตู 50 ุฑูุงู ุนูู ุงูููุงุชู",
  "type": "fixed_amount",
  "discountAmount": 50,
  "appliesTo": "specific_categories",
  "applicableCategoryIds": ["smartphones_cat_id"],
  "minOrderAmount": 200000,
  "startDate": "2024-06-01T00:00:00Z",
  "endDate": "2024-12-31T23:59:59Z"
}

// ุงููุณุชุฎุฏู ูุถุน ุทูุจ:
Cart: {
  items: [
    { categoryId: 'smartphones_cat_id', price: 300000 },  // โ ููุทุจู
    { categoryId: 'accessories_cat_id', price: 50000 }    // โ ูุง ููุทุจู
  ]
}

// ุงูุฎุตู ูุทุจู ููุท ุนูู ุงูููุงุชู:
{
  subtotal: 350000,
  couponDiscount: 50,        // ุนูู ุงูููุงุชู ููุท
  total: 349950
}
```

---

### ุงูุณููุงุฑูู 3: ุงุดุชุฑ X ูุงุญุตู ุนูู Y

```javascript
POST /admin/coupons
{
  "code": "BUY2GET1",
  "title": "ุงุดุชุฑ 2 ูุงุญุตู ุนูู 1 ูุฌุงูุงู",
  "type": "buy_x_get_y",
  "buyXGetY": {
    "buyQuantity": 2,
    "getQuantity": 1,
    "productId": "tshirt_prod_id"
  },
  "startDate": "2024-06-01T00:00:00Z",
  "endDate": "2024-12-31T23:59:59Z"
}

// ุงููุณุชุฎุฏู ูุดุชุฑู 3 ููุตุงู:
Cart: {
  items: [
    { productId: 'tshirt_prod_id', quantity: 3, price: 100 }
  ]
}

// ุงูููุจูู BUY2GET1:
// - ุงูุงุซูุงู ุงูุฃูููู: 200
// - ุงูุซุงูุซ: ูุฌุงูุงู (ุฎุตู 100%)
{
  subtotal: 300,
  couponDiscount: 100,
  total: 200
}
```

---

### ุงูุณููุงุฑูู 4: ููุจูู ุงูุทูุจ ุงูุฃูู

```javascript
POST /admin/coupons
{
  "code": "WELCOME30",
  "title": "ุฎุตู 30% ููุทูุจ ุงูุฃูู",
  "type": "first_order",
  "discountPercentage": 30,
  "firstOrderOnly": true,
  "maxDiscountAmount": 300,
  "startDate": "2024-01-01T00:00:00Z",
  "endDate": "2024-12-31T23:59:59Z"
}

// ูุณุชุฎุฏู ุฌุฏูุฏ (ุฃูู ุทูุจ):
{
  userId: 'new_user_123',
  orderCount: 0   // โ ุฃูู ุทูุจ
}

// ูุทุจู ุงูููุจูู:
{
  subtotal: 2000,
  couponDiscount: 300,  // 30% = 600ุ ููู ุงูุญุฏ ุงูุฃูุตู 300
  total: 1700
}

// ูุณุชุฎุฏู ูุฏูู (ูุฏูู ุทูุจุงุช ุณุงุจูุฉ):
{
  userId: 'old_user_456',
  orderCount: 5   // โ ููุณ ุฃูู ุทูุจ
}
// ุงูููุจูู ููุฑูุถ: "This coupon is only for first orders"
```

---

### ุงูุณููุงุฑูู 5: ููุจูู ูุทุจู ุชููุงุฆูุงู

```javascript
POST /admin/coupons
{
  "code": "AUTO_WELCOME",
  "title": "ุฎุตู ุชุฑุญูุจู ุชููุงุฆู",
  "type": "percentage",
  "discountPercentage": 10,
  "visibility": "auto_apply",  // โ ูุทุจู ุชููุงุฆูุงู
  "newUsersOnly": true,
  "startDate": "2024-01-01T00:00:00Z",
  "endDate": "2024-12-31T23:59:59Z"
}

// ุงููุณุชุฎุฏู ุงูุฌุฏูุฏ ูุถูู ููุชุฌุงุช ููุณูุฉ:
GET /cart

// ุงูููุจูู ูุทุจู ุชููุงุฆูุงู ุจุฏูู ุฅุฏุฎุงู:
{
  "cart": {
    "items": [...],
    "subtotal": 200000,
    "autoAppliedCoupons": [
      {
        "code": "AUTO_WELCOME",
        "discount": 20000
      }
    ],
    "total": 180000
  }
}
```

---

### ุงูุณููุงุฑูู 6: ุฏูุฌ ููุจููุงุช ูุชุนุฏุฏุฉ

```javascript
// ููุจูู 1: stackable
{
  "code": "SUMMER10",
  "discountPercentage": 10,
  "stackable": true  // โ ูููู ุฏูุฌู
}

// ููุจูู 2: stackable
{
  "code": "MEMBER5",
  "discountPercentage": 5,
  "stackable": true  // โ ูููู ุฏูุฌู
}

// ุงููุณุชุฎุฏู ูุทุจู ุงูุงุซููู:
POST /cart/apply-coupons
{
  "couponCodes": ["SUMMER10", "MEMBER5"]
}

{
  "subtotal": 100000,
  "coupons": [
    { "code": "SUMMER10", "discount": 10000 },  // 10%
    { "code": "MEMBER5", "discount": 4500 }     // 5% ูู ุงููุชุจูู
  ],
  "totalDiscount": 14500,
  "total": 85500
}
```

---

## ๐ API Endpoints

### Admin Endpoints (ูุญููุฉ)

#### 1. Create Coupon
```http
POST /admin/coupons
Authorization: Bearer {token}
```

#### 2. List Coupons
```http
GET /admin/coupons?page=1&limit=20&status=active&type=percentage
Authorization: Bearer {token}
```

#### 3. Get Coupon
```http
GET /admin/coupons/:id
Authorization: Bearer {token}
```

#### 4. Update Coupon
```http
PATCH /admin/coupons/:id
Authorization: Bearer {token}
```

#### 5. Delete Coupon
```http
DELETE /admin/coupons/:id
Authorization: Bearer {token}
```

#### 6. Activate/Deactivate
```http
PATCH /admin/coupons/:id/toggle-status
Authorization: Bearer {token}
```

#### 7. Bulk Generate
```http
POST /admin/coupons/bulk-generate
{
  "prefix": "SALE",
  "count": 100,
  "discountPercentage": 15,
  "startDate": "...",
  "endDate": "..."
}
```

#### 8. Get Analytics
```http
GET /admin/coupons/:id/analytics
Authorization: Bearer {token}
```

#### 9. Export Usage Report
```http
GET /admin/coupons/:id/export-usage
Authorization: Bearer {token}
```

---

### Public Endpoints (ุจุฏูู ุญูุงูุฉ)

#### 1. Validate Coupon
```http
POST /coupons/validate
{
  "code": "SUMMER20",
  "orderAmount": 150000,
  "currency": "YER",
  "userId": "user_123",
  "productIds": ["prod1", "prod2"]
}
```

#### 2. Apply Coupon to Cart
```http
POST /cart/apply-coupon
{
  "couponCode": "SUMMER20"
}
```

#### 3. Remove Coupon from Cart
```http
DELETE /cart/coupon
```

#### 4. Get Public Coupons
```http
GET /coupons/public
```

---

## ๐ป Frontend Integration

### ูุซุงู 1: ุตูุญุฉ ุงูุณูุฉ ูุน ุงูููุจูู

```jsx
// CartPage.jsx
import React, { useState, useEffect } from 'react';

function CartPage() {
  const [cart, setCart] = useState(null);
  const [couponCode, setCouponCode] = useState('');
  const [couponError, setCouponError] = useState('');
  const [isValidating, setIsValidating] = useState(false);

  useEffect(() => {
    loadCart();
  }, []);

  async function loadCart() {
    const res = await fetch('/cart');
    const data = await res.json();
    setCart(data.cart);
  }

  async function validateAndApplyCoupon() {
    setIsValidating(true);
    setCouponError('');

    try {
      // 1. Validate coupon
      const validateRes = await fetch('/coupons/validate', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          code: couponCode,
          orderAmount: cart.subtotal,
          currency: 'YER',
          productIds: cart.items.map(i => i.productId),
        }),
      });

      const validateData = await validateRes.json();

      if (!validateData.valid) {
        setCouponError(validateData.message);
        return;
      }

      // 2. Apply to cart
      const applyRes = await fetch('/cart/apply-coupon', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ couponCode }),
      });

      const applyData = await applyRes.json();
      setCart(applyData.cart);
      setCouponCode('');
      
      // Show success message
      alert(`ุชู ุชุทุจูู ุงูููุจูู! ููุฑุช ${validateData.calculatedDiscount} YER`);
    } catch (error) {
      setCouponError('ุญุฏุซ ุฎุทุฃ. ุญุงูู ูุฑุฉ ุฃุฎุฑู.');
    } finally {
      setIsValidating(false);
    }
  }

  async function removeCoupon() {
    await fetch('/cart/coupon', { method: 'DELETE' });
    loadCart();
  }

  if (!cart) return <div>Loading...</div>;

  return (
    <div className="cart-page">
      <h1>ุณูุฉ ุงูุชุณูู</h1>

      {/* Cart Items */}
      <div className="cart-items">
        {cart.items.map((item, idx) => (
          <div key={idx} className="cart-item">
            <span>{item.productName}</span>
            <span>{item.quantity} ร {item.price} YER</span>
            <span>{item.quantity * item.price} YER</span>
          </div>
        ))}
      </div>

      {/* Coupon Section */}
      <div className="coupon-section">
        <h3>ูุฏูู ููุฏ ุฎุตูุ</h3>
        
        {cart.appliedCoupon ? (
          <div className="applied-coupon">
            <div>
              <strong>{cart.appliedCoupon.code}</strong>
              <span>{cart.appliedCoupon.title}</span>
              <span className="discount">
                -{cart.couponDiscount.toLocaleString('ar-YE')} YER
              </span>
            </div>
            <button onClick={removeCoupon}>ุฅุฒุงูุฉ</button>
          </div>
        ) : (
          <div className="coupon-input">
            <input
              type="text"
              placeholder="ุฃุฏุฎู ููุฏ ุงูุฎุตู"
              value={couponCode}
              onChange={(e) => setCouponCode(e.target.value.toUpperCase())}
            />
            <button 
              onClick={validateAndApplyCoupon}
              disabled={!couponCode || isValidating}
            >
              {isValidating ? 'ุฌุงุฑู ุงูุชุญูู...' : 'ุชุทุจูู'}
            </button>
          </div>
        )}

        {couponError && (
          <div className="error">{couponError}</div>
        )}
      </div>

      {/* Auto-Applied Coupons */}
      {cart.autoAppliedCoupons && cart.autoAppliedCoupons.length > 0 && (
        <div className="auto-coupons">
          <h4>ููุจููุงุช ูุทุจูุฉ ุชููุงุฆูุงู:</h4>
          {cart.autoAppliedCoupons.map((coupon, idx) => (
            <div key={idx} className="auto-coupon">
              <span>๐ {coupon.title}</span>
              <span>-{coupon.discount.toLocaleString('ar-YE')} YER</span>
            </div>
          ))}
        </div>
      )}

      {/* Summary */}
      <div className="cart-summary">
        <div className="summary-row">
          <span>ุงููุฌููุน ุงููุฑุนู:</span>
          <span>{cart.subtotal.toLocaleString('ar-YE')} YER</span>
        </div>

        {cart.couponDiscount > 0 && (
          <div className="summary-row discount">
            <span>ุฎุตู ุงูููุจูู ({cart.appliedCoupon.code}):</span>
            <span>-{cart.couponDiscount.toLocaleString('ar-YE')} YER</span>
          </div>
        )}

        <div className="summary-row total">
          <span>ุงููุฌููุน ุงูููู:</span>
          <span>{cart.total.toLocaleString('ar-YE')} YER</span>
        </div>

        {cart.totalSavings > 0 && (
          <div className="savings-badge">
            ๐ ููุฑุช {cart.totalSavings.toLocaleString('ar-YE')} YER!
          </div>
        )}
      </div>

      <button className="checkout-btn" onClick={() => proceedToCheckout()}>
        ุฅุชูุงู ุงูุดุฑุงุก
      </button>
    </div>
  );
}
```

---

### ูุซุงู 2: Admin - ุฅูุดุงุก ููุจูู

```jsx
// AdminCreateCouponPage.jsx
import React, { useState } from 'react';

function AdminCreateCouponPage() {
  const [formData, setFormData] = useState({
    code: '',
    title: '',
    type: 'percentage',
    discountPercentage: 0,
    minOrderAmount: 0,
    maxTotalUses: 1000,
    maxUsesPerUser: 1,
    startDate: '',
    endDate: '',
    visibility: 'public',
  });

  async function handleSubmit(e) {
    e.preventDefault();

    const res = await fetch('/admin/coupons', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'Authorization': `Bearer ${getToken()}`,
      },
      body: JSON.stringify(formData),
    });

    const data = await res.json();

    if (data.success) {
      alert('ุชู ุฅูุดุงุก ุงูููุจูู ุจูุฌุงุญ!');
      // Reset form or redirect
    }
  }

  return (
    <div className="admin-create-coupon">
      <h1>ุฅูุดุงุก ููุจูู ุฌุฏูุฏ</h1>

      <form onSubmit={handleSubmit}>
        <div className="form-group">
          <label>ููุฏ ุงูููุจูู *</label>
          <input
            type="text"
            value={formData.code}
            onChange={(e) => setFormData({
              ...formData,
              code: e.target.value.toUpperCase()
            })}
            placeholder="SUMMER2024"
            required
          />
        </div>

        <div className="form-group">
          <label>ุงูุนููุงู *</label>
          <input
            type="text"
            value={formData.title}
            onChange={(e) => setFormData({
              ...formData,
              title: e.target.value
            })}
            placeholder="ุฎุตู ุงูุตูู 2024"
            required
          />
        </div>

        <div className="form-group">
          <label>ููุน ุงูููุจูู *</label>
          <select
            value={formData.type}
            onChange={(e) => setFormData({
              ...formData,
              type: e.target.value
            })}
          >
            <option value="percentage">ุฎุตู ูุณุจุฉ ูุฆููุฉ</option>
            <option value="fixed_amount">ุฎุตู ูุจูุบ ุซุงุจุช</option>
            <option value="free_shipping">ุดุญู ูุฌุงูู</option>
            <option value="buy_x_get_y">ุงุดุชุฑ X ูุงุญุตู ุนูู Y</option>
            <option value="first_order">ุฎุตู ุงูุทูุจ ุงูุฃูู</option>
          </select>
        </div>

        {formData.type === 'percentage' && (
          <div className="form-group">
            <label>ูุณุจุฉ ุงูุฎุตู (%) *</label>
            <input
              type="number"
              min="0"
              max="100"
              value={formData.discountPercentage}
              onChange={(e) => setFormData({
                ...formData,
                discountPercentage: parseFloat(e.target.value)
              })}
            />
          </div>
        )}

        <div className="form-group">
          <label>ุงูุญุฏ ุงูุฃุฏูู ููุทูุจ</label>
          <input
            type="number"
            min="0"
            value={formData.minOrderAmount}
            onChange={(e) => setFormData({
              ...formData,
              minOrderAmount: parseFloat(e.target.value)
            })}
          />
        </div>

        <div className="form-row">
          <div className="form-group">
            <label>ุชุงุฑูุฎ ุงูุจุฏุงูุฉ *</label>
            <input
              type="datetime-local"
              value={formData.startDate}
              onChange={(e) => setFormData({
                ...formData,
                startDate: e.target.value
              })}
              required
            />
          </div>

          <div className="form-group">
            <label>ุชุงุฑูุฎ ุงูููุงูุฉ *</label>
            <input
              type="datetime-local"
              value={formData.endDate}
              onChange={(e) => setFormData({
                ...formData,
                endDate: e.target.value
              })}
              required
            />
          </div>
        </div>

        <button type="submit" className="submit-btn">
          ุฅูุดุงุก ุงูููุจูู
        </button>
      </form>
    </div>
  );
}
```

---

## โ ุงูููุฎุต

### ูุง ุชู ุชูููุฐู:
1. โ Schema ุงุญุชุฑุงูู ูุน ุฌููุน ุงููููุฒุงุช
2. โ DTOs ูุงููุฉ ูุน Validation
3. โ ุฃููุงุน ูุชุนุฏุฏุฉ ููููุจููุงุช
4. โ ุดุฑูุท ูุชูุฏูุฉ ุฌุฏุงู
5. โ ุชุชุจุน ูุฅุญุตุงุฆูุงุช ุดุงููุฉ
6. โ ุชุทุจูู ุนูู ุงูุณูุฉ ูุงูุทูุจุงุช
7. โ ุตูุงุญูุงุช ููุฃุฏูู ูุงูุนุงูุฉ
8. โ ุฃูุซูุฉ ูุงููุฉ ููุชูุงูู

### ุงูุฎุทูุฉ ุงูุชุงููุฉ:
ุณุฃููู ุจุฅูุดุงุก Service, Controllers, ูุงูุชูุงูู ุงููุงูู...

ูู ุชุฑูุฏ ุฃู ุฃููู ุงูููุฏ ุงููุงููุ

