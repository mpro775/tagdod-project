# ğŸ”” Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠ Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„

<div dir="rtl">

## ğŸ¯ Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©

Ù†Ø¸Ø§Ù… Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ø­ØªØ±Ø§ÙÙŠ Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„Ù‚Ù†ÙˆØ§Øª ÙŠØ¯Ø¹Ù… **In-App**, **Push**, **SMS**, Ùˆ **Email** Ù…Ø¹ Ø¥Ø¯Ø§Ø±Ø© Ù…ØªÙ‚Ø¯Ù…Ø© Ù„Ù„Ù‚ÙˆØ§Ù„Ø¨ ÙˆØ§Ù„ØªÙØ¶ÙŠÙ„Ø§Øª.

## âœ¨ Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª

### ğŸ“± Ù‚Ù†ÙˆØ§Øª Ù…ØªØ¹Ø¯Ø¯Ø©
- **In-App Notifications** - Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø¯Ø§Ø®Ù„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
- **Push Notifications** - Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ÙÙˆØ±ÙŠØ© (iOS, Android, Web)
- **SMS** - Ø±Ø³Ø§Ø¦Ù„ Ù†ØµÙŠØ© Ù‚ØµÙŠØ±Ø©
- **Email** - Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø§Ø­ØªØ±Ø§ÙÙŠ

### ğŸ¨ Ù†Ø¸Ø§Ù… Ù‚ÙˆØ§Ù„Ø¨ Ù…ØªÙ‚Ø¯Ù…
- 40+ Ù‚Ø§Ù„Ø¨ Ø¬Ø§Ù‡Ø² Ù…Ø³Ø¨Ù‚Ø§Ù‹
- Ø¯Ø¹Ù… Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„Ù„ØºØ§Øª (Ø¹Ø±Ø¨ÙŠ/Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ)
- Ù…ØªØºÙŠØ±Ø§Øª Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ©
- ØªØµÙ†ÙŠÙØ§Øª ÙˆØ£ÙˆÙ„ÙˆÙŠØ§Øª

### âš™ï¸ ØªÙØ¶ÙŠÙ„Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
- ØªØ­ÙƒÙ… ÙƒØ§Ù…Ù„ ÙÙŠ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
- Quiet Hours (Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ù‡Ø¯ÙˆØ¡)
- ØªÙØ¶ÙŠÙ„Ø§Øª Ù„ÙƒÙ„ ÙØ¦Ø© ÙˆÙ‚Ù†Ø§Ø©
- Ø­Ø¯ÙˆØ¯ Ø§Ù„ØªØ±Ø¯Ø¯

### ğŸ“Š ØªØªØ¨Ø¹ ÙˆØ¥Ø­ØµØ§Ø¦ÙŠØ§Øª
- ØªØªØ¨Ø¹ Ø­Ø§Ù„Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
- Ù…Ø¹Ø¯Ù„Ø§Øª Ø§Ù„ÙØªØ­ ÙˆØ§Ù„Ù†Ù‚Ø±
- Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø´Ø§Ù…Ù„Ø©
- Logs Ù…ÙØµÙ„Ø©

### ğŸ”— Webhooks
- Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
- Retry mechanism Ø°ÙƒÙŠ
- Authentication Ù…ØªØ¹Ø¯Ø¯

## ğŸš€ Ø§Ù„Ø¨Ø¯Ø¡ Ø§Ù„Ø³Ø±ÙŠØ¹

### 1. Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
```bash
curl -X GET "http://localhost:3000/api/notifications" \
  -H "Authorization: Bearer YOUR_JWT_TOKEN"
```

### 2. ØªØ­Ø¯ÙŠØ¯ ÙƒÙ…Ù‚Ø±ÙˆØ¡
```bash
curl -X POST "http://localhost:3000/api/notifications/mark-read" \
  -H "Authorization: Bearer YOUR_JWT_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"notificationIds": ["id1", "id2"]}'
```

### 3. ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙØ¶ÙŠÙ„Ø§Øª
```bash
curl -X PUT "http://localhost:3000/api/notifications/preferences" \
  -H "Authorization: Bearer YOUR_JWT_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "enablePush": true,
    "quietHours": {
      "enabled": true,
      "startTime": "22:00",
      "endTime": "08:00"
    }
  }'
```

## ğŸ“š Ø§Ù„ÙˆØ«Ø§Ø¦Ù‚

### Ù„Ù„Ù…Ø·ÙˆØ±ÙŠÙ†
- **[Ø§Ù„Ø¯Ù„ÙŠÙ„ Ø§Ù„ÙƒØ§Ù…Ù„](./PROFESSIONAL_NOTIFICATIONS_SYSTEM.md)** - ÙˆØ«ÙŠÙ‚Ø© Ø´Ø§Ù…Ù„Ø© (1200+ Ø³Ø·Ø±)
- **[Ø§Ù„Ù…Ù„Ø®Øµ](./NOTIFICATIONS_SYSTEM_SUMMARY.md)** - Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ø³Ø±ÙŠØ¹Ø©

## ğŸ”Œ Ø§Ù„Ù€ APIs Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©

### Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
```
GET    /api/notifications                    # Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
GET    /api/notifications/unread-count       # Ø¹Ø¯Ø¯ ØºÙŠØ± Ø§Ù„Ù…Ù‚Ø±ÙˆØ¡
POST   /api/notifications/mark-read          # ØªØ­Ø¯ÙŠØ¯ ÙƒÙ…Ù‚Ø±ÙˆØ¡
POST   /api/notifications/mark-all-read      # ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ÙƒÙ„
GET    /api/notifications/preferences        # Ø§Ù„ØªÙØ¶ÙŠÙ„Ø§Øª
PUT    /api/notifications/preferences        # ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙØ¶ÙŠÙ„Ø§Øª
POST   /api/notifications/devices/register   # ØªØ³Ø¬ÙŠÙ„ Ø¬Ù‡Ø§Ø²
```

### Ù„Ù„Ø£Ø¯Ù…Ù†
```
POST   /api/admin/notifications/send         # Ø¥Ø±Ø³Ø§Ù„ Ù…Ø®ØµØµ
POST   /api/admin/notifications/broadcast    # Ø¥Ø±Ø³Ø§Ù„ Ø¬Ù…Ø§Ø¹ÙŠ
GET    /api/admin/notifications/templates    # Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù‚ÙˆØ§Ù„Ø¨
POST   /api/admin/notifications/templates    # Ø¥Ù†Ø´Ø§Ø¡ Ù‚Ø§Ù„Ø¨
GET    /api/admin/notifications/stats        # Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
GET    /api/admin/notifications/webhooks     # Webhooks
```

## ğŸ“Š Schemas

### 1. NotificationLog
```typescript
{
  userId: ObjectId,
  templateKey: string,
  channel: 'inApp' | 'push' | 'sms' | 'email',
  status: 'pending' | 'sent' | 'delivered' | 'read',
  title: string,
  body: string,
  sentAt?: Date,
  readAt?: Date,
  clickedAt?: Date
}
```

### 2. NotificationTemplate
```typescript
{
  key: string,
  name: string,
  category: 'order' | 'product' | 'promotion',
  priority: 'low' | 'medium' | 'high' | 'urgent',
  inApp?: { titleAr, titleEn, bodyAr, bodyEn },
  push?: { titleAr, titleEn, bodyAr, bodyEn },
  sms?: { messageAr, messageEn },
  email?: { subjectAr, subjectEn, htmlAr, htmlEn },
  variables: string[],
  enabledChannels: string[]
}
```

### 3. NotificationPreference
```typescript
{
  userId: ObjectId,
  enableNotifications: boolean,
  enableInApp: boolean,
  enablePush: boolean,
  enableSms: boolean,
  enableEmail: boolean,
  quietHours?: {
    enabled: boolean,
    startTime: string,
    endTime: string
  },
  categoryPreferences: {
    order?: { inApp, push, sms, email }
  }
}
```

## ğŸ¨ Ø§Ù„Ù‚ÙˆØ§Ù„Ø¨ Ø§Ù„Ø¬Ø§Ù‡Ø²Ø©

### Ø§Ù„Ø·Ù„Ø¨Ø§Øª (9 Ù‚ÙˆØ§Ù„Ø¨)
```
âœ“ order.created          Ø¥Ù†Ø´Ø§Ø¡ Ø·Ù„Ø¨
âœ“ order.confirmed        ØªØ£ÙƒÙŠØ¯ Ø·Ù„Ø¨
âœ“ order.shipped          ØªÙ… Ø§Ù„Ø´Ø­Ù†
âœ“ order.delivered        ØªÙ… Ø§Ù„ØªØ³Ù„ÙŠÙ…
âœ“ order.completed        Ø§ÙƒØªÙ…Ù„
âœ“ order.cancelled        Ù…Ù„ØºÙ‰
```

### Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª (4 Ù‚ÙˆØ§Ù„Ø¨)
```
âœ“ product.back_in_stock  Ø¹ÙˆØ¯Ø© Ù„Ù„Ù…Ø®Ø²ÙˆÙ†
âœ“ product.price_drop     Ø§Ù†Ø®ÙØ§Ø¶ Ø§Ù„Ø³Ø¹Ø±
âœ“ product.new_arrival    Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯
```

### Ø§Ù„Ø¹Ø±ÙˆØ¶ (4 Ù‚ÙˆØ§Ù„Ø¨)
```
âœ“ promotion.new          Ø¹Ø±Ø¶ Ø¬Ø¯ÙŠØ¯
âœ“ promotion.flash_sale   ØªØ®ÙÙŠØ¶Ø§Øª Ø³Ø±ÙŠØ¹Ø©
âœ“ promotion.exclusive    Ø­ØµØ±ÙŠ
```

## ğŸ” Ø§Ù„Ø£Ù…Ø§Ù†

```
âœ… JWT Authentication
âœ… Role-based Access Control
âœ… Rate Limiting
âœ… Data Encryption
âœ… GDPR Compliance
```

## ğŸ“ˆ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª

```
âœ¨ Schemas:           6 schemas
ğŸ“„ Documentation:    1200+ lines
ğŸ¯ Channels:         4 channels
ğŸ“¨ Templates:        40+ templates
ğŸ”§ Variables:        30+ variables
ğŸ“Š Status Types:     9 statuses
```

## ğŸ› ï¸ Ø§Ù„ØªÙƒÙˆÙŠÙ†

### Environment Variables
```env
FCM_SERVER_KEY=your_fcm_key
SMS_ACCOUNT_SID=your_sid
EMAIL_API_KEY=your_api_key
NOTIFICATIONS_ENABLED=true
```

## ğŸ¯ Ø£Ù…Ø«Ù„Ø© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…

### ÙÙŠ Ø§Ù„ÙƒÙˆØ¯
```typescript
// Ø¥Ø±Ø³Ø§Ù„ Ø¥Ø´Ø¹Ø§Ø±
await notificationsService.send({
  userId: 'user_123',
  templateKey: 'order.shipped',
  channels: ['inApp', 'push'],
  variables: {
    orderNumber: 'ORD-2024-00123'
  }
});

// Ø¥Ø±Ø³Ø§Ù„ Ø¬Ù…Ø§Ø¹ÙŠ
await notificationsService.broadcast({
  templateKey: 'promotion.flash_sale',
  channels: ['push'],
  filters: { roles: ['customer'] },
  variables: { discount: '50' }
});
```

## ğŸ“ Ø§Ù„Ø¯Ø¹Ù…

### Ø§Ù„ÙˆØ«Ø§Ø¦Ù‚
- [Ø§Ù„Ø¯Ù„ÙŠÙ„ Ø§Ù„ÙƒØ§Ù…Ù„](./PROFESSIONAL_NOTIFICATIONS_SYSTEM.md)
- [Ø§Ù„Ù…Ù„Ø®Øµ](./NOTIFICATIONS_SYSTEM_SUMMARY.md)

### Ø§Ù„Ø§ØªØµØ§Ù„
- Email: support@example.com
- Docs: https://docs.example.com

## ğŸ‰ Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ©

âœ… Multi-language support  
âœ… Template variables  
âœ… User preferences  
âœ… Quiet hours  
âœ… Webhooks  
âœ… Rate limiting  
âœ… Detailed logging  
âœ… Analytics & stats  

---

**Ø§Ù„Ù†Ø³Ø®Ø©**: 1.0.0  
**Ø§Ù„Ø­Ø§Ù„Ø©**: âœ… Production Ready  
**Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«**: 2024-01-15

</div>

---

## Quick Links

| Documentation | Description |
|--------------|-------------|
| [ğŸ“˜ Complete Guide](./PROFESSIONAL_NOTIFICATIONS_SYSTEM.md) | Full system documentation (1200+ lines) |
| [ğŸ“Š Summary](./NOTIFICATIONS_SYSTEM_SUMMARY.md) | Quick overview |

---

**Made with â¤ï¸ for Tagadodo Project**

