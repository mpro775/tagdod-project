# Environment Configuration
# Copy this file to .env and fill in your actual values

# ==============================================
# APPLICATION ENVIRONMENT
# ==============================================
NODE_ENV=development
PORT=3000

# ==============================================
# DATABASE
# ==============================================
# Replace with your actual MongoDB connection string
MONGO_URI=mongodb+srv://YOUR_USERNAME:YOUR_PASSWORD@YOUR_CLUSTER.mongodb.net/YOUR_DATABASE?retryWrites=true&w=majority&appName=YOUR_APP_NAME
# Example for local MongoDB:
# MONGO_URI=mongodb://localhost:27017/tagadodo

# Database Connection Pool Configuration
# Maximum number of connections in the pool (default: 10)
DB_POOL_MAX=10
# Minimum number of connections in the pool (default: 2)
DB_POOL_MIN=2

# ==============================================
# REDIS
# ==============================================
REDIS_URL=redis://localhost:6379

# ==============================================
# JWT CONFIGURATION
# ==============================================
# Generate secure random strings for these (32+ characters)
# You can use: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=your-jwt-secret-here-minimum-32-characters-change-this-in-production
REFRESH_SECRET=your-refresh-secret-here-minimum-32-characters-change-this-in-production

# ==============================================
# OTP CONFIGURATION
# ==============================================
OTP_TTL_SECONDS=300
OTP_LENGTH=6
# Set to true ONLY in development to see OTP in response
OTP_DEV_ECHO=false

# ==============================================
# RESERVATION TTL
# ==============================================
RESERVATION_TTL_SECONDS=900

# ==============================================
# CACHE CONFIGURATION
# ==============================================
CACHE_PREFIX=solar:
CACHE_TTL=3600
CACHE_ENABLED=true

# ==============================================
# BUNNY.NET STORAGE CONFIGURATION (REQUIRED)
# ==============================================
BUNNY_STORAGE_ZONE=your-storage-zone-name
BUNNY_API_KEY=your-bunny-api-key
BUNNY_HOSTNAME=storage.bunnycdn.com
BUNNY_CDN_HOSTNAME=your-cdn-hostname.b-cdn.net

# ==============================================
# FILE UPLOAD CONFIGURATION
# ==============================================
# Maximum file size in bytes (default: 10MB = 10485760)
MAX_FILE_SIZE=10485760

# Maximum number of files per upload request (default: 10)
MAX_FILES=10

# Allowed file MIME types (comma-separated)
ALLOWED_FILE_TYPES=image/jpeg,image/jpg,image/png,image/gif,image/webp,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet

# ==============================================
# SECURITY CONFIGURATION
# ==============================================
# Comma-separated list of allowed origins
CORS_ORIGINS=http://localhost:3000,http://localhost:3001,https://your-frontend-domain.com

# Comma-separated IP addresses (optional)
IP_WHITELIST=127.0.0.1,::1,localhost
IP_BLACKLIST=

# Disable threat detection in development (set to true to disable)
DISABLE_THREAT_DETECTION=false

# ==============================================
# LOGGING CONFIGURATION
# ==============================================
# Options: error, warn, info, debug
# - error: Only errors
# - warn: Errors and warnings
# - info: Errors, warnings, and info logs (default)
# - debug: All logs including debug and verbose (recommended for development)
LOG_LEVEL=debug

# Enable security logging (default: true)
# Set to false to disable security request/response logging
ENABLE_SECURITY_LOGGING=true

# Verbose security logging - shows all requests (default: true in development, false in production)
# Set to false to only log important security events
VERBOSE_SECURITY_LOGGING=true

# ==============================================
# ADMIN CONFIGURATIONS
# ==============================================
# Secret key for creating super admin (change this in production!)
SUPER_ADMIN_SECRET=TAGADODO_SUPER_ADMIN_2024

# ==============================================
# MOBILE APP CONFIGURATION
# ==============================================
# Deep Link Scheme for mobile app (Flutter)
# This is used in email notifications to open links in the mobile app
# Format: appname://
MOBILE_APP_DEEP_LINK_SCHEME=tagdodapp://

# ==============================================
# EMAIL CONFIGURATION
# ==============================================
# SMTP settings for sending emails
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
SMTP_FROM=noreply@yourdomain.com

# ==============================================
# SMS CONFIGURATION
# ==============================================
# SMS Provider Selection (alawael or twilio)
SMS_PROVIDER=alawael

# Alawael SMS Configuration (for Yemen)
ALAWAEL_SMS_ORG_NAME=Demosms
ALAWAEL_SMS_USER_NAME=Tagdodapp
ALAWAEL_SMS_PASSWORD=Tagdodapp@277
ALAWAEL_SMS_BASE_URL=https://sms.alawaeltec.com

# Twilio Configuration (optional, if using Twilio instead)
# TWILIO_ACCOUNT_SID=your-twilio-account-sid
# TWILIO_AUTH_TOKEN=your-twilio-auth-token
# TWILIO_PHONE_NUMBER=+1234567890
# TWILIO_WHATSAPP_NUMBER=+14155238886

# ==============================================
# OPTIONAL CONFIGURATIONS
# ==============================================
# Uncomment and configure as needed for production:
# RATE_LIMIT_WINDOW=15
# RATE_LIMIT_MAX=100

# ==============================================
# VPS DEPLOYMENT CONFIGURATION
# ==============================================
# For VPS deployment with Docker:
# - MongoDB should be external (on VPS or MongoDB Atlas)
# - Redis runs inside Docker (use: redis://redis:6379)
# - API runs inside Docker on port 3000
# - Nginx acts as reverse proxy
#
# Example MongoDB connection strings:
# - Local MongoDB: mongodb://user:password@localhost:27017/database?authSource=database
# - MongoDB Atlas: mongodb+srv://user:password@cluster.mongodb.net/database?retryWrites=true&w=majority
#
# Example Redis URL for Docker:
# - Inside Docker network: redis://redis:6379
# - From host machine: redis://localhost:6379
#
# External URL (if needed for webhooks/callbacks):
# EXTERNAL_URL=https://api.allawzi.net

# ==============================================
# RENDER DEPLOYMENT CONFIGURATION
# ==============================================
# Render automatically sets RENDER_EXTERNAL_URL environment variable
# If deploying on Render, this will be set automatically (don't need to set manually)
# For other platforms, you can set your external URL here if needed:
# RENDER_EXTERNAL_URL=https://your-app-name.onrender.com
