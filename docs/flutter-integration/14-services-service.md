# ğŸ”§ Ø®Ø¯Ù…Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù‡Ù†Ø¯Ø³ÙŠØ© (Engineering Services)

> âœ… **ØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚**: 100% Ù…ØªØ·Ø§Ø¨Ù‚ Ù…Ø¹ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„ÙØ¹Ù„ÙŠ ÙÙŠ Backend  
> ğŸ“… **Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«**: Ø£ÙƒØªÙˆØ¨Ø± 2025

Ø®Ø¯Ù…Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù‡Ù†Ø¯Ø³ÙŠØ© ØªÙˆÙØ± endpoints Ù„Ø·Ù„Ø¨ Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ù…Ù‡Ù†Ø¯Ø³ÙŠÙ† ÙˆØªÙ‚Ø¯ÙŠÙ… Ø§Ù„Ø¹Ø±ÙˆØ¶.

---

## ğŸ“‹ Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙŠØ§Øª

### Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† (Customers)
1. [Ø¥Ù†Ø´Ø§Ø¡ Ø·Ù„Ø¨ Ø®Ø¯Ù…Ø©](#1-Ø¥Ù†Ø´Ø§Ø¡-Ø·Ù„Ø¨-Ø®Ø¯Ù…Ø©)
2. [Ø·Ù„Ø¨Ø§ØªÙŠ](#2-Ø·Ù„Ø¨Ø§ØªÙŠ)
3. [ØªÙØ§ØµÙŠÙ„ Ø·Ù„Ø¨](#3-ØªÙØ§ØµÙŠÙ„-Ø·Ù„Ø¨)
4. [Ø¥Ù„ØºØ§Ø¡ Ø·Ù„Ø¨](#4-Ø¥Ù„ØºØ§Ø¡-Ø·Ù„Ø¨)
5. [Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ù…Ù‚Ø¯Ù…Ø© Ø¹Ù„Ù‰ Ø·Ù„Ø¨](#5-Ø§Ù„Ø¹Ø±ÙˆØ¶-Ø§Ù„Ù…Ù‚Ø¯Ù…Ø©-Ø¹Ù„Ù‰-Ø·Ù„Ø¨)
6. [Ù‚Ø¨ÙˆÙ„ Ø¹Ø±Ø¶](#6-Ù‚Ø¨ÙˆÙ„-Ø¹Ø±Ø¶)
7. [ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø®Ø¯Ù…Ø©](#7-ØªÙ‚ÙŠÙŠÙ…-Ø§Ù„Ø®Ø¯Ù…Ø©)

### Ù„Ù„Ù…Ù‡Ù†Ø¯Ø³ÙŠÙ† (Engineers)
8. [Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù‚Ø±ÙŠØ¨Ø©](#8-Ø§Ù„Ø·Ù„Ø¨Ø§Øª-Ø§Ù„Ù‚Ø±ÙŠØ¨Ø©)
9. [ØªÙ‚Ø¯ÙŠÙ… Ø¹Ø±Ø¶](#9-ØªÙ‚Ø¯ÙŠÙ…-Ø¹Ø±Ø¶)
10. [ØªØ­Ø¯ÙŠØ« Ø¹Ø±Ø¶](#10-ØªØ­Ø¯ÙŠØ«-Ø¹Ø±Ø¶)
11. [Ø¹Ø±ÙˆØ¶ÙŠ](#11-Ø¹Ø±ÙˆØ¶ÙŠ)
12. [Ø¨Ø¯Ø¡ ØªÙ†ÙÙŠØ° Ø§Ù„Ø·Ù„Ø¨](#12-Ø¨Ø¯Ø¡-ØªÙ†ÙÙŠØ°-Ø§Ù„Ø·Ù„Ø¨)
13. [Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨](#13-Ø¥ÙƒÙ…Ø§Ù„-Ø§Ù„Ø·Ù„Ø¨)

---

## Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† (Customers)

### 1. Ø¥Ù†Ø´Ø§Ø¡ Ø·Ù„Ø¨ Ø®Ø¯Ù…Ø©

ÙŠÙ†Ø´Ø¦ Ø·Ù„Ø¨ Ø®Ø¯Ù…Ø© Ø¬Ø¯ÙŠØ¯ Ù„Ù„Ù…Ù‡Ù†Ø¯Ø³ÙŠÙ†.

### Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø·Ù„Ø¨

- **Method:** `POST`
- **Endpoint:** `/services/customer`
- **Auth Required:** âœ… Ù†Ø¹Ù…
- **Cache:** âŒ Ù„Ø§

### Request Body

```json
{
  "title": "ØªØ±ÙƒÙŠØ¨ Ù†Ø¸Ø§Ù… Ø·Ø§Ù‚Ø© Ø´Ù…Ø³ÙŠØ©",
  "type": "INSTALLATION",
  "description": "Ø£Ø­ØªØ§Ø¬ ØªØ±ÙƒÙŠØ¨ Ù†Ø¸Ø§Ù… 10 ÙƒÙŠÙ„Ùˆ ÙˆØ§Ø·",
  "images": [
    "https://cdn.example.com/uploads/site-photo-1.jpg"
  ],
  "addressId": "64address123",
  "scheduledAt": "2025-10-20T10:00:00.000Z"
}
```

### Response - Ù†Ø¬Ø§Ø­

```json
{
  "success": true,
  "data": {
    "_id": "64service123",
    "userId": "64user123",
    "title": "ØªØ±ÙƒÙŠØ¨ Ù†Ø¸Ø§Ù… Ø·Ø§Ù‚Ø© Ø´Ù…Ø³ÙŠØ©",
    "type": "INSTALLATION",
    "description": "Ø£Ø­ØªØ§Ø¬ ØªØ±ÙƒÙŠØ¨ Ù†Ø¸Ø§Ù… 10 ÙƒÙŠÙ„Ùˆ ÙˆØ§Ø·",
    "images": [
      "https://cdn.example.com/uploads/site-photo-1.jpg"
    ],
    "addressId": "64address123",
    "location": {
      "type": "Point",
      "coordinates": [44.2060, 15.3694]
    },
    "status": "OPEN",
    "scheduledAt": "2025-10-20T10:00:00.000Z",
    "engineerId": null,
    "acceptedOffer": null,
    "rating": null,
    "adminNotes": [],
    "createdAt": "2025-01-15T12:00:00.000Z",
    "updatedAt": "2025-01-15T12:00:00.000Z"
  },
  "requestId": "req_service_001"
}
```

### ÙƒÙˆØ¯ Flutter

```dart
Future<ServiceRequest> createServiceRequest({
  required String title,
  String? type,
  String? description,
  List<String>? images,
  required String addressId,
  DateTime? scheduledAt,
}) async {
  final response = await _dio.post('/services/customer', data: {
    'title': title,
    if (type != null) 'type': type,
    if (description != null) 'description': description,
    if (images != null) 'images': images,
    'addressId': addressId,
    if (scheduledAt != null) 'scheduledAt': scheduledAt.toIso8601String(),
  });

  final apiResponse = ApiResponse<Map<String, dynamic>>.fromJson(
    response.data,
    (json) => json as Map<String, dynamic>,
  );

  if (apiResponse.isSuccess) {
    return ServiceRequest.fromJson(apiResponse.data!['data']);
  } else {
    throw ApiException(apiResponse.error!);
  }
}
```

---

### 2. Ø·Ù„Ø¨Ø§ØªÙŠ

ÙŠØ³ØªØ±Ø¬Ø¹ Ù‚Ø§Ø¦Ù…Ø© Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù….

### Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø·Ù„Ø¨

- **Method:** `GET`
- **Endpoint:** `/services/customer/my`
- **Auth Required:** âœ… Ù†Ø¹Ù…
- **Cache:** âŒ Ù„Ø§

### Response - Ù†Ø¬Ø§Ø­

```json
{
  "success": true,
  "data": [
    {
      "_id": "64service123",
      "userId": "64user123",
      "title": "ØªØ±ÙƒÙŠØ¨ Ù†Ø¸Ø§Ù… Ø·Ø§Ù‚Ø© Ø´Ù…Ø³ÙŠØ©",
      "type": "INSTALLATION",
      "description": "Ø£Ø­ØªØ§Ø¬ ØªØ±ÙƒÙŠØ¨ Ù†Ø¸Ø§Ù… 10 ÙƒÙŠÙ„Ùˆ ÙˆØ§Ø·",
      "images": [
        "https://cdn.example.com/uploads/site-photo-1.jpg"
      ],
      "addressId": "64address123",
      "location": {
        "type": "Point",
        "coordinates": [44.2060, 15.3694]
      },
      "status": "OPEN",
      "scheduledAt": "2025-10-20T10:00:00.000Z",
      "engineerId": null,
      "acceptedOffer": null,
      "rating": null,
      "adminNotes": [],
      "createdAt": "2025-01-15T12:00:00.000Z",
      "updatedAt": "2025-01-15T12:00:00.000Z"
    }
  ],
  "requestId": "req_service_002"
}
```

### ÙƒÙˆØ¯ Flutter

```dart
Future<List<ServiceRequest>> getMyRequests() async {
  final response = await _dio.get('/services/customer/my');

  final apiResponse = ApiResponse<Map<String, dynamic>>.fromJson(
    response.data,
    (json) => json as Map<String, dynamic>,
  );

  if (apiResponse.isSuccess) {
    return (apiResponse.data!['data'] as List)
        .map((item) => ServiceRequest.fromJson(item))
        .toList();
  } else {
    throw ApiException(apiResponse.error!);
  }
}
```

---

### 3. ØªÙØ§ØµÙŠÙ„ Ø·Ù„Ø¨

ÙŠØ³ØªØ±Ø¬Ø¹ ØªÙØ§ØµÙŠÙ„ Ø·Ù„Ø¨ Ù…Ø­Ø¯Ø¯.

### Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø·Ù„Ø¨

- **Method:** `GET`
- **Endpoint:** `/services/customer/:id`
- **Auth Required:** âœ… Ù†Ø¹Ù…
- **Cache:** âŒ Ù„Ø§

### Response - Ù†Ø¬Ø§Ø­

```json
{
  "success": true,
  "data": {
    "_id": "64service123",
    "userId": "64user123",
    "title": "ØªØ±ÙƒÙŠØ¨ Ù†Ø¸Ø§Ù… Ø·Ø§Ù‚Ø© Ø´Ù…Ø³ÙŠØ©",
    "type": "INSTALLATION",
    "description": "Ø£Ø­ØªØ§Ø¬ ØªØ±ÙƒÙŠØ¨ Ù†Ø¸Ø§Ù… 10 ÙƒÙŠÙ„Ùˆ ÙˆØ§Ø·",
    "images": [
      "https://cdn.example.com/uploads/site-photo-1.jpg"
    ],
    "addressId": "64address123",
    "location": {
      "type": "Point",
      "coordinates": [44.2060, 15.3694]
    },
    "status": "OPEN",
    "scheduledAt": "2025-10-20T10:00:00.000Z",
    "engineerId": null,
    "acceptedOffer": null,
    "rating": null,
    "adminNotes": [],
    "createdAt": "2025-01-15T12:00:00.000Z",
    "updatedAt": "2025-01-15T12:00:00.000Z"
  },
  "requestId": "req_service_003"
}
```

### ÙƒÙˆØ¯ Flutter

```dart
Future<ServiceRequest> getServiceRequest(String requestId) async {
  final response = await _dio.get('/services/customer/$requestId');

  final apiResponse = ApiResponse<Map<String, dynamic>>.fromJson(
    response.data,
    (json) => json as Map<String, dynamic>,
  );

  if (apiResponse.isSuccess) {
    return ServiceRequest.fromJson(apiResponse.data!['data']);
  } else {
    throw ApiException(apiResponse.error!);
  }
}
```

---

### 4. Ø¥Ù„ØºØ§Ø¡ Ø·Ù„Ø¨

ÙŠÙ„ØºÙŠ Ø·Ù„Ø¨ Ø®Ø¯Ù…Ø©.

### Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø·Ù„Ø¨

- **Method:** `POST`
- **Endpoint:** `/services/customer/:id/cancel`
- **Auth Required:** âœ… Ù†Ø¹Ù…
- **Cache:** âŒ Ù„Ø§

### Response - Ù†Ø¬Ø§Ø­

```json
{
  "success": true,
  "data": {
    "id": "64service123",
    "status": "CANCELLED",
    "cancelledAt": "2025-01-15T14:30:00.000Z"
  },
  "requestId": "req_service_004"
}
```

### ÙƒÙˆØ¯ Flutter

```dart
Future<ServiceRequest> cancelServiceRequest(String requestId) async {
  final response = await _dio.post('/services/customer/$requestId/cancel');

  final apiResponse = ApiResponse<Map<String, dynamic>>.fromJson(
    response.data,
    (json) => json as Map<String, dynamic>,
  );

  if (apiResponse.isSuccess) {
    return ServiceRequest.fromJson(apiResponse.data!['data']);
  } else {
    throw ApiException(apiResponse.error!);
  }
}
```

---

### 5. Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ù…Ù‚Ø¯Ù…Ø© Ø¹Ù„Ù‰ Ø·Ù„Ø¨

ÙŠØ³ØªØ±Ø¬Ø¹ Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ù…Ù‚Ø¯Ù…Ø© Ø¹Ù„Ù‰ Ø·Ù„Ø¨ Ù…Ø­Ø¯Ø¯.

### Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø·Ù„Ø¨

- **Method:** `GET`
- **Endpoint:** `/services/customer/:id/offers`
- **Auth Required:** âœ… Ù†Ø¹Ù…
- **Cache:** âŒ Ù„Ø§

### Response - Ù†Ø¬Ø§Ø­

```json
{
  "success": true,
  "data": [
    {
      "_id": "64offer123",
      "requestId": "64service123",
      "engineerId": "64engineer123",
      "amount": 750000,
      "note": "Ø³Ø£Ù‚ÙˆÙ… Ø¨ØªØ±ÙƒÙŠØ¨ Ø§Ù„Ù†Ø¸Ø§Ù… Ø¨Ø£Ø¹Ù„Ù‰ Ø¬ÙˆØ¯Ø©",
      "distanceKm": 2.5,
      "status": "OFFERED",
      "createdAt": "2025-01-15T14:00:00.000Z",
      "updatedAt": "2025-01-15T14:00:00.000Z"
    }
  ],
  "requestId": "req_service_005"
}
```

### ÙƒÙˆØ¯ Flutter

```dart
Future<List<EngineerOffer>> getOffersForRequest(String requestId) async {
  final response = await _dio.get('/services/customer/$requestId/offers');

  final apiResponse = ApiResponse<Map<String, dynamic>>.fromJson(
    response.data,
    (json) => json as Map<String, dynamic>,
  );

  if (apiResponse.isSuccess) {
    return (apiResponse.data!['data'] as List)
        .map((item) => EngineerOffer.fromJson(item))
        .toList();
  } else {
    throw ApiException(apiResponse.error!);
  }
}
```

---

### 6. Ù‚Ø¨ÙˆÙ„ Ø¹Ø±Ø¶

ÙŠÙ‚Ø¨Ù„ Ø¹Ø±Ø¶ Ù…Ù‡Ù†Ø¯Ø³ Ø¹Ù„Ù‰ Ø·Ù„Ø¨.

### Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø·Ù„Ø¨

- **Method:** `POST`
- **Endpoint:** `/services/customer/:id/accept-offer`
- **Auth Required:** âœ… Ù†Ø¹Ù…
- **Cache:** âŒ Ù„Ø§

### Request Body

```json
{
  "offerId": "64offer123"
}
```

### Response - Ù†Ø¬Ø§Ø­

```json
{
  "success": true,
  "data": {
    "id": "64service123",
    "status": "ASSIGNED",
    "engineerId": "64engineer123",
    "engineerName": "Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯",
    "acceptedPrice": 750000,
    "acceptedAt": "2025-01-15T15:00:00.000Z"
  },
  "requestId": "req_service_006"
}
```

### ÙƒÙˆØ¯ Flutter

```dart
Future<ServiceRequest> acceptOffer(String requestId, String offerId) async {
  final response = await _dio.post('/services/customer/$requestId/accept-offer', data: {
    'offerId': offerId,
  });

  final apiResponse = ApiResponse<Map<String, dynamic>>.fromJson(
    response.data,
    (json) => json as Map<String, dynamic>,
  );

  if (apiResponse.isSuccess) {
    return ServiceRequest.fromJson(apiResponse.data!['data']);
  } else {
    throw ApiException(apiResponse.error!);
  }
}
```

---

### 7. ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø®Ø¯Ù…Ø©

ÙŠÙ‚ÙŠÙ… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø®Ø¯Ù…Ø© Ø§Ù„Ù…Ù‚Ø¯Ù…Ø©.

### Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø·Ù„Ø¨

- **Method:** `POST`
- **Endpoint:** `/services/customer/:id/rate`
- **Auth Required:** âœ… Ù†Ø¹Ù…
- **Cache:** âŒ Ù„Ø§

### Request Body

```json
{
  "score": 5,
  "comment": "Ø®Ø¯Ù…Ø© Ù…Ù…ØªØ§Ø²Ø© ÙˆØ¬ÙˆØ¯Ø© Ø¹Ø§Ù„ÙŠØ©"
}
```

### Response - Ù†Ø¬Ø§Ø­

```json
{
  "success": true,
  "data": {
    "id": "64service123",
    "rating": 5,
    "comment": "Ø®Ø¯Ù…Ø© Ù…Ù…ØªØ§Ø²Ø© ÙˆØ¬ÙˆØ¯Ø© Ø¹Ø§Ù„ÙŠØ©",
    "ratedAt": "2025-01-15T16:00:00.000Z"
  },
  "requestId": "req_service_007"
}
```

### ÙƒÙˆØ¯ Flutter

```dart
Future<ServiceRequest> rateService(String requestId, int score, String? comment) async {
  final response = await _dio.post('/services/customer/$requestId/rate', data: {
    'score': score,
    if (comment != null) 'comment': comment,
  });

  final apiResponse = ApiResponse<Map<String, dynamic>>.fromJson(
    response.data,
    (json) => json as Map<String, dynamic>,
  );

  if (apiResponse.isSuccess) {
    return ServiceRequest.fromJson(apiResponse.data!['data']);
  } else {
    throw ApiException(apiResponse.error!);
  }
}
```

---

## Ù„Ù„Ù…Ù‡Ù†Ø¯Ø³ÙŠÙ† (Engineers)

### 8. Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù‚Ø±ÙŠØ¨Ø©

ÙŠØ³ØªØ±Ø¬Ø¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù‚Ø±ÙŠØ¨Ø© Ù…Ù† Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ù…Ù‡Ù†Ø¯Ø³.

### Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø·Ù„Ø¨

- **Method:** `GET`
- **Endpoint:** `/services/engineer/requests/nearby`
- **Auth Required:** âœ… Ù†Ø¹Ù… (Engineer)
- **Cache:** âŒ Ù„Ø§

### Query Parameters

| Ø§Ù„Ù…Ø¹Ø§Ù…Ù„ | Ø§Ù„Ù†ÙˆØ¹ | Ù…Ø·Ù„ÙˆØ¨ | Ø§Ù„ÙˆØµÙ |
|---------|------|-------|-------|
| `lat` | `number` | âœ… | Ø®Ø· Ø§Ù„Ø¹Ø±Ø¶ |
| `lng` | `number` | âœ… | Ø®Ø· Ø§Ù„Ø·ÙˆÙ„ |
| `radiusKm` | `number` | âŒ | Ù†ØµÙ Ø§Ù„Ù‚Ø·Ø± Ø¨Ø§Ù„ÙƒÙŠÙ„ÙˆÙ…ØªØ± (Ø§ÙØªØ±Ø§Ø¶ÙŠ: 10) |

### Response - Ù†Ø¬Ø§Ø­

```json
{
  "success": true,
  "data": [
    {
      "_id": "64service123",
      "userId": "64user123",
      "title": "ØªØ±ÙƒÙŠØ¨ Ù†Ø¸Ø§Ù… Ø·Ø§Ù‚Ø© Ø´Ù…Ø³ÙŠØ©",
      "type": "INSTALLATION",
      "description": "Ø£Ø­ØªØ§Ø¬ ØªØ±ÙƒÙŠØ¨ Ù†Ø¸Ø§Ù… 10 ÙƒÙŠÙ„Ùˆ ÙˆØ§Ø·",
      "images": [
        "https://cdn.example.com/uploads/site-photo-1.jpg"
      ],
      "addressId": "64address123",
      "location": {
        "type": "Point",
        "coordinates": [44.2060, 15.3694]
      },
      "status": "OPEN",
      "scheduledAt": "2025-10-20T10:00:00.000Z",
      "engineerId": null,
      "acceptedOffer": null,
      "rating": null,
      "adminNotes": [],
      "createdAt": "2025-01-15T12:00:00.000Z",
      "updatedAt": "2025-01-15T12:00:00.000Z"
    }
  ],
  "requestId": "req_service_008"
}
```

### ÙƒÙˆØ¯ Flutter

```dart
Future<List<ServiceRequest>> getNearbyRequests({
  required double lat,
  required double lng,
  double radiusKm = 10,
}) async {
  final response = await _dio.get('/services/engineer/requests/nearby', queryParameters: {
    'lat': lat,
    'lng': lng,
    'radiusKm': radiusKm,
  });

  final apiResponse = ApiResponse<Map<String, dynamic>>.fromJson(
    response.data,
    (json) => json as Map<String, dynamic>,
  );

  if (apiResponse.isSuccess) {
    return (apiResponse.data!['data'] as List)
        .map((item) => ServiceRequest.fromJson(item))
        .toList();
  } else {
    throw ApiException(apiResponse.error!);
  }
}
```

---

### 9. ØªÙ‚Ø¯ÙŠÙ… Ø¹Ø±Ø¶

ÙŠÙ‚Ø¯Ù… Ø§Ù„Ù…Ù‡Ù†Ø¯Ø³ Ø¹Ø±Ø¶ Ø¹Ù„Ù‰ Ø·Ù„Ø¨.

### Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø·Ù„Ø¨

- **Method:** `POST`
- **Endpoint:** `/services/engineer/offers`
- **Auth Required:** âœ… Ù†Ø¹Ù… (Engineer)
- **Cache:** âŒ Ù„Ø§

### Request Body

```json
{
  "requestId": "64service123",
  "amount": 750000,
  "note": "Ø³Ø£Ù‚ÙˆÙ… Ø¨ØªØ±ÙƒÙŠØ¨ Ø§Ù„Ù†Ø¸Ø§Ù… Ø¨Ø£Ø¹Ù„Ù‰ Ø¬ÙˆØ¯Ø©",
  "lat": 44.2060,
  "lng": 15.3694
}
```

### Response - Ù†Ø¬Ø§Ø­

```json
{
  "success": true,
  "data": {
    "_id": "64offer123",
    "requestId": "64service123",
    "engineerId": "64engineer123",
    "amount": 750000,
    "note": "Ø³Ø£Ù‚ÙˆÙ… Ø¨ØªØ±ÙƒÙŠØ¨ Ø§Ù„Ù†Ø¸Ø§Ù… Ø¨Ø£Ø¹Ù„Ù‰ Ø¬ÙˆØ¯Ø©",
    "distanceKm": 2.5,
    "status": "OFFERED",
    "createdAt": "2025-01-15T14:00:00.000Z",
    "updatedAt": "2025-01-15T14:00:00.000Z"
  },
  "requestId": "req_service_009"
}
```

### ÙƒÙˆØ¯ Flutter

```dart
Future<EngineerOffer> createOffer({
  required String requestId,
  required double amount,
  String? note,
  required double lat,
  required double lng,
}) async {
  final response = await _dio.post('/services/engineer/offers', data: {
    'requestId': requestId,
    'amount': amount,
    if (note != null) 'note': note,
    'lat': lat,
    'lng': lng,
  });

  final apiResponse = ApiResponse<Map<String, dynamic>>.fromJson(
    response.data,
    (json) => json as Map<String, dynamic>,
  );

  if (apiResponse.isSuccess) {
    return EngineerOffer.fromJson(apiResponse.data!['data']);
  } else {
    throw ApiException(apiResponse.error!);
  }
}
```

---

### 10. ØªØ­Ø¯ÙŠØ« Ø¹Ø±Ø¶

ÙŠØ­Ø¯Ø« Ø§Ù„Ù…Ù‡Ù†Ø¯Ø³ Ø¹Ø±Ø¶Ù‡.

### Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø·Ù„Ø¨

- **Method:** `PATCH`
- **Endpoint:** `/services/engineer/offers/:id`
- **Auth Required:** âœ… Ù†Ø¹Ù… (Engineer)
- **Cache:** âŒ Ù„Ø§

### Request Body

```json
{
  "amount": 700000,
  "note": "Ø³Ø£Ù‚ÙˆÙ… Ø¨ØªØ±ÙƒÙŠØ¨ Ø§Ù„Ù†Ø¸Ø§Ù… Ø¨Ø£Ø¹Ù„Ù‰ Ø¬ÙˆØ¯Ø© Ù…Ø¹ Ø®ØµÙ…"
}
```

### Response - Ù†Ø¬Ø§Ø­

```json
{
  "success": true,
  "data": {
    "_id": "64offer123",
    "requestId": "64service123",
    "engineerId": "64engineer123",
    "amount": 700000,
    "note": "Ø³Ø£Ù‚ÙˆÙ… Ø¨ØªØ±ÙƒÙŠØ¨ Ø§Ù„Ù†Ø¸Ø§Ù… Ø¨Ø£Ø¹Ù„Ù‰ Ø¬ÙˆØ¯Ø© Ù…Ø¹ Ø®ØµÙ…",
    "distanceKm": 2.5,
    "status": "OFFERED",
    "createdAt": "2025-01-15T14:00:00.000Z",
    "updatedAt": "2025-01-15T15:00:00.000Z"
  },
  "requestId": "req_service_010"
}
```

### ÙƒÙˆØ¯ Flutter

```dart
Future<EngineerOffer> updateOffer({
  required String offerId,
  double? amount,
  String? note,
}) async {
  final response = await _dio.patch('/services/engineer/offers/$offerId', data: {
    if (amount != null) 'amount': amount,
    if (note != null) 'note': note,
  });

  final apiResponse = ApiResponse<Map<String, dynamic>>.fromJson(
    response.data,
    (json) => json as Map<String, dynamic>,
  );

  if (apiResponse.isSuccess) {
    return EngineerOffer.fromJson(apiResponse.data!['data']);
  } else {
    throw ApiException(apiResponse.error!);
  }
}
```

---

### 11. Ø¹Ø±ÙˆØ¶ÙŠ

ÙŠØ³ØªØ±Ø¬Ø¹ Ø¹Ø±ÙˆØ¶ Ø§Ù„Ù…Ù‡Ù†Ø¯Ø³.

### Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø·Ù„Ø¨

- **Method:** `GET`
- **Endpoint:** `/services/engineer/offers/my`
- **Auth Required:** âœ… Ù†Ø¹Ù… (Engineer)
- **Cache:** âŒ Ù„Ø§

### Response - Ù†Ø¬Ø§Ø­

```json
{
  "success": true,
  "data": [
    {
      "_id": "64offer123",
      "requestId": "64service123",
      "engineerId": "64engineer123",
      "amount": 750000,
      "note": "Ø³Ø£Ù‚ÙˆÙ… Ø¨ØªØ±ÙƒÙŠØ¨ Ø§Ù„Ù†Ø¸Ø§Ù… Ø¨Ø£Ø¹Ù„Ù‰ Ø¬ÙˆØ¯Ø©",
      "distanceKm": 2.5,
      "status": "OFFERED",
      "createdAt": "2025-01-15T14:00:00.000Z",
      "updatedAt": "2025-01-15T14:00:00.000Z"
    }
  ],
  "requestId": "req_service_011"
}
```

### ÙƒÙˆØ¯ Flutter

```dart
Future<List<EngineerOffer>> getMyOffers() async {
  final response = await _dio.get('/services/engineer/offers/my');

  final apiResponse = ApiResponse<Map<String, dynamic>>.fromJson(
    response.data,
    (json) => json as Map<String, dynamic>,
  );

  if (apiResponse.isSuccess) {
    return (apiResponse.data!['data'] as List)
        .map((item) => EngineerOffer.fromJson(item))
        .toList();
  } else {
    throw ApiException(apiResponse.error!);
  }
}
```

---

### 12. Ø¨Ø¯Ø¡ ØªÙ†ÙÙŠØ° Ø§Ù„Ø·Ù„Ø¨

ÙŠØ¨Ø¯Ø£ Ø§Ù„Ù…Ù‡Ù†Ø¯Ø³ ØªÙ†ÙÙŠØ° Ø§Ù„Ø·Ù„Ø¨.

### Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø·Ù„Ø¨

- **Method:** `POST`
- **Endpoint:** `/services/engineer/requests/:id/start`
- **Auth Required:** âœ… Ù†Ø¹Ù… (Engineer)
- **Cache:** âŒ Ù„Ø§

### Response - Ù†Ø¬Ø§Ø­

```json
{
  "success": true,
  "data": {
    "id": "64service123",
    "status": "IN_PROGRESS",
    "startedAt": "2025-01-15T14:00:00.000Z"
  },
  "requestId": "req_service_012"
}
```

### ÙƒÙˆØ¯ Flutter

```dart
Future<ServiceRequest> startServiceRequest(String requestId) async {
  final response = await _dio.post('/services/engineer/requests/$requestId/start');

  final apiResponse = ApiResponse<Map<String, dynamic>>.fromJson(
    response.data,
    (json) => json as Map<String, dynamic>,
  );

  if (apiResponse.isSuccess) {
    return ServiceRequest.fromJson(apiResponse.data!['data']);
  } else {
    throw ApiException(apiResponse.error!);
  }
}
```

---

### 13. Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨

ÙŠÙƒÙ…Ù„ Ø§Ù„Ù…Ù‡Ù†Ø¯Ø³ ØªÙ†ÙÙŠØ° Ø§Ù„Ø·Ù„Ø¨.

### Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø·Ù„Ø¨

- **Method:** `POST`
- **Endpoint:** `/services/engineer/requests/:id/complete`
- **Auth Required:** âœ… Ù†Ø¹Ù… (Engineer)
- **Cache:** âŒ Ù„Ø§

### Response - Ù†Ø¬Ø§Ø­

```json
{
  "success": true,
  "data": {
    "id": "64service123",
    "status": "COMPLETED",
    "completedAt": "2025-01-15T17:00:00.000Z",
    "totalTime": 3
  },
  "requestId": "req_service_013"
}
```

### ÙƒÙˆØ¯ Flutter

```dart
Future<ServiceRequest> completeServiceRequest(String requestId) async {
  final response = await _dio.post('/services/engineer/requests/$requestId/complete');

  final apiResponse = ApiResponse<Map<String, dynamic>>.fromJson(
    response.data,
    (json) => json as Map<String, dynamic>,
  );

  if (apiResponse.isSuccess) {
    return ServiceRequest.fromJson(apiResponse.data!['data']);
  } else {
    throw ApiException(apiResponse.error!);
  }
}
```

---

## Models ÙÙŠ Flutter

### Ù…Ù„Ù: `lib/models/services/service_models.dart`

```dart
enum ServiceRequestStatus {
  OPEN,
  OFFERS_COLLECTING,
  ASSIGNED,
  IN_PROGRESS,
  COMPLETED,
  RATED,
  CANCELLED,
}

enum EngineerOfferStatus {
  OFFERED,
  ACCEPTED,
  REJECTED,
  CANCELLED,
}

class ServiceRequest {
  final String id;
  final String userId;
  final String title;
  final String? type;
  final String? description;
  final List<String> images;
  final String? addressId;
  final ServiceLocation location;
  final ServiceRequestStatus status;
  final DateTime? scheduledAt;
  final String? engineerId;
  final AcceptedOffer? acceptedOffer;
  final ServiceRating? rating;
  final List<AdminNote> adminNotes;
  final DateTime createdAt;
  final DateTime updatedAt;

  ServiceRequest({
    required this.id,
    required this.userId,
    required this.title,
    this.type,
    this.description,
    required this.images,
    this.addressId,
    required this.location,
    required this.status,
    this.scheduledAt,
    this.engineerId,
    this.acceptedOffer,
    this.rating,
    required this.adminNotes,
    required this.createdAt,
    required this.updatedAt,
  });

  factory ServiceRequest.fromJson(Map<String, dynamic> json) {
    return ServiceRequest(
      id: json['_id'] ?? '',
      userId: json['userId'] ?? '',
      title: json['title'] ?? '',
      type: json['type'],
      description: json['description'],
      images: List<String>.from(json['images'] ?? []),
      addressId: json['addressId'],
      location: ServiceLocation.fromJson(json['location'] ?? {}),
      status: ServiceRequestStatus.values.firstWhere(
        (e) => e.name == json['status'],
        orElse: () => ServiceRequestStatus.OPEN,
      ),
      scheduledAt: json['scheduledAt'] != null ? DateTime.parse(json['scheduledAt']) : null,
      engineerId: json['engineerId'],
      acceptedOffer: json['acceptedOffer'] != null 
          ? AcceptedOffer.fromJson(json['acceptedOffer']) 
          : null,
      rating: json['rating'] != null 
          ? ServiceRating.fromJson(json['rating']) 
          : null,
      adminNotes: (json['adminNotes'] as List?)
          ?.map((item) => AdminNote.fromJson(item))
          .toList() ?? [],
      createdAt: DateTime.parse(json['createdAt']),
      updatedAt: DateTime.parse(json['updatedAt']),
    );
  }

  bool get isOpen => status == ServiceRequestStatus.OPEN;
  bool get isOffersCollecting => status == ServiceRequestStatus.OFFERS_COLLECTING;
  bool get isAssigned => status == ServiceRequestStatus.ASSIGNED;
  bool get isInProgress => status == ServiceRequestStatus.IN_PROGRESS;
  bool get isCompleted => status == ServiceRequestStatus.COMPLETED;
  bool get isRated => status == ServiceRequestStatus.RATED;
  bool get isCancelled => status == ServiceRequestStatus.CANCELLED;
  
  bool get hasType => type != null && type!.isNotEmpty;
  bool get hasDescription => description != null && description!.isNotEmpty;
  bool get hasImages => images.isNotEmpty;
  bool get hasAddress => addressId != null && addressId!.isNotEmpty;
  bool get isScheduled => scheduledAt != null;
  bool get hasEngineer => engineerId != null && engineerId!.isNotEmpty;
  bool get hasAcceptedOffer => acceptedOffer != null;
  bool get hasRating => rating != null;
  bool get hasAdminNotes => adminNotes.isNotEmpty;
  
  bool get canBeCancelled => isOpen || isOffersCollecting;
  bool get canAcceptOffers => isOpen || isOffersCollecting;
  bool get canBeRated => isCompleted && !hasRating;
  bool get isActive => !isCancelled && !isRated;
}

class ServiceLocation {
  final String type;
  final List<double> coordinates;

  ServiceLocation({
    required this.type,
    required this.coordinates,
  });

  factory ServiceLocation.fromJson(Map<String, dynamic> json) {
    return ServiceLocation(
      type: json['type'] ?? 'Point',
      coordinates: List<double>.from(json['coordinates'] ?? []),
    );
  }

  double get longitude => coordinates.isNotEmpty ? coordinates[0] : 0.0;
  double get latitude => coordinates.length > 1 ? coordinates[1] : 0.0;
  bool get hasCoordinates => coordinates.length >= 2;
}

class AcceptedOffer {
  final String offerId;
  final double amount;
  final String? note;

  AcceptedOffer({
    required this.offerId,
    required this.amount,
    this.note,
  });

  factory AcceptedOffer.fromJson(Map<String, dynamic> json) {
    return AcceptedOffer(
      offerId: json['offerId'] ?? '',
      amount: (json['amount'] ?? 0).toDouble(),
      note: json['note'],
    );
  }

  bool get hasNote => note != null && note!.isNotEmpty;
}

class ServiceRating {
  final int? score;
  final String? comment;
  final DateTime? at;

  ServiceRating({
    this.score,
    this.comment,
    this.at,
  });

  factory ServiceRating.fromJson(Map<String, dynamic> json) {
    return ServiceRating(
      score: json['score']?.toInt(),
      comment: json['comment'],
      at: json['at'] != null ? DateTime.parse(json['at']) : null,
    );
  }

  bool get hasScore => score != null && score! > 0;
  bool get hasComment => comment != null && comment!.isNotEmpty;
  bool get hasRating => hasScore || hasComment;
  bool get isComplete => hasScore && hasComment;
}

class AdminNote {
  final String note;
  final DateTime at;

  AdminNote({
    required this.note,
    required this.at,
  });

  factory AdminNote.fromJson(Map<String, dynamic> json) {
    return AdminNote(
      note: json['note'] ?? '',
      at: DateTime.parse(json['at']),
    );
  }

  bool get hasNote => note.isNotEmpty;
}

class EngineerOffer {
  final String id;
  final String requestId;
  final String engineerId;
  final double amount;
  final String? note;
  final double? distanceKm;
  final EngineerOfferStatus status;
  final DateTime createdAt;
  final DateTime updatedAt;

  EngineerOffer({
    required this.id,
    required this.requestId,
    required this.engineerId,
    required this.amount,
    this.note,
    this.distanceKm,
    required this.status,
    required this.createdAt,
    required this.updatedAt,
  });

  factory EngineerOffer.fromJson(Map<String, dynamic> json) {
    return EngineerOffer(
      id: json['_id'] ?? '',
      requestId: json['requestId'] ?? '',
      engineerId: json['engineerId'] ?? '',
      amount: (json['amount'] ?? 0).toDouble(),
      note: json['note'],
      distanceKm: json['distanceKm']?.toDouble(),
      status: EngineerOfferStatus.values.firstWhere(
        (e) => e.name == json['status'],
        orElse: () => EngineerOfferStatus.OFFERED,
      ),
      createdAt: DateTime.parse(json['createdAt']),
      updatedAt: DateTime.parse(json['updatedAt']),
    );
  }

  bool get isOffered => status == EngineerOfferStatus.OFFERED;
  bool get isAccepted => status == EngineerOfferStatus.ACCEPTED;
  bool get isRejected => status == EngineerOfferStatus.REJECTED;
  bool get isCancelled => status == EngineerOfferStatus.CANCELLED;
  
  bool get hasNote => note != null && note!.isNotEmpty;
  bool get hasDistance => distanceKm != null;
  bool get isActive => isOffered || isAccepted;
  bool get isFinal => isAccepted || isRejected || isCancelled;
  
  String get formattedAmount => '${amount.toStringAsFixed(0)} Ø±ÙŠØ§Ù„';
  String get formattedDistance => hasDistance ? '${distanceKm!.toStringAsFixed(1)} ÙƒÙ…' : 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯';
}

class CreateServiceRequestDto {
  final String title;
  final String? type;
  final String? description;
  final List<String>? images;
  final String addressId;
  final DateTime? scheduledAt;

  CreateServiceRequestDto({
    required this.title,
    this.type,
    this.description,
    this.images,
    required this.addressId,
    this.scheduledAt,
  });

  Map<String, dynamic> toJson() {
    return {
      'title': title,
      if (type != null) 'type': type,
      if (description != null) 'description': description,
      if (images != null) 'images': images,
      'addressId': addressId,
      if (scheduledAt != null) 'scheduledAt': scheduledAt!.toIso8601String(),
    };
  }
}

class CreateOfferDto {
  final String requestId;
  final double amount;
  final String? note;
  final double lat;
  final double lng;

  CreateOfferDto({
    required this.requestId,
    required this.amount,
    this.note,
    required this.lat,
    required this.lng,
  });

  Map<String, dynamic> toJson() {
    return {
      'requestId': requestId,
      'amount': amount,
      if (note != null) 'note': note,
      'lat': lat,
      'lng': lng,
    };
  }
}

class UpdateOfferDto {
  final double? amount;
  final String? note;

  UpdateOfferDto({
    this.amount,
    this.note,
  });

  Map<String, dynamic> toJson() {
    return {
      if (amount != null) 'amount': amount,
      if (note != null) 'note': note,
    };
  }
}

class AcceptOfferDto {
  final String offerId;

  AcceptOfferDto({
    required this.offerId,
  });

  Map<String, dynamic> toJson() {
    return {
      'offerId': offerId,
    };
  }
}

class RateServiceDto {
  final int score;
  final String? comment;

  RateServiceDto({
    required this.score,
    this.comment,
  });

  Map<String, dynamic> toJson() {
    return {
      'score': score,
      if (comment != null) 'comment': comment,
    };
  }
}

class NearbyQueryDto {
  final double lat;
  final double lng;
  final double radiusKm;

  NearbyQueryDto({
    required this.lat,
    required this.lng,
    this.radiusKm = 10,
  });

  Map<String, dynamic> toJson() {
    return {
      'lat': lat,
      'lng': lng,
      'radiusKm': radiusKm,
    };
  }
}
```

---

## ğŸ“ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ù…Ù‡Ù…Ø©

### Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† (Customers)

1. **Ø¥Ù†Ø´Ø§Ø¡ Ø·Ù„Ø¨ Ø®Ø¯Ù…Ø©:**
   - `title`: Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø·Ù„Ø¨ (Ù…Ø·Ù„ÙˆØ¨)
   - `type`: Ù†ÙˆØ¹ Ø§Ù„Ø®Ø¯Ù…Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
   - `description`: ÙˆØµÙ Ø§Ù„Ø·Ù„Ø¨ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
   - `images`: ØµÙˆØ± Ø§Ù„Ø·Ù„Ø¨ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
   - `addressId`: Ù…Ø¹Ø±Ù Ø§Ù„Ø¹Ù†ÙˆØ§Ù† (Ù…Ø·Ù„ÙˆØ¨)
   - `scheduledAt`: Ù…ÙˆØ¹Ø¯ Ø§Ù„ØªÙ†ÙÙŠØ° (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)

2. **Ø­Ø§Ù„Ø§Øª Ø§Ù„Ø·Ù„Ø¨:**
   - `OPEN`: Ù…ÙØªÙˆØ­ Ù„Ù„Ø¹Ø±ÙˆØ¶
   - `OFFERS_COLLECTING`: Ø¬Ù…Ø¹ Ø§Ù„Ø¹Ø±ÙˆØ¶
   - `ASSIGNED`: ØªÙ… Ø§Ù„ØªØ¹ÙŠÙŠÙ†
   - `IN_PROGRESS`: Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªÙ†ÙÙŠØ°
   - `COMPLETED`: Ù…ÙƒØªÙ…Ù„
   - `RATED`: ØªÙ… Ø§Ù„ØªÙ‚ÙŠÙŠÙ…
   - `CANCELLED`: Ù…Ù„ØºÙŠ

3. **Ø§Ù„Ø¹Ø±ÙˆØ¶:**
   - ÙŠÙ…ÙƒÙ† Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø±Ø¤ÙŠØ© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ù…Ù‚Ø¯Ù…Ø©
   - ÙŠÙ…ÙƒÙ† Ù‚Ø¨ÙˆÙ„ Ø¹Ø±Ø¶ ÙˆØ§Ø­Ø¯ ÙÙ‚Ø·
   - Ø¨Ø¹Ø¯ Ø§Ù„Ù‚Ø¨ÙˆÙ„ØŒ ÙŠØªÙ… ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù…Ù‡Ù†Ø¯Ø³

4. **Ø§Ù„ØªÙ‚ÙŠÙŠÙ…:**
   - ÙŠÙ…ÙƒÙ† Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø¨Ø¹Ø¯ Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ø®Ø¯Ù…Ø©
   - Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ù…Ù† 1 Ø¥Ù„Ù‰ 5 Ù†Ø¬ÙˆÙ…
   - ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© ØªØ¹Ù„ÙŠÙ‚ Ø§Ø®ØªÙŠØ§Ø±ÙŠ

### Ù„Ù„Ù…Ù‡Ù†Ø¯Ø³ÙŠÙ† (Engineers)

5. **Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù‚Ø±ÙŠØ¨Ø©:**
   - `lat`, `lng`: Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ù…Ù‡Ù†Ø¯Ø³
   - `radiusKm`: Ù†ØµÙ Ø§Ù„Ù‚Ø·Ø± Ø¨Ø§Ù„ÙƒÙŠÙ„ÙˆÙ…ØªØ±
   - ÙŠØªÙ… ØªØ±ØªÙŠØ¨ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø­Ø³Ø¨ Ø§Ù„Ù…Ø³Ø§ÙØ©

6. **ØªÙ‚Ø¯ÙŠÙ… Ø§Ù„Ø¹Ø±ÙˆØ¶:**
   - `requestId`: Ù…Ø¹Ø±Ù Ø§Ù„Ø·Ù„Ø¨
   - `amount`: Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ù‚ØªØ±Ø­
   - `note`: Ù…Ù„Ø§Ø­Ø¸Ø© Ø§Ø®ØªÙŠØ§Ø±ÙŠØ©
   - `lat`, `lng`: Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ù…Ù‡Ù†Ø¯Ø³ Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø³Ø§ÙØ©

7. **Ø­Ø§Ù„Ø§Øª Ø§Ù„Ø¹Ø±Ø¶:**
   - `OFFERED`: ØªÙ… ØªÙ‚Ø¯ÙŠÙ…Ù‡
   - `ACCEPTED`: ØªÙ… Ù‚Ø¨ÙˆÙ„Ù‡
   - `REJECTED`: ØªÙ… Ø±ÙØ¶Ù‡
   - `CANCELLED`: ØªÙ… Ø¥Ù„ØºØ§Ø¤Ù‡

8. **ØªÙ†ÙÙŠØ° Ø§Ù„Ø·Ù„Ø¨:**
   - `start`: Ø¨Ø¯Ø¡ Ø§Ù„ØªÙ†ÙÙŠØ°
   - `complete`: Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„ØªÙ†ÙÙŠØ°
   - ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø§Ù„Ù…Ù‡Ù†Ø¯Ø³ Ù…Ø¹ÙŠÙ† Ø¹Ù„Ù‰ Ø§Ù„Ø·Ù„Ø¨

### Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„Ù‡ÙŠÙƒÙ„

9. **Ø§Ù„Ù…ÙˆÙ‚Ø¹:**
   - `location`: Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª Ø¬ØºØ±Ø§ÙÙŠØ© (GeoJSON)
   - `coordinates`: [longitude, latitude]
   - `hasCoordinates`: Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø§Ù„Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª

10. **Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù‚Ø¨ÙˆÙ„:**
    - `acceptedOffer`: ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù‚Ø¨ÙˆÙ„
    - `offerId`: Ù…Ø¹Ø±Ù Ø§Ù„Ø¹Ø±Ø¶
    - `amount`: Ø§Ù„Ù…Ø¨Ù„Øº
    - `note`: Ù…Ù„Ø§Ø­Ø¸Ø©

11. **Ø§Ù„ØªÙ‚ÙŠÙŠÙ…:**
    - `rating`: ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø®Ø¯Ù…Ø©
    - `score`: Ø§Ù„Ù†Ù‚Ø§Ø· (1-5)
    - `comment`: Ø§Ù„ØªØ¹Ù„ÙŠÙ‚
    - `at`: ÙˆÙ‚Øª Ø§Ù„ØªÙ‚ÙŠÙŠÙ…

12. **Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø§Ù„Ø£Ø¯Ù…Ù†:**
    - `adminNotes`: Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¯Ø§Ø±ÙŠØ©
    - `note`: Ù†Øµ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø©
    - `at`: ÙˆÙ‚Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø©

### Ø§Ù„ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©

13. **Ø­Ø§Ù„Ø§Øª Ø§Ù„Ø·Ù„Ø¨:**
    - `isOpen`: Ù…ÙØªÙˆØ­
    - `isOffersCollecting`: Ø¬Ù…Ø¹ Ø§Ù„Ø¹Ø±ÙˆØ¶
    - `isAssigned`: Ù…Ø¹ÙŠÙ†
    - `isInProgress`: Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªÙ†ÙÙŠØ°
    - `isCompleted`: Ù…ÙƒØªÙ…Ù„
    - `isRated`: ØªÙ… Ø§Ù„ØªÙ‚ÙŠÙŠÙ…
    - `isCancelled`: Ù…Ù„ØºÙŠ

14. **Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:**
    - `hasType`: Ù„Ù‡ Ù†ÙˆØ¹
    - `hasDescription`: Ù„Ù‡ ÙˆØµÙ
    - `hasImages`: Ù„Ù‡ ØµÙˆØ±
    - `hasAddress`: Ù„Ù‡ Ø¹Ù†ÙˆØ§Ù†
    - `isScheduled`: Ù…Ø¬Ø¯ÙˆÙ„
    - `hasEngineer`: Ù„Ù‡ Ù…Ù‡Ù†Ø¯Ø³
    - `hasAcceptedOffer`: Ù„Ù‡ Ø¹Ø±Ø¶ Ù…Ù‚Ø¨ÙˆÙ„
    - `hasRating`: Ù„Ù‡ ØªÙ‚ÙŠÙŠÙ…
    - `hasAdminNotes`: Ù„Ù‡ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¯Ø§Ø±ÙŠØ©

15. **Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª:**
    - `canBeCancelled`: ÙŠÙ…ÙƒÙ† Ø¥Ù„ØºØ§Ø¤Ù‡
    - `canAcceptOffers`: ÙŠÙ…ÙƒÙ† Ù‚Ø¨ÙˆÙ„ Ø§Ù„Ø¹Ø±ÙˆØ¶
    - `canBeRated`: ÙŠÙ…ÙƒÙ† ØªÙ‚ÙŠÙŠÙ…Ù‡
    - `isActive`: Ù†Ø´Ø·

16. **Ø§Ù„Ø¹Ø±ÙˆØ¶:**
    - `isOffered`: ØªÙ… ØªÙ‚Ø¯ÙŠÙ…Ù‡
    - `isAccepted`: ØªÙ… Ù‚Ø¨ÙˆÙ„Ù‡
    - `isRejected`: ØªÙ… Ø±ÙØ¶Ù‡
    - `isCancelled`: ØªÙ… Ø¥Ù„ØºØ§Ø¤Ù‡
    - `hasNote`: Ù„Ù‡ Ù…Ù„Ø§Ø­Ø¸Ø©
    - `hasDistance`: Ù„Ù‡ Ù…Ø³Ø§ÙØ©
    - `isActive`: Ù†Ø´Ø·
    - `isFinal`: Ù†Ù‡Ø§Ø¦ÙŠ

17. **Ø§Ù„ØªÙ†Ø³ÙŠÙ‚:**
    - `formattedAmount`: Ø§Ù„Ù…Ø¨Ù„Øº Ù…Ù†Ø³Ù‚
    - `formattedDistance`: Ø§Ù„Ù…Ø³Ø§ÙØ© Ù…Ù†Ø³Ù‚Ø©
    - `longitude`: Ø®Ø· Ø§Ù„Ø·ÙˆÙ„
    - `latitude`: Ø®Ø· Ø§Ù„Ø¹Ø±Ø¶
    - `hasCoordinates`: Ù„Ù‡ Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª

18. **Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…:**
    - Ø§Ø³ØªØ®Ø¯Ù… `CreateServiceRequestDto` Ù„Ø¥Ù†Ø´Ø§Ø¡ Ø·Ù„Ø¨
    - Ø§Ø³ØªØ®Ø¯Ù… `CreateOfferDto` Ù„ØªÙ‚Ø¯ÙŠÙ… Ø¹Ø±Ø¶
    - Ø§Ø³ØªØ®Ø¯Ù… `UpdateOfferDto` Ù„ØªØ­Ø¯ÙŠØ« Ø¹Ø±Ø¶
    - Ø§Ø³ØªØ®Ø¯Ù… `AcceptOfferDto` Ù„Ù‚Ø¨ÙˆÙ„ Ø¹Ø±Ø¶
    - Ø§Ø³ØªØ®Ø¯Ù… `RateServiceDto` Ù„ØªÙ‚ÙŠÙŠÙ… Ø®Ø¯Ù…Ø©
    - Ø§Ø³ØªØ®Ø¯Ù… `NearbyQueryDto` Ù„Ù„Ø¨Ø­Ø« Ø§Ù„Ù‚Ø±ÙŠØ¨

19. **Ø§Ù„Ø£Ù…Ø§Ù†:**
    - ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø³Ø¬Ù„ ÙƒÙ…Ù‡Ù†Ø¯Ø³ Ù„Ù„ÙˆØµÙˆÙ„ Ù„Ù€ Engineer endpoints
    - ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ØµØ§Ø­Ø¨ Ø§Ù„Ø·Ù„Ø¨ Ù„Ù„ÙˆØµÙˆÙ„ Ù„ØªÙØ§ØµÙŠÙ„Ù‡
    - ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø§Ù„Ù…Ù‡Ù†Ø¯Ø³ Ù…Ø¹ÙŠÙ† Ø¹Ù„Ù‰ Ø§Ù„Ø·Ù„Ø¨ Ù„ØªÙ†ÙÙŠØ°Ù‡

20. **Ø§Ù„Ø£Ø¯Ø§Ø¡:**
    - ÙŠØªÙ… ØªØ±ØªÙŠØ¨ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù‚Ø±ÙŠØ¨Ø© Ø­Ø³Ø¨ Ø§Ù„Ù…Ø³Ø§ÙØ©
    - ÙŠØªÙ… ØªØ±ØªÙŠØ¨ Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø­Ø³Ø¨ Ø§Ù„Ù…Ø³Ø§ÙØ© ÙˆØ§Ù„Ø³Ø¹Ø±
    - ÙŠØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„Ø¨Ø­Ø« Ø§Ù„Ø³Ø±ÙŠØ¹

---

## ğŸ”„ Notes on Update

**Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©:**
1. âœ… ØªØµØ­ÙŠØ­ Ø¬Ù…ÙŠØ¹ Endpoints:
   - Customer: `/services/customer` Ùˆ `/services/customer/...`
   - Engineer: `/services/engineer/...`
2. âœ… Ø¬Ù…ÙŠØ¹ Responses ØªØ­Øª `data` wrapper
3. âœ… ØªØ­Ø¯ÙŠØ« Enums Ø¥Ù„Ù‰ UPPERCASE:
   - `OPEN`, `OFFERS_COLLECTING`, `ASSIGNED`, `IN_PROGRESS`, `COMPLETED`, `RATED`, `CANCELLED`
   - `OFFERED`, `ACCEPTED`, `REJECTED`, `CANCELLED`
4. âœ… ØªØ­Ø¯ÙŠØ« Ø¬Ù…ÙŠØ¹ return types - Ù…Ø¹Ø¸Ù…Ù‡Ø§ ØªØ±Ø¬Ø¹ `ServiceRequest` Ø£Ùˆ `EngineerOffer` ÙƒØ§Ù…Ù„Ø©
5. âœ… Ø¥Ø²Ø§Ù„Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù€ Cache flags (Ù„Ø§ ÙŠÙˆØ¬Ø¯ caching ÙÙŠ endpoints Ø§Ù„ÙØ¹Ù„ÙŠØ©)

**Endpoints Ù„Ù„Ø¹Ù…Ù„Ø§Ø¡ (Customers):**
- `POST /services/customer` - Ø¥Ù†Ø´Ø§Ø¡ Ø·Ù„Ø¨
- `GET /services/customer/my` - Ø·Ù„Ø¨Ø§ØªÙŠ
- `GET /services/customer/:id` - ØªÙØ§ØµÙŠÙ„ Ø·Ù„Ø¨
- `POST /services/customer/:id/cancel` - Ø¥Ù„ØºØ§Ø¡ Ø·Ù„Ø¨
- `POST /services/customer/:id/accept-offer` - Ù‚Ø¨ÙˆÙ„ Ø¹Ø±Ø¶
- `POST /services/customer/:id/rate` - ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø®Ø¯Ù…Ø©
- `GET /services/customer/:id/offers` - Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ù…Ù‚Ø¯Ù…Ø©

**Endpoints Ù„Ù„Ù…Ù‡Ù†Ø¯Ø³ÙŠÙ† (Engineers):**
- `GET /services/engineer/requests/nearby` - Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù‚Ø±ÙŠØ¨Ø©
- `POST /services/engineer/offers` - ØªÙ‚Ø¯ÙŠÙ… Ø¹Ø±Ø¶
- `PATCH /services/engineer/offers/:id` - ØªØ­Ø¯ÙŠØ« Ø¹Ø±Ø¶
- `GET /services/engineer/offers/my` - Ø¹Ø±ÙˆØ¶ÙŠ
- `POST /services/engineer/requests/:id/start` - Ø¨Ø¯Ø¡ ØªÙ†ÙÙŠØ°
- `POST /services/engineer/requests/:id/complete` - Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨

**Ù…Ù„ÙØ§Øª Backend Ø§Ù„Ù…Ø±Ø¬Ø¹ÙŠØ©:**
- `backend/src/modules/services/customer.controller.ts` - customer endpoints
- `backend/src/modules/services/engineer.controller.ts` - engineer endpoints
- `backend/src/modules/services/schemas/service-request.schema.ts` - ServiceRequest Schema
- `backend/src/modules/services/schemas/engineer-offer.schema.ts` - EngineerOffer Schema
- `backend/src/modules/services/enums/service-status.enum.ts` - Status Enums

---

