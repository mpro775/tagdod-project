# وثيقة المتطلبات الوظيفية (FRD)
## Functional Requirements Document

### 1. نظرة عامة

**المشروع:** TagDoD - منصة التجارة الإلكترونية  
**الإصدار:** 1.0  
**التاريخ:** ديسمبر 2024  
**الغرض:** تحديد المتطلبات الوظيفية التفصيلية للنظام  

### 2. نطاق الوثيقة

تغطي هذه الوثيقة جميع المتطلبات الوظيفية للنظام بناءً على تحليل الكود المصدري والهيكل الحالي للمشروع.

### 3. المتطلبات الوظيفية

#### 3.1 إدارة المستخدمين (User Management)

##### FR-001: تسجيل المستخدمين
- **الوصف:** إمكانية تسجيل المستخدمين الجدد باستخدام رقم الهاتف
- **المدخلات:** رقم الهاتف، الاسم الأول، الاسم الأخير، كلمة المرور
- **المخرجات:** حساب مستخدم جديد مع معرف فريد
- **الشروط:**
  - رقم الهاتف يجب أن يكون فريداً
  - كلمة المرور يجب أن تكون آمنة (8 أحرف على الأقل)
  - التحقق من صحة رقم الهاتف

##### FR-002: تسجيل الدخول
- **الوصف:** تسجيل دخول المستخدمين باستخدام الهاتف وكلمة المرور
- **المدخلات:** رقم الهاتف، كلمة المرور
- **المخرجات:** رمز الوصول (JWT Token)
- **الشروط:**
  - التحقق من صحة البيانات
  - منع تسجيل الدخول للحسابات المعطلة

##### FR-003: إدارة الأدوار والصلاحيات
- **الوصف:** نظام أدوار متعدد المستويات (مستخدم، مشرف، مدير عام)
- **الأدوار المتاحة:**
  - المستخدم العادي (user)
  - المشرف (moderator)
  - المدير (admin)
  - المدير العام (super_admin)
- **الصلاحيات:** إدارة صلاحيات مخصصة لكل دور

##### FR-004: إدارة حالة المستخدم
- **الوصف:** إمكانية تفعيل/تعطيل/حذف المستخدمين
- **الحالات:** نشط، معلق، في انتظار الموافقة
- **الإجراءات:** تعليق المستخدم مع ذكر السبب

#### 3.2 إدارة المنتجات (Product Management)

##### FR-005: إضافة المنتجات
- **الوصف:** إضافة منتجات جديدة باللغتين العربية والإنجليزية
- **المدخلات:**
  - الاسم (عربي/إنجليزي)
  - الوصف (عربي/إنجليزي)
  - التصنيف
  - العلامة التجارية
  - الصور
  - السمات
- **المخرجات:** منتج جديد مع معرف فريد

##### FR-006: إدارة التصنيفات
- **الوصف:** نظام تصنيفات هرمية متعددة المستويات
- **المميزات:**
  - تصنيفات رئيسية وفرعية
  - ترتيب التصنيفات
  - إمكانية إخفاء/إظهار التصنيفات
  - SEO metadata لكل تصنيف

##### FR-007: إدارة السمات
- **الوصف:** نظام سمات مرن للمنتجات
- **أنواع السمات:**
  - اختيار واحد (مثل: اللون)
  - اختيار متعدد
  - نص حر
  - رقم
  - نعم/لا
- **المميزات:**
  - إمكانية الفلترة
  - ترتيب السمات
  - دعم الألوان والصور للقيم

##### FR-008: إدارة التنويعات
- **الوصف:** إدارة تنويعات المنتج (ألوان، أحجام، إلخ)
- **المدخلات:**
  - تركيب السمات
  - السعر
  - المخزون
  - الصورة الخاصة
- **المميزات:**
  - SKU فريد لكل تنويعة
  - تتبع المخزون
  - تحذيرات المخزون المنخفض

#### 3.3 نظام السلة والطلبات (Cart & Order System)

##### FR-009: إدارة سلة التسوق
- **الوصف:** سلة تسوق ذكية مع حفظ تلقائي
- **المميزات:**
  - دعم المستخدمين المسجلين والزوار
  - حفظ السلة تلقائياً
  - حساب الأسعار والخصومات
  - دعم الكوبونات
  - انتهاء صلاحية السلة

##### FR-010: عملية إنشاء الطلب
- **الوصف:** تحويل السلة إلى طلب نهائي
- **الخطوات:**
  1. مراجعة العناصر
  2. اختيار العنوان
  3. اختيار طريقة الدفع
  4. اختيار طريقة الشحن
  5. تأكيد الطلب
- **المخرجات:** طلب جديد مع رقم طلب فريد

##### FR-011: تتبع حالة الطلب
- **الوصف:** نظام تتبع شامل لحالة الطلبات
- **الحالات:**
  - مسودة (draft)
  - في انتظار الدفع (pending_payment)
  - مؤكد (confirmed)
  - قيد المعالجة (processing)
  - جاهز للشحن (ready_to_ship)
  - تم الشحن (shipped)
  - في الطريق للتوصيل (out_for_delivery)
  - تم التسليم (delivered)
  - مكتمل (completed)
  - ملغي (cancelled)
  - مسترد (refunded)

##### FR-012: إدارة الإرجاع والاسترداد
- **الوصف:** نظام شامل للإرجاع والاسترداد
- **المميزات:**
  - طلب إرجاع من العميل
  - موافقة الإدارة
  - معالجة الاسترداد
  - تتبع حالة الإرجاع

#### 3.4 نظام الدفع (Payment System)

##### FR-013: طرق الدفع المتعددة
- **الطرق المدعومة:**
  - الدفع نقداً عند الاستلام (COD)
  - الدفع الإلكتروني (بطاقات الائتمان)
  - المحفظة الإلكترونية
  - التحويل البنكي
- **المميزات:**
  - تشفير بيانات الدفع
  - سجل المعاملات
  - إشعارات الدفع

##### FR-014: إدارة الكوبونات والعروض
- **الوصف:** نظام كوبونات وعروض ترويجية متقدم
- **أنواع الكوبونات:**
  - نسبة مئوية
  - مبلغ ثابت
  - شحن مجاني
- **الشروط:**
  - حد أدنى للطلب
  - فترة صلاحية
  - عدد مرات الاستخدام
  - فئات منتجات محددة

#### 3.5 إدارة المخزون (Inventory Management)

##### FR-015: تتبع المخزون
- **الوصف:** نظام تتبع شامل للمخزون
- **المميزات:**
  - تتبع الكمية المتاحة
  - تحذيرات المخزون المنخفض
  - سجل حركة المخزون
  - إدارة الموردين

##### FR-016: إدارة الحجوزات
- **الوصف:** نظام حجز للمنتجات المطلوبة بشدة
- **المميزات:**
  - حجز مؤقت للعملاء
  - انتهاء صلاحية الحجز
  - إشعارات انتهاء الحجز

#### 3.6 نظام الدعم الفني (Support System)

##### FR-017: تذاكر الدعم
- **الوصف:** نظام تذاكر متكامل لدعم العملاء
- **المميزات:**
  - إنشاء تذكرة جديدة
  - تصنيف المشاكل
  - تخصيص الدعم
  - الردود الجاهزة
  - تتبع حالة التذكرة

##### FR-018: نظام الإشعارات
- **الوصف:** نظام إشعارات متعدد القنوات
- **القنوات:**
  - الإشعارات في التطبيق
  - البريد الإلكتروني
  - الرسائل النصية
  - الإشعارات الفورية
- **أنواع الإشعارات:**
  - تحديثات الطلبات
  - عروض خاصة
  - إشعارات المخزون
  - رسائل الدعم

#### 3.7 نظام التقارير والإحصائيات (Reports & Analytics)

##### FR-019: تقارير المبيعات
- **الوصف:** تقارير شاملة للمبيعات
- **أنواع التقارير:**
  - مبيعات يومية/شهرية/سنوية
  - تقارير المنتجات الأكثر مبيعاً
  - تقارير العملاء
  - تقارير المناطق الجغرافية

##### FR-020: إحصائيات الأداء
- **الوصف:** لوحة تحكم بالإحصائيات الرئيسية
- **المؤشرات:**
  - إجمالي المبيعات
  - عدد الطلبات
  - عدد العملاء
  - معدل التحويل
  - متوسط قيمة الطلب

#### 3.8 نظام المفضلات (Favorites System)

##### FR-021: إدارة المفضلات
- **الوصف:** نظام مفضلات للمنتجات
- **المميزات:**
  - دعم المستخدمين المسجلين والزوار
  - مزامنة المفضلات عند التسجيل
  - تنظيم المفضلات بالوسوم
  - إحصائيات المشاهدات

#### 3.9 إدارة العناوين (Address Management)

##### FR-022: إدارة عناوين العملاء
- **الوصف:** نظام شامل لإدارة عناوين العملاء
- **المميزات:**
  - عناوين متعددة لكل عميل
  - عنوان افتراضي
  - دعم الإحداثيات الجغرافية
  - سجل استخدام العناوين
  - أنواع العناوين (منزل، عمل، أخرى)

#### 3.10 إدارة المحتوى (Content Management)

##### FR-023: إدارة الوسائط
- **الوصف:** نظام إدارة شامل للملفات والصور
- **المميزات:**
  - رفع وتنظيم الصور
  - تصنيف الملفات
  - ضغط الصور تلقائياً
  - حماية الملفات
  - سجل الاستخدام

##### FR-024: إدارة البانرات والإعلانات
- **الوصف:** نظام إدارة البانرات والعروض الإعلانية
- **المميزات:**
  - بانرات متعددة المواضع
  - جدولة ظهور البانرات
  - إحصائيات المشاهدات
  - تتبع النقرات

### 4. المتطلبات غير الوظيفية

#### 4.1 الأداء
- وقت الاستجابة أقل من 3 ثوانٍ
- دعم 1000 مستخدم متزامن
- توفر النظام 99.5% من الوقت

#### 4.2 الأمان
- تشفير كلمات المرور
- حماية من SQL Injection
- التحقق من الصلاحيات
- سجل العمليات الأمنية

#### 4.3 التوافقية
- دعم المتصفحات الحديثة
- استجابة كاملة للأجهزة المحمولة
- دعم اللغة العربية والإنجليزية

### 5. قواعد البيانات

#### 5.1 الجداول الرئيسية
- Users (المستخدمين)
- Products (المنتجات)
- Categories (التصنيفات)
- Variants (التنويعات)
- Orders (الطلبات)
- Cart (السلة)
- Addresses (العناوين)
- Media (الوسائط)

#### 5.2 العلاقات
- علاقات One-to-Many بين المستخدمين والطلبات
- علاقات Many-to-Many بين المنتجات والسمات
- علاقات هرمية في التصنيفات

### 6. واجهات النظام

#### 6.1 واجهة المستخدم
- واجهة ويب متجاوبة
- تطبيق جوال (PWA)
- لوحة تحكم إدارية

#### 6.2 واجهات البرمجة (APIs)
- RESTful APIs
- GraphQL (اختياري)
- WebSocket للتنبيهات الفورية

### 7. التكاملات الخارجية

#### 7.1 خدمات الدفع
- Moyasar
- Stripe
- PayPal

#### 7.2 خدمات الشحن
- شركات الشحن المحلية
- APIs لتتبع الشحنات

#### 7.3 خدمات الإشعارات
- Firebase Cloud Messaging
- SendGrid للبريد الإلكتروني
- Twilio للرسائل النصية

### 8. الاختبارات

#### 8.1 أنواع الاختبارات
- اختبارات الوحدة (Unit Tests)
- اختبارات التكامل (Integration Tests)
- اختبارات الأداء (Performance Tests)
- اختبارات الأمان (Security Tests)

#### 8.2 معايير القبول
- نجاح 95% من الاختبارات الوظيفية
- اجتياز جميع اختبارات الأمان
- تحقيق متطلبات الأداء

### 9. التدريب والدعم

#### 9.1 تدريب المستخدمين
- دليل المستخدم النهائي
- فيديوهات تعليمية
- جلسات تدريبية للمديرين

#### 9.2 الدعم التقني
- دليل المطورين
- وثائق API
- نظام تتبع المشاكل

### 10. الجدول الزمني

#### المرحلة الأولى (شهور 1-3)
- إدارة المستخدمين
- إدارة المنتجات الأساسية
- سلة التسوق البسيطة

#### المرحلة الثانية (شهور 4-6)
- نظام الطلبات الكامل
- نظام الدفع
- نظام الشحن

#### المرحلة الثالثة (شهور 7-9)
- نظام الدعم الفني
- التقارير والإحصائيات
- التحسينات والأداء

### 11. الموافقات

**من مدير المشروع:** _________________ تاريخ: _________  
**من مدير التطوير:** _________________ تاريخ: _________  
**من مدير الجودة:** _________________ تاريخ: _________
