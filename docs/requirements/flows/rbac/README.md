# تدفقات إدارة الأدوار والصلاحيات (RBAC Flows)

## الملفات المتاحة
- `role-permissions.mmd` - مخطط إدارة الأدوار والصلاحيات

## شرح التدفقات

### 1. التحقق من الهوية
- **الرمز:** استخراج JWT token من الطلب
- **التحقق:** التحقق من صحة الرمز
- **فك التشفير:** استخراج معلومات المستخدم
- **الصلاحية:** التحقق من انتهاء الصلاحية

### 2. التحقق من الصلاحيات
- **الأدوار:** جلب أدوار المستخدم
- **الصلاحيات:** استخراج الصلاحيات المطلوبة
- **المقارنة:** فحص وجود الصلاحية المطلوبة
- **القرار:** السماح أو منع الوصول

### 3. التحكم في الموارد
- **الملكية:** فحص ملكية المستخدم للمورد
- **المشاركة:** فحص صلاحيات المشاركة
- **التقييد:** تطبيق القيود حسب الدور
- **التسجيل:** تسجيل محاولات الوصول

### 4. إدارة الأدوار
- **التعيين:** تعيين أدوار للمستخدمين
- **التعديل:** تعديل الصلاحيات
- **الإلغاء:** إلغاء الأدوار
- **التحديث:** تحديث ذاكرة التخزين المؤقت

## نقاط مهمة
- نظام أدوار مرن ومتعدد المستويات
- صلاحيات مخصصة لكل دور
- حماية على مستوى الموارد
- تسجيل شامل للوصول
- ذاكرة تخزين مؤقت للأداء
