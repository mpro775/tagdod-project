# تدفقات الوسائط (Media Flows)

## الملفات المتاحة
- `media-upload.mmd` - مخطط رفع وإدارة الوسائط

## شرح التدفقات

### 1. رفع الملفات
- **التحقق:** فحص نوع وحجم الملف
- **الأمان:** فحص الملفات الضارة
- **التخزين:** رفع آمن إلى الخادم
- **التحسين:** ضغط الصور تلقائياً

### 2. إدارة الملفات
- **التسمية:** إنشاء أسماء فريدة للملفات
- **التنظيم:** تصنيف الملفات حسب النوع
- **الربط:** ربط الملفات بالكيانات (منتجات، فئات)
- **التتبع:** تتبع استخدام الملفات

### 3. منع التكرار
- **التجزئة:** إنشاء hash للملف
- **الفحص:** البحث عن ملفات متطابقة
- **إعادة الاستخدام:** استخدام الملف الموجود
- **التحديث:** تحديث عداد الاستخدام

### 4. التنظيف
- **الكشف:** البحث عن ملفات غير مستخدمة
- **التأكيد:** التأكد من عدم الاستخدام
- **الحذف:** حذف الملفات غير المستخدمة
- **التسجيل:** تسجيل عمليات التنظيف

## نقاط مهمة
- دعم أنواع ملفات متعددة (صور، فيديو، مستندات)
- ضغط تلقائي للصور
- حماية من الملفات الضارة
- تتبع استخدام الملفات
- نظام تنظيف تلقائي
