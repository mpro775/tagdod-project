# تدفقات المصادقة (Authentication Flows)

## الملفات المتاحة
- `signup-login.mmd` - مخطط تسجيل المستخدمين وتسجيل الدخول

## شرح التدفقات

### 1. تسجيل مستخدم جديد (Signup)
- **المدخلات:** رقم الهاتف، الاسم، كلمة المرور
- **التحقق:** فحص تفرد رقم الهاتف
- **المعالجة:** تشفير كلمة المرور باستخدام bcrypt
- **النتيجة:** إنشاء مستخدم جديد مع دور "user" وحالة "ACTIVE"

### 2. تسجيل الدخول (Login)
- **المدخلات:** رقم الهاتف، كلمة المرور
- **التحقق:** مقارنة كلمة المرور المشفرة
- **النتيجة:** إصدار JWT token وإرجاع بيانات المستخدم

### 3. إدارة الجلسة (Session Management)
- استخدام JWT tokens للتحقق من الهوية
- تخزين الأدوار والصلاحيات في الـ token
- التحقق من حالة الحساب (نشط/معلق/محذوف)

## نقاط مهمة
- جميع كلمات المرور مشفرة باستخدام bcrypt
- دعم أدوار متعددة: user, moderator, admin, super_admin
- منع تسجيل الدخول للحسابات المعطلة
- نظام soft delete للمستخدمين
