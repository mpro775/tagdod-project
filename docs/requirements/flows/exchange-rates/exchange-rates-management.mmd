%% Exchange Rates Management System
%% View at https://mermaid.live
flowchart TD
  A[إدارة أسعار الصرف] --> B{نوع العملية?}
  B -->|تحديث الأسعار| C[تحديث الأسعار]
  B -->|عرض الأسعار| D[عرض الأسعار الحالية]

  %% Update Rates (Admin Only)
  C --> C1[استلام البيانات الجديدة]
  C1 --> C2[التحقق من الصلاحيات]
  C2 --> C3[حذف الأسعار القديمة]
  C3 --> C4[إنشاء أسعار جديدة]
  C4 --> C5[حفظ تاريخ التحديث]
  C5 --> C6[إرجاع النتيجة]

  %% Display Current Rates
  D --> D1[البحث عن الأسعار الحالية]
  D1 --> D2{وجدت أسعار؟}
  D2 -->|نعم| D3[إرجاع الأسعار الموجودة]
  D2 -->|لا| D4[إنشاء أسعار افتراضية]
  D4 --> D3

  %% Default Rates
  D4 --> D4A[USD-YER: 250]
  D4 --> D4B[USD-SAR: 3.75]
