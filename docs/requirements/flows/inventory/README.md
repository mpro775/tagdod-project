# تدفقات المخزون (Inventory Flows)

## الملفات المتاحة
- `adjustments.mmd` - مخطط تعديلات المخزون

## شرح التدفقات

### 1. حجز المخزون (Reservation)
- **الوقت:** عند إضافة المنتج للسلة
- **الكمية:** تقليل الكمية المتاحة
- **المدة:** حجز مؤقت لمدة 15 دقيقة
- **التجديد:** تلقائياً عند النشاط في السلة

### 2. تأكيد المخزون (Commitment)
- **الوقت:** عند نجاح الدفع
- **الإجراء:** تحويل الحجز إلى بيع فعلي
- **التحديث:** تقليل المخزون الفعلي
- **السجل:** تسجيل الحركة في سجل المخزون

### 3. إرجاع المخزون (Return)
- **أسباب الإرجاع:**
  - فشل الدفع
  - إلغاء الطلب
  - إرجاع المنتج من العميل
- **المعالجة:** زيادة الكمية المتاحة
- **التسجيل:** تسجيل سبب الإرجاع

### 4. تحذيرات المخزون المنخفض
- **العتبة:** حد أدنى لكل منتج
- **التنبيه:** إشعار الإدارة عند الوصول للعتبة
- **الإجراءات:** إعادة طلب أو إيقاف البيع

### 5. سجل حركات المخزون
- **السجل:** تسجيل جميع العمليات
- **المعلومات:** الكمية، النوع، السبب، التاريخ
- **التتبع:** إمكانية تتبع المخزون عبر الوقت

## نقاط مهمة
- تتبع دقيق للمخزون في الوقت الفعلي
- منع البيع عند نفاد المخزون
- تحذيرات تلقائية للمخزون المنخفض
- سجل شامل لجميع الحركات
- دعم المخزون السالب (Backorder) حسب الإعدادات
