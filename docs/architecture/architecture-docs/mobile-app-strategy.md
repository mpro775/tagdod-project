# ğŸ“± Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù‡Ø§ØªÙ - Mobile App Strategy

## Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©
Ù‡Ø°Ù‡ Ø§Ù„ÙˆØ«ÙŠÙ‚Ø© ØªÙˆØ¶Ø­ Ø§Ù„Ø®Ø·Ø© Ø§Ù„ÙƒØ§Ù…Ù„Ø© Ù„ØªØ·ÙˆÙŠØ± ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„Ù‡Ø§ØªÙ (iOS + Android) Ù„Ù†Ø¸Ø§Ù… ØªØ§Ø¬Ø§ Ø¯ÙˆØ¯Ùˆ.

---

## ğŸ¯ Ø§Ù„Ø£Ù‡Ø¯Ø§Ù

### Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
- âœ… ØªØ·Ø¨ÙŠÙ‚ ÙˆØ§Ø­Ø¯ Ù„Ù„Ø¹Ù…Ù„Ø§Ø¡ (Customer App)
- âœ… ØªØ¬Ø±Ø¨Ø© Ù…Ø³ØªØ®Ø¯Ù… Ø³Ù„Ø³Ø© ÙˆÙ…ØªÙ†Ø§Ø³Ù‚Ø©
- âœ… Ø¯Ø¹Ù… ÙƒØ§Ù…Ù„ Ù„Ù„Ø¹Ø±Ø¨ÙŠØ© (RTL)
- âœ… Ø£Ø¯Ø§Ø¡ Ø¹Ø§Ù„ÙŠ ÙˆØ³Ø±ÙŠØ¹
- âœ… Offline-first Ø¹Ù†Ø¯ Ø§Ù„Ø¥Ù…ÙƒØ§Ù†

### Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠØ©
- ğŸ”„ ØªØ·Ø¨ÙŠÙ‚ Ù„Ù„Ù…Ù‡Ù†Ø¯Ø³ÙŠÙ† (Engineer App)
- ğŸ”„ Widget Ù„Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
- ğŸ”„ Apple Watch / Wear OS support
- ğŸ”„ Deep Linking
- ğŸ”„ App Clips / Instant Apps

---

## ğŸ› ï¸ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ØªÙ‚Ù†ÙŠØ©

### Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©

#### 1. React Native âœ… (Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ù…ÙØ¶Ù„)

**Ø§Ù„Ù…Ø²Ø§ÙŠØ§:**
- âœ… Ù†ÙØ³ Ù„ØºØ© Ø§Ù„Ù€ Backend (TypeScript/JavaScript)
- âœ… Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„ÙƒÙˆØ¯ Ø¨ÙŠÙ† iOS Ùˆ Android (~90%)
- âœ… Hot Reload Ù„Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ø³Ø±ÙŠØ¹
- âœ… Ù…Ø¬ØªÙ…Ø¹ Ø¶Ø®Ù… ÙˆÙ†Ø´Ø·
- âœ… Libraries ÙƒØ«ÙŠØ±Ø©
- âœ… Expo Ù„Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ø³Ø±ÙŠØ¹
- âœ… Performance Ø¬ÙŠØ¯ (Ù‚Ø±ÙŠØ¨ Ù…Ù† Native)

**Ø§Ù„Ø¹ÙŠÙˆØ¨:**
- âš ï¸ Ø¨Ø¹Ø¶ Ø§Ù„Ù…ÙŠØ²Ø§Øª ØªØ­ØªØ§Ø¬ Native Modules
- âš ï¸ Ø­Ø¬Ù… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø£ÙƒØ¨Ø± Ù‚Ù„ÙŠÙ„Ø§Ù‹

**Stack Ø§Ù„Ù…Ù‚ØªØ±Ø­:**
```typescript
Framework: React Native
Language: TypeScript
State Management: Zustand / Redux Toolkit
Navigation: React Navigation
UI Library: React Native Paper / NativeBase
API Client: Axios / React Query
Storage: AsyncStorage / SecureStore
Push Notifications: Firebase Cloud Messaging
Analytics: Firebase Analytics
Crash Reporting: Firebase Crashlytics
```

---

#### 2. Flutter

**Ø§Ù„Ù…Ø²Ø§ÙŠØ§:**
- âœ… Ø£Ø¯Ø§Ø¡ Ù…Ù…ØªØ§Ø² (Compiled to native)
- âœ… UI Ø¬Ù…ÙŠÙ„Ø© Ø¬Ø¯Ø§Ù‹
- âœ… Widget-based architecture
- âœ… Ù…Ø¯Ø¹ÙˆÙ… Ù…Ù† Google

**Ø§Ù„Ø¹ÙŠÙˆØ¨:**
- âš ï¸ Ù„ØºØ© Ù…Ø®ØªÙ„ÙØ© (Dart)
- âš ï¸ Ù…Ø¬ØªÙ…Ø¹ Ø£ØµØºØ± Ù…Ù† React Native
- âš ï¸ Ø§Ù„ÙØ±ÙŠÙ‚ ÙŠØ­ØªØ§Ø¬ ØªØ¹Ù„Ù… Ù„ØºØ© Ø¬Ø¯ÙŠØ¯Ø©

---

#### 3. Native (Swift + Kotlin)

**Ø§Ù„Ù…Ø²Ø§ÙŠØ§:**
- âœ… Ø£ÙØ¶Ù„ Ø£Ø¯Ø§Ø¡ Ù…Ù…ÙƒÙ†
- âœ… Ø§Ù„ÙˆØµÙˆÙ„ Ù„ÙƒÙ„ Ù…ÙŠØ²Ø§Øª Ø§Ù„Ù…Ù†ØµØ©
- âœ… ØªØ¬Ø±Ø¨Ø© Ù…Ø³ØªØ®Ø¯Ù… Ø£ØµÙ„ÙŠØ© 100%

**Ø§Ù„Ø¹ÙŠÙˆØ¨:**
- âŒ ØªØ·ÙˆÙŠØ±ÙŠÙ† Ù…Ù†ÙØµÙ„ÙŠÙ† ØªÙ…Ø§Ù…Ø§Ù‹
- âŒ ØªÙƒÙ„ÙØ© Ø£Ø¹Ù„Ù‰ (2x development)
- âŒ ÙˆÙ‚Øª Ø£Ø·ÙˆÙ„

---

### Ø§Ù„Ù‚Ø±Ø§Ø± Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ: React Native âœ…

**Ø§Ù„Ø£Ø³Ø¨Ø§Ø¨:**
1. ÙØ±ÙŠÙ‚ ÙˆØ§Ø­Ø¯ Ù„Ù„Ù€ Backend ÙˆØ§Ù„Ù€ Mobile
2. Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„ÙƒÙˆØ¯ ÙˆØ§Ù„Ù€ logic
3. ØªØ·ÙˆÙŠØ± Ø£Ø³Ø±Ø¹ (MVP ÙÙŠ 2-3 Ø£Ø´Ù‡Ø±)
4. ØªÙƒÙ„ÙØ© Ø£Ù‚Ù„
5. Ù…Ù†Ø§Ø³Ø¨ Ù„Ø­Ø¬Ù… Ø§Ù„Ù…Ø´Ø±ÙˆØ¹

---

## ğŸ“ Ù…Ø¹Ù…Ø§Ø±ÙŠØ© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚

### Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹

```
mobile-app/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/                    # API calls
â”‚   â”‚   â”œâ”€â”€ client.ts
â”‚   â”‚   â”œâ”€â”€ auth.ts
â”‚   â”‚   â”œâ”€â”€ products.ts
â”‚   â”‚   â””â”€â”€ orders.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ components/             # Ù…ÙƒÙˆÙ†Ø§Øª Ù‚Ø§Ø¨Ù„Ø© Ù„Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…
â”‚   â”‚   â”œâ”€â”€ common/
â”‚   â”‚   â”‚   â”œâ”€â”€ Button.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Card.tsx
â”‚   â”‚   â”‚   â””â”€â”€ Input.tsx
â”‚   â”‚   â”œâ”€â”€ product/
â”‚   â”‚   â”‚   â”œâ”€â”€ ProductCard.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ProductList.tsx
â”‚   â”‚   â””â”€â”€ cart/
â”‚   â”‚       â””â”€â”€ CartItem.tsx
â”‚   â”‚
â”‚   â”œâ”€â”€ screens/                # Ø§Ù„Ø´Ø§Ø´Ø§Øª
â”‚   â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”‚   â”œâ”€â”€ LoginScreen.tsx
â”‚   â”‚   â”‚   â””â”€â”€ OTPScreen.tsx
â”‚   â”‚   â”œâ”€â”€ home/
â”‚   â”‚   â”‚   â””â”€â”€ HomeScreen.tsx
â”‚   â”‚   â”œâ”€â”€ products/
â”‚   â”‚   â”‚   â”œâ”€â”€ ProductListScreen.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ProductDetailScreen.tsx
â”‚   â”‚   â”œâ”€â”€ cart/
â”‚   â”‚   â”‚   â””â”€â”€ CartScreen.tsx
â”‚   â”‚   â”œâ”€â”€ checkout/
â”‚   â”‚   â”‚   â””â”€â”€ CheckoutScreen.tsx
â”‚   â”‚   â””â”€â”€ profile/
â”‚   â”‚       â””â”€â”€ ProfileScreen.tsx
â”‚   â”‚
â”‚   â”œâ”€â”€ navigation/             # Ø§Ù„ØªÙ†Ù‚Ù„
â”‚   â”‚   â”œâ”€â”€ AppNavigator.tsx
â”‚   â”‚   â”œâ”€â”€ AuthNavigator.tsx
â”‚   â”‚   â””â”€â”€ MainNavigator.tsx
â”‚   â”‚
â”‚   â”œâ”€â”€ store/                  # State Management
â”‚   â”‚   â”œâ”€â”€ authStore.ts
â”‚   â”‚   â”œâ”€â”€ cartStore.ts
â”‚   â”‚   â””â”€â”€ productsStore.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ hooks/                  # Custom Hooks
â”‚   â”‚   â”œâ”€â”€ useAuth.ts
â”‚   â”‚   â”œâ”€â”€ useCart.ts
â”‚   â”‚   â””â”€â”€ useProducts.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ services/               # Services
â”‚   â”‚   â”œâ”€â”€ storage.ts
â”‚   â”‚   â”œâ”€â”€ notifications.ts
â”‚   â”‚   â””â”€â”€ analytics.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/                  # Utilities
â”‚   â”‚   â”œâ”€â”€ formatters.ts
â”‚   â”‚   â”œâ”€â”€ validators.ts
â”‚   â”‚   â””â”€â”€ constants.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ i18n/                   # Ø§Ù„ØªØ±Ø¬Ù…Ø§Øª
â”‚   â”‚   â”œâ”€â”€ ar.json
â”‚   â”‚   â””â”€â”€ en.json
â”‚   â”‚
â”‚   â”œâ”€â”€ types/                  # TypeScript Types
â”‚   â”‚   â”œâ”€â”€ api.ts
â”‚   â”‚   â””â”€â”€ models.ts
â”‚   â”‚
â”‚   â””â”€â”€ App.tsx                 # Entry point
â”‚
â”œâ”€â”€ android/                    # Android native
â”œâ”€â”€ ios/                        # iOS native
â”œâ”€â”€ assets/                     # Ø§Ù„ØµÙˆØ± ÙˆØ§Ù„Ù…Ù„ÙØ§Øª
â””â”€â”€ app.json                    # Config
```

---

## ğŸ¨ Ø§Ù„ØªØµÙ…ÙŠÙ… ÙˆØ§Ù„Ù€ UI/UX

### Design System

```typescript
// colors.ts
export const colors = {
  primary: '#FF6B35',      // Ø§Ù„Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ (Ø§Ù„Ø·Ø§Ù‚Ø© Ø§Ù„Ø´Ù…Ø³ÙŠØ©)
  secondary: '#004E89',    // Ø§Ù„Ø£Ø²Ø±Ù‚ (Ø§Ù„Ø«Ù‚Ø©)
  success: '#06D6A0',
  warning: '#FFD23F',
  error: '#EF476F',
  
  // Neutrals
  background: '#F7F7F7',
  card: '#FFFFFF',
  text: '#1A1A1A',
  textSecondary: '#666666',
  border: '#E0E0E0',
};

// typography.ts
export const typography = {
  h1: {
    fontFamily: 'Cairo-Bold',
    fontSize: 28,
    lineHeight: 36,
  },
  h2: {
    fontFamily: 'Cairo-Bold',
    fontSize: 24,
    lineHeight: 32,
  },
  body: {
    fontFamily: 'Cairo-Regular',
    fontSize: 16,
    lineHeight: 24,
  },
  caption: {
    fontFamily: 'Cairo-Regular',
    fontSize: 12,
    lineHeight: 16,
  },
};

// spacing.ts
export const spacing = {
  xs: 4,
  sm: 8,
  md: 16,
  lg: 24,
  xl: 32,
  xxl: 48,
};
```

### Fonts
```
Primary: Cairo (Ù„Ù„Ø¹Ø±Ø¨ÙŠØ©)
Secondary: Inter (Ù„Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©)
```

### RTL Support
```typescript
// ÙÙŠ ÙƒÙ„ screen
import { I18nManager } from 'react-native';

// ØªÙØ¹ÙŠÙ„ RTL
I18nManager.forceRTL(true);
I18nManager.allowRTL(true);

// ÙÙŠ Ø§Ù„Ù€ styles
const styles = StyleSheet.create({
  container: {
    flexDirection: I18nManager.isRTL ? 'row-reverse' : 'row',
  },
});
```

---

## ğŸ”Œ Ø§Ù„ØªÙƒØ§Ù…Ù„ Ù…Ø¹ Backend API

### API Client Setup

```typescript
// api/client.ts
import axios from 'axios';
import AsyncStorage from '@react-native-async-storage/async-storage';

const apiClient = axios.create({
  baseURL: 'https://api.tagadodo.com',
  timeout: 10000,
  headers: {
    'Content-Type': 'application/json',
  },
});

// Request Interceptor - Ø¥Ø¶Ø§ÙØ© Token
apiClient.interceptors.request.use(
  async (config) => {
    const token = await AsyncStorage.getItem('access_token');
    if (token) {
      config.headers.Authorization = `Bearer ${token}`;
    }
    
    // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù„ØºØ©
    const language = await AsyncStorage.getItem('language');
    config.headers['Accept-Language'] = language || 'ar';
    
    return config;
  },
  (error) => Promise.reject(error)
);

// Response Interceptor - Refresh Token
apiClient.interceptors.response.use(
  (response) => response,
  async (error) => {
    const originalRequest = error.config;
    
    // Ø¥Ø°Ø§ Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„Ù€ Token
    if (error.response?.status === 401 && !originalRequest._retry) {
      originalRequest._retry = true;
      
      try {
        const refreshToken = await AsyncStorage.getItem('refresh_token');
        const { data } = await axios.post('/auth/refresh', {
          refreshToken
        });
        
        // Ø­ÙØ¸ Tokens Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
        await AsyncStorage.setItem('access_token', data.accessToken);
        await AsyncStorage.setItem('refresh_token', data.refreshToken);
        
        // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©
        originalRequest.headers.Authorization = `Bearer ${data.accessToken}`;
        return apiClient(originalRequest);
      } catch (refreshError) {
        // ÙØ´Ù„ Ø§Ù„Ù€ refresh = ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬
        await AsyncStorage.clear();
        // Navigate to login
        return Promise.reject(refreshError);
      }
    }
    
    return Promise.reject(error);
  }
);

export default apiClient;
```

---

## ğŸ’¾ Offline Support

### Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Offline-First

```mermaid
graph TB
    Request[Ø·Ù„Ø¨ API]
    
    Request --> Check[ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø§ØªØµØ§Ù„]
    
    Check -->|Online| API[Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ API]
    Check -->|Offline| Cache[Ù‚Ø±Ø§Ø¡Ø© Ù…Ù† Cache]
    
    API --> Success{Ù†Ø¬Ø­ØŸ}
    Success -->|Yes| SaveCache[Ø­ÙØ¸ ÙÙŠ Cache]
    Success -->|No| Error[Ø®Ø·Ø£]
    
    SaveCache --> Return[Ø¥Ø±Ø¬Ø§Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª]
    Cache --> Return
    
    Error --> TryCache[Ù…Ø­Ø§ÙˆÙ„Ø© Cache]
    TryCache --> Return

    classDef online fill:#e8f5e9,stroke:#388e3c
    classDef offline fill:#fff3e0,stroke:#f57c00

    class API,SaveCache online
    class Cache,TryCache offline
```

### Ø§Ù„ØªÙ†ÙÙŠØ°

```typescript
// services/storage.ts
import AsyncStorage from '@react-native-async-storage/async-storage';

class OfflineStorage {
  // Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
  async save(key: string, data: any, ttl?: number) {
    const item = {
      data,
      timestamp: Date.now(),
      ttl: ttl || 3600000, // 1 Ø³Ø§Ø¹Ø© Ø§ÙØªØ±Ø§Ø¶ÙŠØ§Ù‹
    };
    await AsyncStorage.setItem(key, JSON.stringify(item));
  }
  
  // Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
  async get(key: string) {
    const item = await AsyncStorage.getItem(key);
    if (!item) return null;
    
    const parsed = JSON.parse(item);
    
    // ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©
    if (Date.now() - parsed.timestamp > parsed.ttl) {
      await AsyncStorage.removeItem(key);
      return null;
    }
    
    return parsed.data;
  }
  
  // Ø­Ø°Ù Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
  async remove(key: string) {
    await AsyncStorage.removeItem(key);
  }
}

export default new OfflineStorage();
```

### Ù…Ø§ ÙŠÙØ®Ø²Ù† Offline

```typescript
// Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªÙŠ ÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡Ø§ offline
{
  products: true,        // Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª (read-only)
  categories: true,      // Ø§Ù„ÙØ¦Ø§Øª (read-only)
  cart: true,            // Ø§Ù„Ø³Ù„Ø© (ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ offline)
  favorites: true,       // Ø§Ù„Ù…ÙØ¶Ù„Ø© (ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ offline)
  profile: true,         // Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ (read-only)
  orders: true,          // Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© (read-only)
}

// Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªÙŠ ØªØ­ØªØ§Ø¬ online
{
  checkout: false,       // Ø§Ù„Ø´Ø±Ø§Ø¡
  payment: false,        // Ø§Ù„Ø¯ÙØ¹
  otp: false,           // OTP
}
```

### Ù…Ø²Ø§Ù…Ù†Ø© Ø¹Ù†Ø¯ Ø§Ù„Ø¹ÙˆØ¯Ø© Online

```typescript
// hooks/useNetworkSync.ts
import NetInfo from '@react-native-community/netinfo';

export function useNetworkSync() {
  useEffect(() => {
    const unsubscribe = NetInfo.addEventListener(state => {
      if (state.isConnected) {
        // Ø¹Ø§Ø¯ Ø§Ù„Ø§ØªØµØ§Ù„ - Ù…Ø²Ø§Ù…Ù†Ø©
        syncPendingActions();
      }
    });
    
    return () => unsubscribe();
  }, []);
  
  async function syncPendingActions() {
    // 1. Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„Ù…Ø¹Ù„Ù‚Ø©
    const pendingActions = await storage.get('pending_actions');
    if (pendingActions) {
      for (const action of pendingActions) {
        try {
          await executeAction(action);
        } catch (error) {
          // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø·Ø£
        }
      }
      await storage.remove('pending_actions');
    }
    
    // 2. ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©
    await refreshLocalData();
  }
}
```

---

## ğŸ”” Push Notifications

### Ø¥Ø¹Ø¯Ø§Ø¯ Firebase Cloud Messaging

```typescript
// services/notifications.ts
import messaging from '@react-native-firebase/messaging';
import AsyncStorage from '@react-native-async-storage/async-storage';

class NotificationService {
  async init() {
    // Ø·Ù„Ø¨ Ø§Ù„Ø¥Ø°Ù†
    const authStatus = await messaging().requestPermission();
    const enabled =
      authStatus === messaging.AuthorizationStatus.AUTHORIZED ||
      authStatus === messaging.AuthorizationStatus.PROVISIONAL;
    
    if (enabled) {
      // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ FCM Token
      const fcmToken = await messaging().getToken();
      await this.saveFCMToken(fcmToken);
      
      // Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹ Ù„Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
      this.setupListeners();
    }
  }
  
  async saveFCMToken(token: string) {
    await AsyncStorage.setItem('fcm_token', token);
    // Ø¥Ø±Ø³Ø§Ù„ Token Ù„Ù„Ù€ Backend
    await apiClient.post('/users/fcm-token', { token });
  }
  
  setupListeners() {
    // Ø¥Ø´Ø¹Ø§Ø± Ø¹Ù†Ø¯ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù…ÙØªÙˆØ­
    messaging().onMessage(async remoteMessage => {
      console.log('Foreground notification:', remoteMessage);
      // Ø¹Ø±Ø¶ notification Ù…Ø­Ù„ÙŠ
      this.showLocalNotification(remoteMessage);
    });
    
    // Ø¥Ø´Ø¹Ø§Ø± Ø¹Ù†Ø¯ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù…ØºÙ„Ù‚/background
    messaging().setBackgroundMessageHandler(async remoteMessage => {
      console.log('Background notification:', remoteMessage);
    });
    
    // Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±
    messaging().onNotificationOpenedApp(remoteMessage => {
      console.log('Notification opened app:', remoteMessage);
      this.handleNotificationNavigation(remoteMessage);
    });
    
    // Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù…Ù† Ø¥Ø´Ø¹Ø§Ø± (killed state)
    messaging()
      .getInitialNotification()
      .then(remoteMessage => {
        if (remoteMessage) {
          this.handleNotificationNavigation(remoteMessage);
        }
      });
  }
  
  handleNotificationNavigation(message: any) {
    // Ø§Ù„ØªÙ†Ù‚Ù„ Ø­Ø³Ø¨ Ù†ÙˆØ¹ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±
    const { type, orderId } = message.data;
    
    switch (type) {
      case 'order_update':
        navigate('OrderDetail', { orderId });
        break;
      case 'promotion':
        navigate('Promotions');
        break;
      // ...
    }
  }
  
  showLocalNotification(message: any) {
    // Ø¹Ø±Ø¶ notification Ø¯Ø§Ø®Ù„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
    // Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… library Ù…Ø«Ù„ react-native-notifications
  }
}

export default new NotificationService();
```

---

## ğŸ” Ø§Ù„Ø£Ù…Ø§Ù†

### 1. Secure Storage

```typescript
// Ù„Ù„Ù€ Tokens
import * as SecureStore from 'expo-secure-store';

// Ø­ÙØ¸
await SecureStore.setItemAsync('access_token', token);

// Ù‚Ø±Ø§Ø¡Ø©
const token = await SecureStore.getItemAsync('access_token');
```

### 2. Certificate Pinning

```typescript
// Ù…Ù†Ø¹ Man-in-the-Middle attacks
// react-native-ssl-pinning
import { fetch } from 'react-native-ssl-pinning';

fetch('https://api.tagadodo.com/products', {
  method: 'GET',
  sslPinning: {
    certs: ['cert-hash-1', 'cert-hash-2'],
  }
});
```

### 3. Biometric Authentication

```typescript
// hooks/useBiometric.ts
import * as LocalAuthentication from 'expo-local-authentication';

export function useBiometric() {
  async function authenticate() {
    // ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¯Ø¹Ù…
    const hasHardware = await LocalAuthentication.hasHardwareAsync();
    const isEnrolled = await LocalAuthentication.isEnrolledAsync();
    
    if (!hasHardware || !isEnrolled) {
      return false;
    }
    
    // Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©
    const result = await LocalAuthentication.authenticateAsync({
      promptMessage: 'ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„',
      fallbackLabel: 'Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø³Ø±ÙŠ',
      cancelLabel: 'Ø¥Ù„ØºØ§Ø¡',
    });
    
    return result.success;
  }
  
  return { authenticate };
}
```

---

## ğŸ“Š Analytics & Tracking

```typescript
// services/analytics.ts
import analytics from '@react-native-firebase/analytics';

class AnalyticsService {
  // ØªØªØ¨Ø¹ Ø§Ù„Ø´Ø§Ø´Ø§Øª
  async logScreen(screenName: string) {
    await analytics().logScreenView({
      screen_name: screenName,
      screen_class: screenName,
    });
  }
  
  // ØªØªØ¨Ø¹ Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
  async logEvent(eventName: string, params?: object) {
    await analytics().logEvent(eventName, params);
  }
  
  // Ø£Ø­Ø¯Ø§Ø« E-commerce
  async logViewProduct(product: Product) {
    await analytics().logViewItem({
      items: [{
        item_id: product.id,
        item_name: product.name,
        price: product.price,
      }],
    });
  }
  
  async logAddToCart(product: Product, quantity: number) {
    await analytics().logAddToCart({
      items: [{
        item_id: product.id,
        item_name: product.name,
        price: product.price,
        quantity,
      }],
    });
  }
  
  async logPurchase(order: Order) {
    await analytics().logPurchase({
      transaction_id: order.id,
      value: order.total,
      currency: 'SAR',
      items: order.items.map(item => ({
        item_id: item.productId,
        item_name: item.name,
        price: item.price,
        quantity: item.quantity,
      })),
    });
  }
}

export default new AnalyticsService();
```

---

## ğŸš€ Ø§Ù„Ø¨Ù†Ø§Ø¡ ÙˆØ§Ù„Ù†Ø´Ø±

### iOS (App Store)

```bash
# 1. Ø§Ù„Ø¨Ù†Ø§Ø¡
cd ios
pod install
cd ..
npx react-native run-ios --configuration Release

# 2. Archive ÙÙŠ Xcode
# Product > Archive

# 3. Upload to App Store Connect
# Distribute App > App Store Connect

# 4. Submit for Review
# ÙÙŠ App Store Connect
```

### Android (Google Play)

```bash
# 1. ØªÙˆÙ„ÙŠØ¯ Signing Key
keytool -genkeypair -v -storetype PKCS12 \
  -keystore tagadodo.keystore \
  -alias tagadodo \
  -keyalg RSA \
  -keysize 2048 \
  -validity 10000

# 2. Ø¥Ø¹Ø¯Ø§Ø¯ build.gradle
# android/app/build.gradle

# 3. Ø§Ù„Ø¨Ù†Ø§Ø¡
cd android
./gradlew bundleRelease

# 4. Upload Ø¥Ù„Ù‰ Google Play Console
# app/build/outputs/bundle/release/app-release.aab
```

### CI/CD with GitHub Actions

```yaml
# .github/workflows/mobile.yml
name: Mobile CI/CD

on:
  push:
    branches: [main]

jobs:
  build-ios:
    runs-on: macos-latest
    steps:
      - uses: actions/checkout@v3
      - name: Install dependencies
        run: npm install
      - name: Build iOS
        run: npx react-native run-ios --configuration Release
  
  build-android:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Install dependencies
        run: npm install
      - name: Build Android
        run: cd android && ./gradlew bundleRelease
```

---

## ğŸ“ˆ Ø®Ø·Ø© Ø§Ù„ØªØ·ÙˆÙŠØ±

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 1: MVP (2-3 Ø£Ø´Ù‡Ø±)
```
âœ… Ø§Ù„ØªØ³Ø¬ÙŠÙ„ ÙˆØ§Ù„Ø¯Ø®ÙˆÙ„ (OTP)
âœ… ØªØµÙØ­ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
âœ… Ø§Ù„Ø¨Ø­Ø« ÙˆØ§Ù„ÙÙ„ØªØ±Ø©
âœ… Ø³Ù„Ø© Ø§Ù„Ø´Ø±Ø§Ø¡
âœ… Ø§Ù„Ø´Ø±Ø§Ø¡ ÙˆØ§Ù„Ø¯ÙØ¹
âœ… Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ
âœ… Push Notifications Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
```

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 2: Ø§Ù„ØªØ­Ø³ÙŠÙ†Ø§Øª (1-2 Ø´Ù‡Ø±)
```
ğŸ”„ Ø§Ù„Ù…ÙØ¶Ù„Ø©
ğŸ”„ ØªØªØ¨Ø¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª
ğŸ”„ ØªØ§Ø±ÙŠØ® Ø§Ù„Ø·Ù„Ø¨Ø§Øª
ğŸ”„ Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ† Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©
ğŸ”„ Ø·Ù„Ø¨ Ø§Ù„Ø®Ø¯Ù…Ø§Øª
ğŸ”„ Offline Mode
```

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 3: Ù…ÙŠØ²Ø§Øª Ù…ØªÙ‚Ø¯Ù…Ø© (2-3 Ø£Ø´Ù‡Ø±)
```
ğŸ”„ Biometric Login
ğŸ”„ Deep Linking
ğŸ”„ Share Products
ğŸ”„ Reviews & Ratings
ğŸ”„ Referral Program
ğŸ”„ Loyalty Points
```

---

## ğŸ“ Ù…ØªØ·Ù„Ø¨Ø§Øª Ø§Ù„Ù†Ø´Ø±

### App Store (iOS)
```
- Apple Developer Account ($99/Ø³Ù†Ø©)
- Privacy Policy
- Terms of Service
- App Screenshots (Ù…Ø·Ù„ÙˆØ¨)
- App Preview Video (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
- App Description (AR + EN)
- Keywords
- Support URL
- Marketing URL
```

### Google Play (Android)
```
- Google Play Developer Account ($25 Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø©)
- Privacy Policy
- Terms of Service
- Screenshots (Ù…Ø·Ù„ÙˆØ¨)
- Feature Graphic
- App Description (AR + EN)
- Content Rating
```

---

**Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«:** 14 Ø£ÙƒØªÙˆØ¨Ø± 2025  
**Ø§Ù„Ø­Ø§Ù„Ø©:** ğŸ“‹ Ù…Ø®Ø·Ø·  
**Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„:** ÙØ±ÙŠÙ‚ ØªØ·ÙˆÙŠØ± Ø§Ù„Ù‡Ø§ØªÙ

