# ๐ C4 Model - Level 1: System Context

## ูุธุฑุฉ ุนุงูุฉ
ูุฐุง ุงููุณุชูู ููุถุญ **ุงูุณูุงู ุงูุนุงู** ููุธุงู ุชุงุฌุง ุฏูุฏู ูููู ูุชูุงุนู ูุน ุงููุณุชุฎุฏููู ูุงูุฃูุธูุฉ ุงูุฎุงุฑุฌูุฉ.

---

## ๐ฏ ูุฎุทุท ุงูุณูุงู (PlantUML)

```plantuml
@startuml System Context
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Context.puml

LAYOUT_WITH_LEGEND()

title System Context - ูุธุงู ุชุงุฌุง ุฏูุฏู ููุทุงูุฉ ุงูุดูุณูุฉ

' ุงููุณุชุฎุฏููู
Person(customer, "ุงูุนููู", "ูุณุชุฎุฏู ูุชุตูุญ ููุดุชุฑู ููุชุฌุงุช ุงูุทุงูุฉ ุงูุดูุณูุฉ")
Person(admin, "ุงููุฏูุฑ", "ูุฏูุฑ ุงูููุชุฌุงุช ูุงูุทูุจุงุช ูุงููุณุชุฎุฏููู")
Person(engineer, "ุงููููุฏุณ", "ูุฏูุฑ ุฎุฏูุงุช ุงูุชุฑููุจ ูุงูุตูุงูุฉ")
Person(support, "ุงูุฏุนู ุงูููู", "ูุชุงุจุน ุชุฐุงูุฑ ุงูุฏุนู ูุงูุทูุจุงุช")

' ุงููุธุงู ุงูุฑุฆูุณู
System(tagadodo, "ูุธุงู ุชุงุฌุง ุฏูุฏู", "ููุตุฉ ุชุฌุงุฑุฉ ุฅููุชุฑูููุฉ ูุชูุงููุฉ ูุจูุน ูุชุฑููุจ ููุชุฌุงุช ุงูุทุงูุฉ ุงูุดูุณูุฉ")

' ุงูุฃูุธูุฉ ุงูุฎุงุฑุฌูุฉ
System_Ext(payment, "ุจูุงุจุฉ ุงูุฏูุน", "ูุนุงูุฌุฉ ุงููุฏููุนุงุช ุงูุฅููุชุฑูููุฉ (Stripe/PayPal/ูุญูู)")
System_Ext(sms, "ุฎุฏูุฉ SMS", "ุฅุฑุณุงู ุฑุณุงุฆู OTP ูุงูุฅุดุนุงุฑุงุช")
System_Ext(email, "ุฎุฏูุฉ ุงูุจุฑูุฏ", "ุฅุฑุณุงู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู (SendGrid/SES)")
System_Ext(storage, "ุชุฎุฒูู ุงููููุงุช", "S3/Cloudinary ูุชุฎุฒูู ุงูุตูุฑ")
System_Ext(maps, "ุฎุฑุงุฆุท Google", "ุนุฑุถ ุงูููุงูุน ูุญุณุงุจ ุงููุณุงูุงุช")
System_Ext(firebase, "Firebase", "Push Notifications ููุชุทุจูู")

' ุงูุนูุงูุงุช - ุงูุนููุงุก
Rel(customer, tagadodo, "ูุชุตูุญ ุงูููุชุฌุงุชุ ูุถูู ููุณูุฉุ ูุดุชุฑู", "HTTPS/Mobile App")
Rel(admin, tagadodo, "ูุฏูุฑ ุงููุธุงู", "HTTPS/Admin Panel")
Rel(engineer, tagadodo, "ูุฏูุฑ ุงูุฎุฏูุงุช ูุงูููุงุนูุฏ", "HTTPS")
Rel(support, tagadodo, "ูุชุงุจุน ุงูุชุฐุงูุฑ", "HTTPS")

' ุงูุนูุงูุงุช - ุงูุฃูุธูุฉ ุงูุฎุงุฑุฌูุฉ
Rel(tagadodo, payment, "ูุนุงูุฌุฉ ุงูุฏูุน", "REST API/Webhook")
Rel(tagadodo, sms, "ุฅุฑุณุงู OTP/ุฅุดุนุงุฑุงุช", "REST API")
Rel(tagadodo, email, "ุฅุฑุณุงู ุฑุณุงุฆู", "SMTP/REST API")
Rel(tagadodo, storage, "ุฑูุน ูุนุฑุถ ุงูุตูุฑ", "REST API")
Rel(tagadodo, maps, "ุงููููุน ูุงููุณุงูุงุช", "REST API")
Rel(tagadodo, firebase, "Push Notifications", "Firebase SDK")

' ุนูุณ ุงูุนูุงูุงุช
Rel(payment, tagadodo, "ุชุฃููุฏ ุงูุฏูุน", "Webhook")
Rel_Back(sms, tagadodo, "ุญุงูุฉ ุงูุฑุณุงูุฉ", "Callback")

@enduml
```

---

## ๐ฏ ูุฎุทุท ุงูุณูุงู (Mermaid)

```mermaid
graph TB
    subgraph Users["๐ฅ ุงููุณุชุฎุฏููู"]
        Customer["๐ ุงูุนููู<br/>ูุชุตูุญ ููุดุชุฑู"]
        Admin["๐จโ๐ผ ุงููุฏูุฑ<br/>ูุฏูุฑ ุงููุธุงู"]
        Engineer["๐ง ุงููููุฏุณ<br/>ุฎุฏูุงุช ุงูุชุฑููุจ"]
        Support["๐ฌ ุงูุฏุนู ุงูููู<br/>ุชุฐุงูุฑ ุงูุฏุนู"]
    end

    subgraph System["๐ข ูุธุงู ุชุงุฌุง ุฏูุฏู"]
        Tagadodo["ููุตุฉ ุงูุชุฌุงุฑุฉ ุงูุฅููุชุฑูููุฉ<br/>ููุทุงูุฉ ุงูุดูุณูุฉ<br/><br/>โข ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช<br/>โข ุงูุณูุฉ ูุงูุดุฑุงุก<br/>โข ุฅุฏุงุฑุฉ ุงูุทูุจุงุช<br/>โข ุงูุฎุฏูุงุช ูุงูุชุฑููุจ<br/>โข ุงูุชุญูููุงุช<br/>โข ุงูุฏุนู ุงูููู"]
    end

    subgraph External["๐ ุงูุฃูุธูุฉ ุงูุฎุงุฑุฌูุฉ"]
        Payment["๐ณ ุจูุงุจุฉ ุงูุฏูุน<br/>Stripe/PayPal"]
        SMS["๐ฑ ุฎุฏูุฉ SMS<br/>Twilio/ูุญูู"]
        Email["๐ง ุงูุจุฑูุฏ<br/>SendGrid/SES"]
        Storage["๐๏ธ ุชุฎุฒูู ุงููููุงุช<br/>S3/Cloudinary"]
        Maps["๐บ๏ธ Google Maps<br/>ุงูููุงูุน ูุงููุณุงูุงุช"]
        Firebase["๐ Firebase<br/>Push Notifications"]
    end

    %% ุงูุนูุงูุงุช
    Customer -->|"ูุชุตูุญ ููุดุชุฑู<br/>(Web/Mobile)"| Tagadodo
    Admin -->|"ูุฏูุฑ ุงููุธุงู<br/>(Admin Panel)"| Tagadodo
    Engineer -->|"ูุฏูุฑ ุงูุฎุฏูุงุช"| Tagadodo
    Support -->|"ูุชุงุจุน ุงูุชุฐุงูุฑ"| Tagadodo

    Tagadodo -->|"ูุนุงูุฌุฉ ุงูุฏูุน"| Payment
    Tagadodo -->|"OTP ูุฅุดุนุงุฑุงุช"| SMS
    Tagadodo -->|"ุฑุณุงุฆู ุจุฑูุฏูุฉ"| Email
    Tagadodo -->|"ุฑูุน ุงูุตูุฑ"| Storage
    Tagadodo -->|"ุงูููุงูุน"| Maps
    Tagadodo -->|"ุฅุดุนุงุฑุงุช"| Firebase

    Payment -.->|"Webhooks<br/>ุชุฃููุฏ ุงูุฏูุน"| Tagadodo
    SMS -.->|"ุญุงูุฉ ุงูุฑุณุงูุฉ"| Tagadodo

    classDef userClass fill:#e1f5ff,stroke:#01579b,stroke-width:2px
    classDef systemClass fill:#fff3e0,stroke:#e65100,stroke-width:3px
    classDef externalClass fill:#f3e5f5,stroke:#4a148c,stroke-width:2px

    class Customer,Admin,Engineer,Support userClass
    class Tagadodo systemClass
    class Payment,SMS,Email,Storage,Maps,Firebase externalClass
```

---

## ๐ฅ ุงููุณุชุฎุฏููู (Actors)

### 1. ๐ ุงูุนููู (Customer)
**ุงููุตู**: ุงููุณุชุฎุฏู ุงูููุงุฆู ุงูุฐู ูุณุชุฎุฏู ุงููุธุงู ููุดุฑุงุก

**ุงููููุงุช**:
- ๐ ูููุน ุงูููุจ (Web Application)
- ๐ฑ ุชุทุจูู ุงููุงุชู (Mobile App - iOS/Android)

**ุงููุธุงุฆู ุงูุฑุฆูุณูุฉ**:
- โ ุชุตูุญ ุงูููุชุฌุงุช ูุงููุฆุงุช
- โ ุงูุจุญุซ ูุงูููุชุฑุฉ
- โ ุฅุถุงูุฉ ุงูููุชุฌุงุช ููุณูุฉ
- โ ุงูุดุฑุงุก ูุงูุฏูุน ุงูุฅููุชุฑููู
- โ ุชุชุจุน ุงูุทูุจุงุช
- โ ุทูุจ ุฎุฏูุงุช ุงูุชุฑููุจ
- โ ุงูุฏุนู ุงูููู
- โ ุงูููุถูุฉ (Favorites)
- โ ุฅุฏุงุฑุฉ ุงูุนูุงููู
- โ ุนุฑุถ ุงูููุงุชูุฑ

---

### 2. ๐จโ๐ผ ุงููุฏูุฑ (Admin)
**ุงููุตู**: ูุฏูุฑ ุงููุธุงู ุงูุฐู ูุชุญูู ุจูู ุดูุก

**ุงูููุงุฉ**:
- ๐ป ููุญุฉ ุชุญูู ุงูุฅุฏุงุฑุฉ (Admin Panel)

**ุงููุธุงุฆู ุงูุฑุฆูุณูุฉ**:
- โ ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช ูุงููุฆุงุช
- โ ุฅุฏุงุฑุฉ ุงูุทูุจุงุช
- โ ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู ูุงูุตูุงุญูุงุช
- โ ุฅุฏุงุฑุฉ ุงูุฎุฏูุงุช ูุงูููุงุนูุฏ
- โ ุฅุฏุงุฑุฉ ุงูููุจููุงุช ูุงูุนุฑูุถ
- โ ุงูุชุญูููุงุช ูุงูุชูุงุฑูุฑ
- โ ุฅุฏุงุฑุฉ ุงูุจูุฑุงุช ูุงูุฅุนูุงูุงุช
- โ ุฅุฏุงุฑุฉ ุงููุงุฑูุงุช
- โ ุฅุนุฏุงุฏุงุช ุงููุธุงู
- โ ูุฑุงุฌุนุฉ ุงูุฏุนู ุงูููู

---

### 3. ๐ง ุงููููุฏุณ (Engineer)
**ุงููุตู**: ุงููููุฏุณ ุงูุฐู ูููู ุจุฎุฏูุงุช ุงูุชุฑููุจ ูุงูุตูุงูุฉ

**ุงูููุงุฉ**:
- ๐ฑ ุชุทุจูู ุงููุงุชู / ููุญุฉ ุชุญูู ูุจุณุทุฉ

**ุงููุธุงุฆู ุงูุฑุฆูุณูุฉ**:
- โ ุนุฑุถ ุงูุทูุจุงุช ุงููุฎุตุตุฉ ูู
- โ ุชุญุฏูุซ ุญุงูุฉ ุงูุฎุฏูุฉ
- โ ุฅุถุงูุฉ ููุงุญุธุงุช ูููุฉ
- โ ุฑูุน ุตูุฑ ุงูุนูู
- โ ุฅุฏุงุฑุฉ ุงูููุงุนูุฏ
- โ ุนุฑุถ ุงูููุงูุน ุนูู ุงูุฎุฑูุทุฉ

---

### 4. ๐ฌ ุงูุฏุนู ุงูููู (Support)
**ุงููุตู**: ูุฑูู ุงูุฏุนู ุงูุฐู ูุชุงุจุน ุงุณุชูุณุงุฑุงุช ุงูุนููุงุก

**ุงูููุงุฉ**:
- ๐ป ููุญุฉ ุชุญูู ุงูุฏุนู

**ุงููุธุงุฆู ุงูุฑุฆูุณูุฉ**:
- โ ุนุฑุถ ุงูุชุฐุงูุฑ
- โ ุงูุฑุฏ ุนูู ุงูุงุณุชูุณุงุฑุงุช
- โ ุชุตุนูุฏ ุงููุดุงูู
- โ ุฅุบูุงู ุงูุชุฐุงูุฑ
- โ ุฅุถุงูุฉ ููุงุญุธุงุช ุฏุงุฎููุฉ

---

## ๐ข ุงููุธุงู ุงูุฑุฆูุณู

### ูุธุงู ุชุงุฌุง ุฏูุฏู
**ุงูููุน**: ููุตุฉ ุชุฌุงุฑุฉ ุฅููุชุฑูููุฉ ูุชูุงููุฉ

**ุงูุชูููุงุช ุงูุฃุณุงุณูุฉ**:
- Backend: NestJS + TypeScript
- Frontend: React + TypeScript
- Mobile: React Native (ูุฎุทุท)
- Database: MongoDB
- Cache: Redis
- Storage: S3 / Cloudinary

**ุงููุญุฏุงุช ุงูุฑุฆูุณูุฉ**:
1. ๐๏ธ **Catalog** - ุนุฑุถ ุงูููุชุฌุงุช
2. ๐ **Cart** - ุณูุฉ ุงูุดุฑุงุก
3. ๐ณ **Checkout** - ุฅุชูุงู ุงูุทูุจ
4. ๐ฆ **Orders** - ุฅุฏุงุฑุฉ ุงูุทูุจุงุช
5. ๐ง **Services** - ุฎุฏูุงุช ุงูุชุฑููุจ
6. ๐ฌ **Support** - ุงูุฏุนู ุงูููู
7. ๐ **Analytics** - ุงูุชุญูููุงุช
8. ๐ **Auth** - ุงููุตุงุฏูุฉ ูุงูุชูููุถ
9. ๐ท๏ธ **Promotions** - ุงูุนุฑูุถ ูุงูููุจููุงุช
10. ๐ **Notifications** - ุงูุฅุดุนุงุฑุงุช

---

## ๐ ุงูุฃูุธูุฉ ุงูุฎุงุฑุฌูุฉ

### 1. ๐ณ ุจูุงุจุฉ ุงูุฏูุน (Payment Gateway)
**ุงูุบุฑุถ**: ูุนุงูุฌุฉ ุงููุฏููุนุงุช ุงูุฅููุชุฑูููุฉ

**ุงูุฎูุงุฑุงุช**:
- Stripe (ุฏููู)
- PayPal
- ุจูุงุจุฉ ูุญููุฉ (ุงูุณุนูุฏูุฉ: HyperPay, PayTabs)

**ุงูุงุชุตุงู**:
- REST API ููุจุฏุก
- Webhooks ููุชุฃููุฏ

**ุงูุจูุงูุงุช ุงููุชุจุงุฏูุฉ**:
- ูุนูููุงุช ุงูุฏูุน (ูุจูุบุ ุนููุฉ)
- ุญุงูุฉ ุงููุนุงููุฉ
- ูุนุฑู ุงููุนุงููุฉ

---

### 2. ๐ฑ ุฎุฏูุฉ SMS
**ุงูุบุฑุถ**: ุฅุฑุณุงู ุฑุณุงุฆู ูุตูุฉ

**ุงูุงุณุชุฎุฏุงูุงุช**:
- OTP ูุชุณุฌูู ุงูุฏุฎูู
- ุชุฃููุฏ ุงูุทูุจุงุช
- ุชุญุฏูุซุงุช ุญุงูุฉ ุงูุทูุจ

**ุงูุฎูุงุฑุงุช**:
- Twilio (ุฏููู)
- ุฎุฏูุฉ ูุญููุฉ

---

### 3. ๐ง ุฎุฏูุฉ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
**ุงูุบุฑุถ**: ุฅุฑุณุงู ุฑุณุงุฆู ุจุฑูุฏูุฉ

**ุงูุงุณุชุฎุฏุงูุงุช**:
- ุชุฃููุฏ ุงูุชุณุฌูู
- ุงูููุงุชูุฑ
- ุชุญุฏูุซุงุช ุงูุทูุจุงุช
- ุงูุชุณููู

**ุงูุฎูุงุฑุงุช**:
- SendGrid
- AWS SES
- Mailgun

---

### 4. ๐๏ธ ุชุฎุฒูู ุงููููุงุช
**ุงูุบุฑุถ**: ุชุฎุฒูู ุงูุตูุฑ ูุงููููุงุช

**ุงูุงุณุชุฎุฏุงูุงุช**:
- ุตูุฑ ุงูููุชุฌุงุช
- ุตูุฑ ุงูููู ุงูุดุฎุตู
- ูุฑููุงุช ุงูุฏุนู ุงูููู
- ููุงุชูุฑ PDF

**ุงูุฎูุงุฑุงุช**:
- AWS S3
- Cloudinary (ูุน ูุนุงูุฌุฉ ุงูุตูุฑ)

---

### 5. ๐บ๏ธ Google Maps
**ุงูุบุฑุถ**: ุงูุฎุฑุงุฆุท ูุงูููุงูุน

**ุงูุงุณุชุฎุฏุงูุงุช**:
- ุนุฑุถ ุงูููุงูุน
- ุญุณุงุจ ุงููุณุงูุงุช
- ุชูุฏูุฑ ุงูุดุญู
- ุชุญุฏูุฏ ูููุน ุงูุนููู

---

### 6. ๐ Firebase
**ุงูุบุฑุถ**: Push Notifications

**ุงูุงุณุชุฎุฏุงูุงุช**:
- ุฅุดุนุงุฑุงุช ุงูุทูุจุงุช (Mobile App)
- ุฅุดุนุงุฑุงุช ุงูุฏุนู
- ุฅุดุนุงุฑุงุช ุงูุนุฑูุถ

---

## ๐ ุชุฏูู ุงูุจูุงูุงุช ุงูุฑุฆูุณู

### ุณููุงุฑูู: ุนููู ูุดุชุฑู ููุชุฌ

```mermaid
sequenceDiagram
    participant C as ๐ค ุงูุนููู
    participant T as ๐ข ุชุงุฌุง ุฏูุฏู
    participant P as ๐ณ ุจูุงุจุฉ ุงูุฏูุน
    participant S as ๐ฑ SMS
    participant E as ๐ง Email

    C->>T: 1. ุชุตูุญ ุงูููุชุฌุงุช
    T->>C: ุนุฑุถ ุงูููุชุฌุงุช
    
    C->>T: 2. ุฅุถุงูุฉ ููุณูุฉ
    T->>C: ุชุฃููุฏ ุงูุฅุถุงูุฉ
    
    C->>T: 3. ุฅุชูุงู ุงูุทูุจ
    T->>P: ุทูุจ ุฏูุน
    P->>C: ุตูุญุฉ ุงูุฏูุน
    
    C->>P: 4. ุงูุฏูุน
    P->>T: ุชุฃููุฏ ุงูุฏูุน (Webhook)
    
    T->>S: 5. ุฅุฑุณุงู SMS ุชุฃููุฏ
    T->>E: 6. ุฅุฑุณุงู Email ูุงุชูุฑุฉ
    
    S->>C: SMS ูุณุชูู
    E->>C: Email ูุณุชูู
    
    T->>C: 7. ุนุฑุถ ุชูุงุตูู ุงูุทูุจ
```

---

## ๐ ุงูุฅุญุตุงุฆูุงุช ุงููุชููุนุฉ

### ุงููุณุชุฎุฏููู ุงููุชููุนูู:
- **ุงูุนููุงุก**: 10,000 - 100,000 ูุณุชุฎุฏู
- **ุงููุฏูุฑูู**: 5-20 ูุณุชุฎุฏู
- **ุงููููุฏุณูู**: 10-50 ูููุฏุณ
- **ุงูุฏุนู ุงูููู**: 5-15 ููุธู

### ุงูุงุณุชุฎุฏุงู ุงููุชููุน:
- **ุงูุทูุจุงุช**: 100-1000 ุทูุจ ููููุงู
- **ุงููุดุงูุฏุงุช**: 10,000-100,000 ุตูุญุฉ ููููุงู
- **ุงูุฅุดุนุงุฑุงุช**: 1,000-10,000 ุฅุดุนุงุฑ ููููุงู

---

## ๐ ุงุนุชุจุงุฑุงุช ุงูุฃูุงู

### 1. ุงููุตุงุฏูุฉ
- JWT Tokens
- Refresh Tokens
- OTP ูููุงุชู
- Password Hashing (bcrypt)

### 2. ุงูุชูููุถ
- Role-Based Access Control (RBAC)
- ุตูุงุญูุงุช ุฏูููุฉ (Permissions)

### 3. ุญูุงูุฉ API
- Rate Limiting
- CORS Configuration
- Helmet Security Headers
- Input Validation
- SQL Injection Protection

### 4. ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ
- ุชุดููุฑ ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ
- PCI Compliance ููุฏูุน
- GDPR Compliance

---

## ๐ ุงุนุชุจุงุฑุงุช ุงูุชูุณุน

### 1. Horizontal Scaling
- ุงุณุชุฎุฏุงู Load Balancer
- Docker Containers
- Kubernetes (ูุณุชูุจูุงู)

### 2. Database Scaling
- MongoDB Sharding
- Read Replicas
- Database Indexing

### 3. Caching Strategy
- Redis ููุฌูุณุงุช
- Cache ููููุชุฌุงุช
- CDN ููุตูุฑ

### 4. Performance
- Image Optimization
- API Response Compression
- Database Query Optimization
- Lazy Loading

---

## ๐ ููุงุญุธุงุช

1. **Multi-language**: ุงููุธุงู ูุฏุนู ุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ (RTL/LTR)
2. **Mobile-First**: ุงูุชุตููู ูุฑูุฒ ุนูู ุชุฌุฑุจุฉ ุงููุงุชู
3. **Real-time**: ุจุนุถ ุงูููุฒุงุช ุชุชุทูุจ ุชุญุฏูุซุงุช ููุฑูุฉ (WebSockets)
4. **Offline**: ุงูุชุทุจูู ูุฌุจ ุฃู ูุนูู ุฌุฒุฆูุงู ุจุฏูู ุฅูุชุฑูุช

---

**ุงูุชุงูู**: [Level 2 - Container Diagram โ](./02-container-diagram.md)

