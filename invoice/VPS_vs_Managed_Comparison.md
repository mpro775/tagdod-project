# مقارنة تشغيلية ومالية: VPS مُدار ذاتيًا مقابل Stack مُدار (Render + MongoDB Atlas + Bunny + Grafana)
تاريخ الوثيقة: 2025-10-21 20:09 UTC

> ملف عملي ومحايد لعرض الخيارين على العميل عند مرحلة النشر.

## 1) الملخص التنفيذي (TL;DR)
- **VPS**: كلفة بنية أقل. تحكم كامل. يتطلب انضباط صيانة ونسخ ومراقبة من فريقك.
- **Stack مُدار**: كلفة خدمة أعلى. يقلّل ساعات التشغيل ويعطي Autoscaling وامتثال جاهز.

**نتائج بالأرقام وفق افتراضات واقعية:**  
- VPS: **Infra ≈ 49.0$** | **TCO مع صيانة 50$ ≈ 99.0$**  
- Managed Flex: **Infra ≈ 94.0–116.0$** | **TCO ≈ 144.0–166.0$**  
- Managed Dedicated (~M10): **Infra ≈ 143.6$** | **TCO ≈ 193.6$**

> الأرقام افتراضية لأغراض المقارنة. حدّثها لاحقًا بأحجامك الفعلية.

---

## 2) نطاق المقارنة والافتراضات
- حركة CDN في MEA: **200GB** شهريًا، تخزين Bunny: **50GB**، بلا Optimizer.
- Render: **Professional** بعدد مقعدين، خدمة Web **Standard (25$)**، Key-Value **Starter (10$)**، بلا تجاوز باندويث.
- Atlas: **Flex 8–30$**، وبديل **Dedicated~M10 ≈ 0.08$/ساعة**.
- Grafana: الخطة المجانية ضمن الحدود.
- VPS: **30$** شهريًا + نسخ أسبوعية **20%**.
- عقد صيانة خارجي ثابت: **50$** شهريًا لكلا الخيارين.

---

## 3) تفكيك التكلفة الشهرية

### 3.1 VPS (بنية وخدمات)
| البند | التكلفة (USD) |
|---|---:|
| VPS أساسي | 30.00 |
| نسخ أسبوعية (20%) | 6.00 |
| مراقبة خارجية | 0.00 |
| نسخ خارجية (اختياري) | 0.00 |
| Bunny CDN | 12.00 |
| Bunny Storage | 1.00 |
| Bunny Optimizer | 0.00 |
| **الإجمالي Infra** | **49.00** |
| عقد الصيانة | 50.00 |
| **TCO شهري** | **99.00** |

### 3.2 Stack مُدار (Render + Atlas + Bunny + Grafana)
| البند | Flex (min) | Flex (max) | Dedicated (~M10) |
|---|---:|---:|---:|
| Render Seats (2×19$) | 38.00 | 38.00 | 38.00 |
| Render Web Standard | 25.00 | 25.00 | 25.00 |
| Render Key-Value | 10.00 | 10.00 | 10.00 |
| Render Bandwidth Overage | 0.00 | 0.00 | 0.00 |
| Bunny CDN | 12.00 | 12.00 | 12.00 |
| Bunny Storage | 1.00 | 1.00 | 1.00 |
| Bunny Optimizer | 0.00 | 0.00 | 0.00 |
| MongoDB Atlas | 8.00 | 30.00 | 57.60 |
| Grafana (Free Base) | 0.00 | 0.00 | 0.00 |
| **الإجمالي Infra** | **94.00** | **116.00** | **143.60** |

> ملاحظة: تمرير الستاتيك عبر Bunny يقلّل خروج البيانات من Render ويجنبك أوزون الباندويث هناك.

---

## 4) معادلة TCO المبسّطة
**TCO شهري = تكلفة البنية والخدمات + صيانة/تشغيل شهري (عقد ثابت أو ساعات فريق)**  
استخدم هذه المعادلة لتحديث القرار كل ربع سنة.

---

## 5) مسؤوليات التشغيل والأمن
- **VPS**: تحديثات نظام، جدار ناري، تقوية SSH، إدارة SSL، سياسة نسخ واختبارات استعادة، مراقبة وتنبيهات، تخطيط RPO/RTO، ترقية موارد، إعداد HA/Load Balancer يدويًا.
- **Stack مُدار**: إدارة بنية التطبيق وقاعدة البيانات والامتثال والنسخ المدمجة، Autoscaling، لوحات جاهزة. يبقى عليك حوكمة الوصول، سرية المفاتيح، مراجعة السجلات، اختبارات الاستعادة.

---

## 6) الاعتمادية وSLA
- **VPS**: يعتمد على مزودك وسياسة نسخك وتكرار العقد لديك. يمكن الوصول إلى 99.9–99.99% إذا بنيت HA بشكل صحيح.
- **Stack مُدار**: توفر منصّات مثل Render/Atlas/Grafana SLAs وخيارات دعم. سهولة توسع أفقي وتوزيع أحمال.

---

## 7) السِّكالنج
- **VPS**: عموديًا بترقية الخادم. أفقيًا عبر Nginx/HAProxy + صور تطبيق متعددة + أي Orchestrator.
- **Stack مُدار**: Autoscaling للخدمات، قواعد بيانات مُدارة، وقابلية إضافة نسخ بسهولة.

---

## 8) النسخ الاحتياطي والاستعادة
- **VPS**: يبنى حسب اختيارك (Snapshots + Offsite + جداول اختبار استعادة).
- **Atlas**: نسخ مُدارة وخيارات أرشفة Online. يجب جدولة اختبارات استعادة دورية.

---

## 9) المراقبة والملاحظة
- **VPS**: Prometheus + Loki + Grafana ذاتيًا، أو خدمات طرف ثالث.
- **Stack مُدار**: Grafana Cloud مجاني بحدود، أو Pro مع تسعير حسب الاستخدام.

---

## 10) الأمان والامتثال
- **VPS**: أنت تبني سياسات الوصول، التشفير، تدوير الأسرار، سجلات監 audit، التوافقات إن لزم (PCI، SOC2...).
- **Stack مُدار**: شهادات وامتثال جاهز يقلّل عبءك، مع ضرورة ضبط IAM والـSecrets.

---

## 11) الأداء والشبكات/CDN
- استخدم **Bunny CDN** وتخزينه لتسليم الأصول عالميًا بتكلفة منخفضة.
- ضع قواعد Cache صارمة وتقليل خروج البيانات من خادم التطبيق.

---

## 12) المخاطر
- **VPS**: يعتمد النجاح على صرامة الـSRE. خطر أعطال أطول إن غابت الأتمتة.
- **Stack مُدار**: تبعية لمزوّد الخدمة. تكلفة أعلى عند نمو كبير. حدود خطط تحتاج متابعة.

---

## 13) مصفوفة قرار مختصرة
| معيار | VPS | Stack مُدار |
|---|---|---|
| الكلفة النقدية المبدئية | أقل | أعلى |
| زمن الإطلاق | أطول | أسرع |
| عبء التشغيل | أعلى | أقل |
| الامتثال الجاهز | أقل | أعلى |
| التحكم العميق | أعلى | أقل |
| سهولة التوسع | يتطلب أتمتة | جاهز |
| ملاءمة MVP | نعم إذا لديك DevOps | نعم لمن يريد سرعة |

---

## 14) روابط التسعير الرسمية (للتحديث الدوري)
- Render: https://render.com/pricing
- MongoDB Atlas: https://www.mongodb.com/pricing
- Bunny CDN/Storage/Optimizer: https://bunny.net/pricing
- Grafana Cloud: https://grafana.com/pricing

> حدّث الأرقام ربع سنويًا من هذه الصفحات قبل أي عرض جديد.

